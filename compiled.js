/*
: http://creativecommons.org/publicdomain/zero/1.0/
 https://mths.be/punycode v1.4.1 by @mathias  pixi-particles - v3.0.0
 Compiled Mon, 12 Feb 2018 04:21:37 UTC

 pixi-particles is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(c){var k=function(){};k.prototype=c;return new k};$jscomp.underscoreProtoCanBeSet=function(){var c={a:!0},k={};try{return k.__proto__=c,k.a}catch(h){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(c,k){c.__proto__=k;if(c.__proto__!==k)throw new TypeError(c+" is not extensible");return c}:null;
$jscomp.inherits=function(c,k){c.prototype=$jscomp.objectCreate(k.prototype);c.prototype.constructor=c;if($jscomp.setPrototypeOf){var h=$jscomp.setPrototypeOf;h(c,k)}else for(h in k)if("prototype"!=h)if(Object.defineProperties){var g=Object.getOwnPropertyDescriptor(k,h);g&&Object.defineProperty(c,h,g)}else c[h]=k[h];c.superClass_=k.prototype};
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,k,h){c!=Array.prototype&&c!=Object.prototype&&(c[k]=h.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var c=0;return function(k){return $jscomp.SYMBOL_PREFIX+(k||"")+c++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.asyncIterator;c||(c=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.arrayIterator=function(c){var k=0;return $jscomp.iteratorPrototype(function(){return k<c.length?{done:!1,value:c[k++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,k){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var h=0,g={next:function(){if(h<c.length){var p=h++;return{value:k(p,c[p]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g};
$jscomp.polyfill=function(c,k,h,g){if(k){h=$jscomp.global;c=c.split(".");for(g=0;g<c.length-1;g++){var p=c[g];p in h||(h[p]={});h=h[p]}c=c[c.length-1];g=h[c];k=k(g);k!=g&&null!=k&&$jscomp.defineProperty(h,c,{configurable:!0,writable:!0,value:k})}};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6","es3");$jscomp.polyfill("Object.getOwnPropertySymbols",function(c){return c?c:function(){return[]}},"es6","es5");
$jscomp.owns=function(c,k){return Object.prototype.hasOwnProperty.call(c,k)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(c,k){for(var h=1;h<arguments.length;h++){var g=arguments[h];if(g)for(var p in g)$jscomp.owns(g,p)&&(c[p]=g[p])}return c};$jscomp.polyfill("Object.assign",function(c){return c||$jscomp.assign},"es6","es3");$jscomp.polyfill("Object.setPrototypeOf",function(c){return c||$jscomp.setPrototypeOf},"es6","es5");
$jscomp.polyfill("Array.prototype.fill",function(c){return c?c:function(c,h,g){var p=this.length||0;0>h&&(h=Math.max(0,p+h));if(null==g||g>p)g=p;g=Number(g);0>g&&(g=Math.max(0,p+g));for(h=Number(h||0);h<g;h++)this[h]=c;return this}},"es6","es3");$jscomp.polyfill("Math.sign",function(c){return c?c:function(c){c=Number(c);return 0===c||isNaN(c)?c:0<c?1:-1}},"es6","es3");
$jscomp.polyfill("Number.isFinite",function(c){return c?c:function(c){return"number"!==typeof c?!1:!isNaN(c)&&Infinity!==c&&-Infinity!==c}},"es6","es3");$jscomp.polyfill("Number.isInteger",function(c){return c?c:function(c){return Number.isFinite(c)?c===Math.floor(c):!1}},"es6","es3");
(function(){function c(k,h,g){function p(b,a){if(!h[b]){if(!k[b]){var f="function"==typeof require&&require;if(!a&&f)return f(b,!0);if(d)return d(b,!0);a=Error("Cannot find module '"+b+"'");throw a.code="MODULE_NOT_FOUND",a;}a=h[b]={exports:{}};k[b][0].call(a.exports,function(a){return p(k[b][1][a]||a)},a,a.exports,c,k,h,g)}return h[b].exports}for(var d="function"==typeof require&&require,e=0;e<g.length;e++)p(g[e]);return p}return c})()({1:[function(c,k,h){(function(c){function p(b,a){for(var f=0,
d=b.length-1;0<=d;d--){var e=b[d];"."===e?b.splice(d,1):".."===e?(b.splice(d,1),f++):f&&(b.splice(d,1),f--)}if(a)for(;f--;f)b.unshift("..");return b}function d(b,a){if(b.filter)return b.filter(a);for(var f=[],d=0;d<b.length;d++)a(b[d],d,b)&&f.push(b[d]);return f}h.resolve=function(){for(var b="",a=!1,f=arguments.length-1;-1<=f&&!a;f--){var e=0<=f?arguments[f]:c.cwd();if("string"!==typeof e)throw new TypeError("Arguments to path.resolve must be strings");e&&(b=e+"/"+b,a="/"===e.charAt(0))}b=p(d(b.split("/"),
function(a){return!!a}),!a).join("/");return(a?"/":"")+b||"."};h.normalize=function(b){var a=h.isAbsolute(b),f="/"===e(b,-1);(b=p(d(b.split("/"),function(a){return!!a}),!a).join("/"))||a||(b=".");b&&f&&(b+="/");return(a?"/":"")+b};h.isAbsolute=function(b){return"/"===b.charAt(0)};h.join=function(){var b=Array.prototype.slice.call(arguments,0);return h.normalize(d(b,function(a,b){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))};h.relative=
function(b,a){function f(a){for(var b=0;b<a.length&&""===a[b];b++);for(var f=a.length-1;0<=f&&""===a[f];f--);return b>f?[]:a.slice(b,f-b+1)}b=h.resolve(b).substr(1);a=h.resolve(a).substr(1);b=f(b.split("/"));a=f(a.split("/"));for(var d=Math.min(b.length,a.length),e=d,m=0;m<d;m++)if(b[m]!==a[m]){e=m;break}d=[];for(m=e;m<b.length;m++)d.push("..");d=d.concat(a.slice(e));return d.join("/")};h.sep="/";h.delimiter=":";h.dirname=function(b){"string"!==typeof b&&(b+="");if(0===b.length)return".";for(var a=
b.charCodeAt(0),f=47===a,d=-1,e=!0,m=b.length-1;1<=m;--m)if(a=b.charCodeAt(m),47===a){if(!e){d=m;break}}else e=!1;return-1===d?f?"/":".":f&&1===d?"/":b.slice(0,d)};h.basename=function(b,a){"string"!==typeof b&&(b+="");var f=0,d=-1,e=!0,m;for(m=b.length-1;0<=m;--m)if(47===b.charCodeAt(m)){if(!e){f=m+1;break}}else-1===d&&(e=!1,d=m+1);b=-1===d?"":b.slice(f,d);a&&b.substr(-1*a.length)===a&&(b=b.substr(0,b.length-a.length));return b};h.extname=function(b){"string"!==typeof b&&(b+="");for(var a=-1,f=0,
d=-1,e=!0,m=0,q=b.length-1;0<=q;--q){var c=b.charCodeAt(q);if(47===c){if(!e){f=q+1;break}}else-1===d&&(e=!1,d=q+1),46===c?-1===a?a=q:1!==m&&(m=1):-1!==a&&(m=-1)}return-1===a||-1===d||0===m||1===m&&a===d-1&&a===f+1?"":b.slice(a,d)};var e="b"==="ab".substr(-1)?function(b,a,f){return b.substr(a,f)}:function(b,a,f){0>a&&(a=b.length+a);return b.substr(a,f)}}).call(this,c("_process"))},{_process:2}],2:[function(c,k,h){function g(){throw Error("setTimeout has not been defined");}function p(){throw Error("clearTimeout has not been defined");
}function d(a){if(r===setTimeout)return setTimeout(a,0);if((r===g||!r)&&setTimeout)return r=setTimeout,setTimeout(a,0);try{return r(a,0)}catch(t){try{return r.call(null,a,0)}catch(x){return r.call(this,a,0)}}}function e(a){if(m===clearTimeout)return clearTimeout(a);if((m===p||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(t){try{return m.call(null,a)}catch(x){return m.call(this,a)}}}function b(){y&&v&&(y=!1,v.length?q=v.concat(q):u=-1,q.length&&a())}function a(){if(!y){var a=
d(b);y=!0;for(var f=q.length;f;){v=q;for(q=[];++u<f;)v&&v[u].run();u=-1;f=q.length}v=null;y=!1;e(a)}}function f(a,b){this.fun=a;this.array=b}function l(){}c=k.exports={};try{var r="function"===typeof setTimeout?setTimeout:g}catch(A){r=g}try{var m="function"===typeof clearTimeout?clearTimeout:p}catch(A){m=p}var q=[],y=!1,v,u=-1;c.nextTick=function(b){var e=Array(arguments.length-1);if(1<arguments.length)for(var l=1;l<arguments.length;l++)e[l-1]=arguments[l];q.push(new f(b,e));1!==q.length||y||d(a)};
f.prototype.run=function(){this.fun.apply(null,this.array)};c.title="browser";c.browser=!0;c.env={};c.argv=[];c.version="";c.versions={};c.on=l;c.addListener=l;c.once=l;c.off=l;c.removeListener=l;c.removeAllListeners=l;c.emit=l;c.prependListener=l;c.prependOnceListener=l;c.listeners=function(a){return[]};c.binding=function(a){throw Error("process.binding is not supported");};c.cwd=function(){return"/"};c.chdir=function(a){throw Error("process.chdir is not supported");};c.umask=function(){return 0}},
{}],3:[function(c,k,h){(function(c){(function(p){function d(a){throw new RangeError(z[a]);}function e(a,b){for(var f=a.length,d=[];f--;)d[f]=b(a[f]);return d}function b(a,b){var f=a.split("@"),d="";1<f.length&&(d=f[0]+"@",a=f[1]);a=a.replace(x,".");a=a.split(".");b=e(a,b).join(".");return d+b}function a(a){for(var b=[],f=0,d=a.length,e,l;f<d;)e=a.charCodeAt(f++),55296<=e&&56319>=e&&f<d?(l=a.charCodeAt(f++),56320==(l&64512)?b.push(((e&1023)<<10)+(l&1023)+65536):(b.push(e),f--)):b.push(e);return b}
function f(a){return e(a,function(a){var b="";65535<a&&(a-=65536,b+=D(a>>>10&1023|55296),a=56320|a&1023);return b+=D(a)}).join("")}function l(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function r(a,b,f){var d=0;a=f?B(a/700):a>>1;for(a+=B(a/b);455<a;d+=36)a=B(a/35);return B(d+36*a/(a+38))}function m(a){var b=[],e=a.length,l=0,m=128,q=72,c,p;var y=a.lastIndexOf("-");0>y&&(y=0);for(c=0;c<y;++c)128<=a.charCodeAt(c)&&d("not-basic"),b.push(a.charCodeAt(c));for(y=0<y?y+1:0;y<e;){c=l;var g=1;for(p=36;;p+=36){y>=
e&&d("invalid-input");var v=a.charCodeAt(y++);v=10>v-48?v-22:26>v-65?v-65:26>v-97?v-97:36;(36<=v||v>B((2147483647-l)/g))&&d("overflow");l+=v*g;var h=p<=q?1:p>=q+26?26:p-q;if(v<h)break;v=36-h;g>B(2147483647/v)&&d("overflow");g*=v}g=b.length+1;q=r(l-c,g,0==c);B(l/g)>2147483647-m&&d("overflow");m+=B(l/g);l%=g;b.splice(l++,0,m)}return f(b)}function q(b){var f,e,m,q=[];b=a(b);var c=b.length;var p=128;var y=0;var g=72;for(m=0;m<c;++m){var v=b[m];128>v&&q.push(D(v))}for((f=e=q.length)&&q.push("-");f<c;){var h=
2147483647;for(m=0;m<c;++m)v=b[m],v>=p&&v<h&&(h=v);var u=f+1;h-p>B((2147483647-y)/u)&&d("overflow");y+=(h-p)*u;p=h;for(m=0;m<c;++m)if(v=b[m],v<p&&2147483647<++y&&d("overflow"),v==p){var C=y;for(h=36;;h+=36){v=h<=g?1:h>=g+26?26:h-g;if(C<v)break;var x=C-v;C=36-v;q.push(D(l(v+x%C,0)));C=B(x/C)}q.push(D(l(C,0)));g=r(y,u,f==e);y=0;++f}++y;++p}return q.join("")}var y="object"==typeof h&&h&&!h.nodeType&&h,g="object"==typeof k&&k&&!k.nodeType&&k,u="object"==typeof c&&c;if(u.global===u||u.window===u||u.self===
u)p=u;var A=/^xn--/,t=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=Math.floor,D=String.fromCharCode,C;var H={version:"1.4.1",ucs2:{decode:a,encode:f},decode:m,encode:q,toASCII:function(a){return b(a,function(a){return t.test(a)?"xn--"+q(a):a})},toUnicode:function(a){return b(a,function(a){return A.test(a)?m(a.slice(4).toLowerCase()):a})}};if("function"==
typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return H});else if(y&&g)if(k.exports==y)g.exports=H;else for(C in H)H.hasOwnProperty(C)&&(y[C]=H[C]);else p.punycode=H})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],4:[function(c,k,h){k.exports=function(c,d,e,b){e=e||"=";var a={};if("string"!==typeof c||0===c.length)return a;var f=/\+/g;c=c.split(d||"&");d=1E3;b&&"number"===typeof b.maxKeys&&
(d=b.maxKeys);b=c.length;0<d&&b>d&&(b=d);for(d=0;d<b;++d){var l=c[d].replace(f,"%20"),r=l.indexOf(e);if(0<=r){var m=l.substr(0,r);l=l.substr(r+1)}else m=l,l="";m=decodeURIComponent(m);l=decodeURIComponent(l);Object.prototype.hasOwnProperty.call(a,m)?g(a[m])?a[m].push(l):a[m]=[a[m],l]:a[m]=l}return a};var g=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)}},{}],5:[function(c,k,h){function g(b,a){if(b.map)return b.map(a);for(var f=[],d=0;d<b.length;d++)f.push(a(b[d],
d));return f}var p=function(b){switch(typeof b){case "string":return b;case "boolean":return b?"true":"false";case "number":return isFinite(b)?b:"";default:return""}};k.exports=function(b,a,f,l){a=a||"&";f=f||"=";null===b&&(b=void 0);return"object"===typeof b?g(e(b),function(e){var l=encodeURIComponent(p(e))+f;return d(b[e])?g(b[e],function(a){return l+encodeURIComponent(p(a))}).join(a):l+encodeURIComponent(p(b[e]))}).join(a):l?encodeURIComponent(p(l))+f+encodeURIComponent(p(b)):""};var d=Array.isArray||
function(b){return"[object Array]"===Object.prototype.toString.call(b)},e=Object.keys||function(b){var a=[],f;for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&a.push(f);return a}},{}],6:[function(c,k,h){h.decode=h.parse=c("./decode");h.encode=h.stringify=c("./encode")},{"./decode":4,"./encode":5}],7:[function(c,k,h){function g(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function p(a,b,f){if(a&&
e.isObject(a)&&a instanceof g)return a;var d=new g;d.parse(a,b,f);return d}var d=c("punycode"),e=c("./util");h.parse=p;h.resolve=function(a,b){return p(a,!1,!0).resolve(b)};h.resolveObject=function(a,b){return a?p(a,!1,!0).resolveObject(b):b};h.format=function(a){e.isString(a)&&(a=p(a));return a instanceof g?a.format():g.prototype.format.call(a)};h.Url=g;var b=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;k="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var l=["'"].concat(k),
r=["%","/","?",";","#"].concat(l),m=["/","?","#"],q=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},u={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},t=c("querystring");g.prototype.parse=function(a,c,p){if(!e.isString(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var g=a.indexOf("?");g=-1!==g&&g<a.indexOf("#")?"?":"#";a=a.split(g);a[0]=a[0].replace(/\\/g,
"/");a=a.join(g);g=a.trim();if(!p&&1===a.split("#").length&&(a=f.exec(g)))return this.href=this.path=g,this.pathname=a[1],a[2]?(this.search=a[2],this.query=c?t.parse(this.search.substr(1)):this.search.substr(1)):c&&(this.search="",this.query={}),this;if(a=b.exec(g)){a=a[0];var h=a.toLowerCase();this.protocol=h;g=g.substr(a.length)}if(p||a||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===g.substr(0,2);!x||a&&u[a]||(g=g.substr(2),this.slashes=!0)}if(!u[a]&&(x||a&&!A[a])){x=-1;for(p=0;p<m.length;p++)a=
g.indexOf(m[p]),-1!==a&&(-1===x||a<x)&&(x=a);x=-1===x?g.lastIndexOf("@"):g.lastIndexOf("@",x);-1!==x&&(p=g.slice(0,x),g=g.slice(x+1),this.auth=decodeURIComponent(p));x=-1;for(p=0;p<r.length;p++)a=g.indexOf(r[p]),-1!==a&&(-1===x||a<x)&&(x=a);-1===x&&(x=g.length);this.host=g.slice(0,x);g=g.slice(x);this.parseHost();this.hostname=this.hostname||"";x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x){var k=this.hostname.split(/\./);p=0;for(a=k.length;p<a;p++){var z=k[p];if(z&&
!z.match(q)){for(var B="",I=0,O=z.length;I<O;I++)B=127<z.charCodeAt(I)?B+"x":B+z[I];if(!B.match(q)){a=k.slice(0,p);p=k.slice(p+1);if(z=z.match(y))a.push(z[1]),p.unshift(z[2]);p.length&&(g="/"+p.join(".")+g);this.hostname=a.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();x||(this.hostname=d.toASCII(this.hostname));p=this.port?":"+this.port:"";this.host=(this.hostname||"")+p;this.href+=this.host;x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),
"/"!==g[0]&&(g="/"+g))}if(!v[h])for(p=0,a=l.length;p<a;p++)x=l[p],-1!==g.indexOf(x)&&(z=encodeURIComponent(x),z===x&&(z=escape(x)),g=g.split(x).join(z));p=g.indexOf("#");-1!==p&&(this.hash=g.substr(p),g=g.slice(0,p));p=g.indexOf("?");-1!==p?(this.search=g.substr(p),this.query=g.substr(p+1),c&&(this.query=t.parse(this.query)),g=g.slice(0,p)):c&&(this.search="",this.query={});g&&(this.pathname=g);A[h]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)p=this.pathname||
"",this.path=p+(this.search||"");this.href=this.format();return this};g.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",f=this.pathname||"",d=this.hash||"",l=!1,m="";this.host?l=a+this.host:this.hostname&&(l=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(l+=":"+this.port));this.query&&e.isObject(this.query)&&Object.keys(this.query).length&&(m=t.stringify(this.query));a=this.search||
m&&"?"+m||"";b&&":"!==b.substr(-1)&&(b+=":");this.slashes||(!b||A[b])&&!1!==l?(l="//"+(l||""),f&&"/"!==f.charAt(0)&&(f="/"+f)):l||(l="");d&&"#"!==d.charAt(0)&&(d="#"+d);a&&"?"!==a.charAt(0)&&(a="?"+a);f=f.replace(/[?#]/g,function(a){return encodeURIComponent(a)});a=a.replace("#","%23");return b+l+f+a+d};g.prototype.resolve=function(a){return this.resolveObject(p(a,!1,!0)).format()};g.prototype.resolveObject=function(a){if(e.isString(a)){var b=new g;b.parse(a,!1,!0);a=b}b=new g;for(var f=Object.keys(this),
d=0;d<f.length;d++){var l=f[d];b[l]=this[l]}b.hash=a.hash;if(""===a.href)return b.href=b.format(),b;if(a.slashes&&!a.protocol){f=Object.keys(a);for(d=0;d<f.length;d++)l=f[d],"protocol"!==l&&(b[l]=a[l]);A[b.protocol]&&b.hostname&&!b.pathname&&(b.path=b.pathname="/");b.href=b.format();return b}if(a.protocol&&a.protocol!==b.protocol){if(!A[a.protocol]){f=Object.keys(a);for(d=0;d<f.length;d++)l=f[d],b[l]=a[l];b.href=b.format();return b}b.protocol=a.protocol;if(a.host||u[a.protocol])b.pathname=a.pathname;
else{for(var m=(a.pathname||"").split("/");m.length&&!(a.host=m.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==m[0]&&m.unshift("");2>m.length&&m.unshift("");b.pathname=m.join("/")}b.search=a.search;b.query=a.query;b.host=a.host||"";b.auth=a.auth;b.hostname=a.hostname||a.host;b.port=a.port;if(b.pathname||b.search)b.path=(b.pathname||"")+(b.search||"");b.slashes=b.slashes||a.slashes;b.href=b.format();return b}f=b.pathname&&"/"===b.pathname.charAt(0);var q=a.host||a.pathname&&"/"===
a.pathname.charAt(0),c=f=q||f||b.host&&a.pathname;d=b.pathname&&b.pathname.split("/")||[];m=a.pathname&&a.pathname.split("/")||[];if(l=b.protocol&&!A[b.protocol])b.hostname="",b.port=null,b.host&&(""===d[0]?d[0]=b.host:d.unshift(b.host)),b.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===m[0]?m[0]=a.host:m.unshift(a.host)),a.host=null),f=f&&(""===m[0]||""===d[0]);if(q)b.host=a.host||""===a.host?a.host:b.host,b.hostname=a.hostname||""===a.hostname?a.hostname:b.hostname,b.search=a.search,
b.query=a.query,d=m;else if(m.length)d||(d=[]),d.pop(),d=d.concat(m),b.search=a.search,b.query=a.query;else if(!e.isNullOrUndefined(a.search))return l&&(b.hostname=b.host=d.shift(),l=b.host&&0<b.host.indexOf("@")?b.host.split("@"):!1)&&(b.auth=l.shift(),b.host=b.hostname=l.shift()),b.search=a.search,b.query=a.query,e.isNull(b.pathname)&&e.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.href=b.format(),b;if(!d.length)return b.pathname=null,b.path=b.search?"/"+b.search:
null,b.href=b.format(),b;q=d.slice(-1)[0];m=(b.host||a.host||1<d.length)&&("."===q||".."===q)||""===q;for(var r=0,p=d.length;0<=p;p--)q=d[p],"."===q?d.splice(p,1):".."===q?(d.splice(p,1),r++):r&&(d.splice(p,1),r--);if(!f&&!c)for(;r--;r)d.unshift("..");!f||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift("");m&&"/"!==d.join("/").substr(-1)&&d.push("");c=""===d[0]||d[0]&&"/"===d[0].charAt(0);l&&(b.hostname=b.host=c?"":d.length?d.shift():"",l=b.host&&0<b.host.indexOf("@")?b.host.split("@"):!1)&&(b.auth=
l.shift(),b.host=b.hostname=l.shift());(f=f||b.host&&d.length)&&!c&&d.unshift("");d.length?b.pathname=d.join("/"):(b.pathname=null,b.path=null);e.isNull(b.pathname)&&e.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:""));b.auth=a.auth||b.auth;b.slashes=b.slashes||a.slashes;b.href=b.format();return b};g.prototype.parseHost=function(){var b=this.host,f=a.exec(b);f&&(f=f[0],":"!==f&&(this.port=f.substr(1)),b=b.substr(0,b.length-f.length));b&&(this.hostname=b)}},{"./util":8,punycode:3,
querystring:6}],8:[function(c,k,h){k.exports={isString:function(c){return"string"===typeof c},isObject:function(c){return"object"===typeof c&&null!==c},isNull:function(c){return null===c},isNullOrUndefined:function(c){return null==c}}},{}],9:[function(c,k,h){function g(d){var e=32;(d&=-d)&&e--;d&65535&&(e-=16);d&16711935&&(e-=8);d&252645135&&(e-=4);d&858993459&&(e-=2);d&1431655765&&--e;return e}"use restrict";h.INT_BITS=32;h.INT_MAX=2147483647;h.INT_MIN=-2147483648;h.sign=function(d){return(0<d)-
(0>d)};h.abs=function(d){var e=d>>31;return(d^e)-e};h.min=function(d,e){return e^(d^e)&-(d<e)};h.max=function(d,e){return d^(d^e)&-(d<e)};h.isPow2=function(d){return!(d&d-1)&&!!d};h.log2=function(d){var e=(65535<d)<<4;d>>>=e;var b=(255<d)<<3;d>>>=b;e|=b;b=(15<d)<<2;d>>>=b;e|=b;b=(3<d)<<1;return e|b|d>>>b>>1};h.log10=function(d){return 1E9<=d?9:1E8<=d?8:1E7<=d?7:1E6<=d?6:1E5<=d?5:1E4<=d?4:1E3<=d?3:100<=d?2:10<=d?1:0};h.popCount=function(d){d-=d>>>1&1431655765;d=(d&858993459)+(d>>>2&858993459);return 16843009*
(d+(d>>>4)&252645135)>>>24};h.countTrailingZeros=g;h.nextPow2=function(d){d+=0===d;--d;d|=d>>>1;d|=d>>>2;d|=d>>>4;d|=d>>>8;return(d|d>>>16)+1};h.prevPow2=function(d){d|=d>>>1;d|=d>>>2;d|=d>>>4;d|=d>>>8;d|=d>>>16;return d-(d>>>1)};h.parity=function(d){d^=d>>>16;d^=d>>>8;return 27030>>>((d^d>>>4)&15)&1};var p=Array(256);(function(d){for(var e=0;256>e;++e){var b=e,a=e,f=7;for(b>>>=1;b;b>>>=1)a<<=1,a|=b&1,--f;d[e]=a<<f&255}})(p);h.reverse=function(d){return p[d&255]<<24|p[d>>>8&255]<<16|p[d>>>16&255]<<
8|p[d>>>24&255]};h.interleave2=function(d,e){d&=65535;d=(d|d<<8)&16711935;d=(d|d<<4)&252645135;d=(d|d<<2)&858993459;e&=65535;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;return(d|d<<1)&1431655765|((e|e<<1)&1431655765)<<1};h.deinterleave2=function(d,e){d=d>>>e&1431655765;d=(d|d>>>1)&858993459;d=(d|d>>>2)&252645135;d=(d|d>>>4)&16711935;return((d|d>>>16)&65535)<<16>>16};h.interleave3=function(d,e,b){d&=1023;d=(d|d<<16)&4278190335;d=(d|d<<8)&251719695;d=(d|d<<4)&3272356035;e&=1023;e=
(e|e<<16)&4278190335;e=(e|e<<8)&251719695;e=(e|e<<4)&3272356035;b&=1023;b=(b|b<<16)&4278190335;b=(b|b<<8)&251719695;b=(b|b<<4)&3272356035;return(d|d<<2)&1227133513|((e|e<<2)&1227133513)<<1|((b|b<<2)&1227133513)<<2};h.deinterleave3=function(d,e){d=d>>>e&1227133513;d=(d|d>>>2)&3272356035;d=(d|d>>>4)&251719695;d=(d|d>>>8)&4278190335;return((d|d>>>16)&1023)<<22>>22};h.nextCombination=function(d){var e=d|d-1;return e+1|(~e&-~e)-1>>>g(d)+1}},{}],10:[function(c,k,h){function g(b,l,m){m=m||2;var q=l&&l.length,
c=q?l[0]*m:b.length,y=p(b,0,c,m,!0),g=[];if(!y)return g;var v;if(q){var h=m;q=[];var u;var C=0;for(u=l.length;C<u;C++){var t=l[C]*h;var x=C<u-1?l[C+1]*h:b.length;t=p(b,t,x,h,!1);t===t.next&&(t.steiner=!0);q.push(r(t))}q.sort(a);for(C=0;C<q.length;C++){l=q[C];h=y;if(h=f(l,h))l=A(h,l),d(l,l.next);y=d(y,y.next)}}if(b.length>80*m){var k=v=b[0];var D=q=b[1];for(h=m;h<c;h+=m)C=b[h],l=b[h+1],C<k&&(k=C),l<D&&(D=l),C>v&&(v=C),l>q&&(q=l);v=Math.max(v-k,q-D);v=0!==v?1/v:0}e(y,g,m,k,D,v);return g}function p(a,
b,f,d,e){if(e===0<B(a,b,f,d))for(e=b;e<f;e+=d)var l=t(e,a[e],a[e+1],l);else for(e=f-d;e>=b;e-=d)l=t(e,a[e],a[e+1],l);l&&y(l,l.next)&&(x(l),l=l.next);return l}function d(a,b){if(!a)return a;b||(b=a);do{var f=!1;if(a.steiner||!y(a,a.next)&&0!==q(a.prev,a,a.next))a=a.next;else{x(a);a=b=a.prev;if(a===a.next)break;f=!0}}while(f||a!==b);return b}function e(a,f,c,r,p,g,h){if(a){if(!h&&g){var C=a,t=C;do null===t.z&&(t.z=l(t.x,t.y,r,p,g)),t.prevZ=t.prev,t=t.nextZ=t.next;while(t!==C);t.prevZ.nextZ=null;t.prevZ=
null;C=t;var k,D,H,z,B=1;do{t=C;var E=C=null;for(D=0;t;){D++;var F=t;for(k=H=0;k<B&&(H++,F=F.nextZ,F);k++);for(z=B;0<H||0<z&&F;)0!==H&&(0===z||!F||t.z<=F.z)?(k=t,t=t.nextZ,H--):(k=F,F=F.nextZ,z--),E?E.nextZ=k:C=k,k.prevZ=E,E=k;t=F}E.nextZ=null;B*=2}while(1<D)}for(C=a;a.prev!==a.next;){t=a.prev;F=a.next;if(g)E=b(a,r,p,g);else a:if(E=a,D=E.prev,H=E,B=E.next,0<=q(D,H,B))E=!1;else{for(k=E.next.next;k!==E.prev;){if(m(D.x,D.y,H.x,H.y,B.x,B.y,k.x,k.y)&&0<=q(k.prev,k,k.next)){E=!1;break a}k=k.next}E=!0}if(E)f.push(t.i/
c),f.push(a.i/c),f.push(F.i/c),x(a),C=a=F.next;else if(a=F,a===C){if(!h)e(d(a),f,c,r,p,g,1);else if(1===h){h=f;C=c;t=a;do F=t.prev,E=t.next.next,!y(F,E)&&v(F,t,t.next,E)&&u(F,E)&&u(E,F)&&(h.push(F.i/C),h.push(t.i/C),h.push(E.i/C),x(t),x(t.next),t=a=E),t=t.next;while(t!==a);a=t;e(a,f,c,r,p,g,2)}else if(2===h)a:{h=a;do{for(C=h.next.next;C!==h.prev;){if(t=h.i!==C.i){t=h;F=C;if(E=t.next.i!==F.i&&t.prev.i!==F.i){b:{E=t;do{if(E.i!==t.i&&E.next.i!==t.i&&E.i!==F.i&&E.next.i!==F.i&&v(E,E.next,t,F)){E=!0;break b}E=
E.next}while(E!==t);E=!1}E=!E}if(E=E&&u(t,F)&&u(F,t)){E=t;D=!1;H=(t.x+F.x)/2;F=(t.y+F.y)/2;do E.y>F!==E.next.y>F&&E.next.y!==E.y&&H<(E.next.x-E.x)*(F-E.y)/(E.next.y-E.y)+E.x&&(D=!D),E=E.next;while(E!==t);E=D}t=E}if(t){a=A(h,C);h=d(h,h.next);a=d(a,a.next);e(h,f,c,r,p,g);e(a,f,c,r,p,g);break a}C=C.next}h=h.next}while(h!==a)}break}}}}function b(a,b,f,d){var e=a.prev,c=a.next;if(0<=q(e,a,c))return!1;var r=e.x>a.x?e.x>c.x?e.x:c.x:a.x>c.x?a.x:c.x,p=e.y>a.y?e.y>c.y?e.y:c.y:a.y>c.y?a.y:c.y,y=l(e.x<a.x?e.x<
c.x?e.x:c.x:a.x<c.x?a.x:c.x,e.y<a.y?e.y<c.y?e.y:c.y:a.y<c.y?a.y:c.y,b,f,d);b=l(r,p,b,f,d);f=a.prevZ;for(d=a.nextZ;f&&f.z>=y&&d&&d.z<=b;){if(f!==a.prev&&f!==a.next&&m(e.x,e.y,a.x,a.y,c.x,c.y,f.x,f.y)&&0<=q(f.prev,f,f.next))return!1;f=f.prevZ;if(d!==a.prev&&d!==a.next&&m(e.x,e.y,a.x,a.y,c.x,c.y,d.x,d.y)&&0<=q(d.prev,d,d.next))return!1;d=d.nextZ}for(;f&&f.z>=y;){if(f!==a.prev&&f!==a.next&&m(e.x,e.y,a.x,a.y,c.x,c.y,f.x,f.y)&&0<=q(f.prev,f,f.next))return!1;f=f.prevZ}for(;d&&d.z<=b;){if(d!==a.prev&&d!==
a.next&&m(e.x,e.y,a.x,a.y,c.x,c.y,d.x,d.y)&&0<=q(d.prev,d,d.next))return!1;d=d.nextZ}return!0}function a(a,b){return a.x-b.x}function f(a,b){var f=b,d=a.x,e=a.y,l=-Infinity;do{if(e<=f.y&&e>=f.next.y&&f.next.y!==f.y){var q=f.x+(e-f.y)*(f.next.x-f.x)/(f.next.y-f.y);if(q<=d&&q>l){l=q;if(q===d){if(e===f.y)return f;if(e===f.next.y)return f.next}var c=f.x<f.next.x?f:f.next}}f=f.next}while(f!==b);if(!c)return null;if(d===l)return c.prev;b=c;q=c.x;var r=c.y,p=Infinity;for(f=c.next;f!==b;){if(d>=f.x&&f.x>=
q&&d!==f.x&&m(e<r?d:l,e,q,r,e<r?l:d,e,f.x,f.y)){var y=Math.abs(e-f.y)/(d-f.x);(y<p||y===p&&f.x>c.x)&&u(f,a)&&(c=f,p=y)}f=f.next}return c}function l(a,b,f,d,e){a=32767*(a-f)*e;b=32767*(b-d)*e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function r(a){var b=a,f=a;do b.x<f.x&&(f=b),b=b.next;while(b!==a);return f}function m(a,b,f,d,e,l,m,q){return 0<=(e-m)*(b-q)-(a-m)*(l-q)&&
0<=(a-m)*(d-q)-(f-m)*(b-q)&&0<=(f-m)*(l-q)-(e-m)*(d-q)}function q(a,b,f){return(b.y-a.y)*(f.x-b.x)-(b.x-a.x)*(f.y-b.y)}function y(a,b){return a.x===b.x&&a.y===b.y}function v(a,b,f,d){return y(a,b)&&y(f,d)||y(a,d)&&y(f,b)?!0:0<q(a,b,f)!==0<q(a,b,d)&&0<q(f,d,a)!==0<q(f,d,b)}function u(a,b){return 0>q(a.prev,a,a.next)?0<=q(a,b,a.next)&&0<=q(a,a.prev,b):0>q(a,b,a.prev)||0>q(a,a.next,b)}function A(a,b){var f=new z(a.i,a.x,a.y),d=new z(b.i,b.x,b.y),e=a.next,l=b.prev;a.next=b;b.prev=a;f.next=e;e.prev=f;
d.next=f;f.prev=d;l.next=d;d.prev=l;return d}function t(a,b,f,d){a=new z(a,b,f);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function x(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function z(a,b,f){this.i=a;this.x=b;this.y=f;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function B(a,b,f,d){for(var e=0,l=f-d;b<f;b+=d)e+=(a[l]-a[b])*(a[b+1]+a[l+1]),l=b;return e}k.exports=g;k.exports.default=
g;g.deviation=function(a,b,f,d){var e=b&&b.length,l=Math.abs(B(a,0,e?b[0]*f:a.length,f));if(e){e=0;for(var m=b.length;e<m;e++)l-=Math.abs(B(a,b[e]*f,e<m-1?b[e+1]*f:a.length,f))}for(e=b=0;e<d.length;e+=3){m=d[e]*f;var q=d[e+1]*f,c=d[e+2]*f;b+=Math.abs((a[m]-a[c])*(a[q+1]-a[m+1])-(a[m]-a[q])*(a[c+1]-a[m+1]))}return 0===l&&0===b?0:Math.abs((b-l)/l)};g.flatten=function(a){for(var b=a[0][0].length,f={vertices:[],holes:[],dimensions:b},d=0,e=0;e<a.length;e++){for(var l=0;l<a[e].length;l++)for(var m=0;m<
b;m++)f.vertices.push(a[e][l][m]);0<e&&(d+=a[e-1].length,f.holes.push(d))}return f}},{}],11:[function(c,k,h){(function(c){var p=/iPhone/i,d=/iPod/i,e=/iPad/i,b=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,a=/Android/i,f=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,l=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,r=/Windows Phone/i,m=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,q=/BlackBerry/i,y=/BB10/i,g=/Opera Mini/i,h=/(CriOS|Chrome)(?=.*\bMobile\b)/i,
A=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,x=function(c){c=c||navigator.userAgent;var v=c.split("[FBAN");"undefined"!==typeof v[1]&&(c=v[0]);v=c.split("Twitter");"undefined"!==typeof v[1]&&(c=v[0]);this.apple={phone:p.test(c),ipod:d.test(c),tablet:!p.test(c)&&e.test(c),device:p.test(c)||d.test(c)||e.test(c)};this.amazon={phone:f.test(c),tablet:!f.test(c)&&l.test(c),device:f.test(c)||l.test(c)};this.android={phone:f.test(c)||b.test(c),tablet:!f.test(c)&&
!b.test(c)&&(l.test(c)||a.test(c)),device:f.test(c)||l.test(c)||b.test(c)||a.test(c)};this.windows={phone:r.test(c),tablet:m.test(c),device:r.test(c)||m.test(c)};this.other={blackberry:q.test(c),blackberry10:y.test(c),opera:g.test(c),firefox:A.test(c),chrome:h.test(c),device:q.test(c)||y.test(c)||g.test(c)||A.test(c)||h.test(c)};this.seven_inch=t.test(c);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||
this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if("undefined"===typeof window)return this},z=function(){var a=new x;a.Class=x;return a};"undefined"!==typeof k&&k.exports&&"undefined"===typeof window?k.exports=x:"undefined"!==typeof k&&k.exports&&"undefined"!==typeof window?k.exports=z():"function"===typeof define&&define.amd?define("isMobile",[],c.isMobile=z()):c.isMobile=z()})(this)},{}],12:[function(c,k,h){function g(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");
}function p(b,a){b._head?(b._tail._next=a,a._prev=b._tail):b._head=a;b._tail=a;a._owner=b;return a}Object.defineProperty(h,"__esModule",{value:!0});var d=function(){function b(a,b){for(var f=0;f<b.length;f++){var d=b[f];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,f,d){f&&b(a.prototype,f);d&&b(a,d);return a}}(),e=function(){function b(a,f,d){void 0===f&&(f=!1);g(this,b);this._fn=a;this._once=f;this._thisArg=d;this._next=
this._prev=this._owner=null}d(b,[{key:"detach",value:function(){if(null===this._owner)return!1;this._owner.detach(this);return!0}}]);return b}();c=function(){function b(){g(this,b);this._head=this._tail=void 0}d(b,[{key:"handlers",value:function(){var a=this._head;if(0>=arguments.length||void 0===arguments[0]?0:arguments[0])return!!a;for(var b=[];a;)b.push(a),a=a._next;return b}},{key:"has",value:function(a){if(!(a instanceof e))throw Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");
return a._owner===this}},{key:"dispatch",value:function(){var a=this._head;if(!a)return!1;for(;a;)a._once&&this.detach(a),a._fn.apply(a._thisArg,arguments),a=a._next;return!0}},{key:"add",value:function(a){var b=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==typeof a)throw Error("MiniSignal#add(): First arg must be a Function.");return p(this,new e(a,!1,b))}},{key:"once",value:function(a){var b=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==
typeof a)throw Error("MiniSignal#once(): First arg must be a Function.");return p(this,new e(a,!0,b))}},{key:"detach",value:function(a){if(!(a instanceof e))throw Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");if(a._owner!==this)return this;a._prev&&(a._prev._next=a._next);a._next&&(a._next._prev=a._prev);a===this._head?(this._head=a._next,null===a._next&&(this._tail=null)):a===this._tail&&(this._tail=a._prev,this._tail._next=null);a._owner=null;return this}},{key:"detachAll",
value:function(){var a=this._head;if(!a)return this;for(this._head=this._tail=null;a;)a._owner=null,a=a._next;return this}}]);return b}();c.MiniSignalBinding=e;h["default"]=c;k.exports=h["default"]},{}],13:[function(c,k,h){var g=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;k.exports=function(){try{if(!Object.assign)return!1;var d=new String("abc");d[5]="de";if("5"===Object.getOwnPropertyNames(d)[0])return!1;var b={};for(d=0;10>d;d++)b["_"+
String.fromCharCode(d)]=d;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var a={};"abcdefghijklmnopqrst".split("").forEach(function(b){a[b]=b});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},a)).join("")?!1:!0}catch(f){return!1}}()?Object.assign:function(e,b){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");var a=Object(e);for(var f,l=1;l<arguments.length;l++){var c=Object(arguments[l]);
for(var m in c)p.call(c,m)&&(a[m]=c[m]);if(g){f=g(c);for(var q=0;q<f.length;q++)d.call(c,f[q])&&(a[f[q]]=c[f[q]])}}return a}},{}],14:[function(c,k,h){k.exports=function(c,p){p=p||{};var d="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");c={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}[p.strictMode?
"strict":"loose"].exec(c);var e={};for(p=14;p--;)e[d[p]]=c[p]||"";e.queryKey={};e[d[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(b,a,f){a&&(e.queryKey[a]=f)});return e}},{}],15:[function(c,k,h){(function(){var c={linear:function(c,d,e,b){return e*c/b+d},easeInQuad:function(c,d,e,b){return e*(c/=b)*c+d},easeOutQuad:function(c,d,e,b){return-e*(c/=b)*(c-2)+d},easeInOutQuad:function(c,d,e,b){return 1>(c/=b/2)?e/2*c*c+d:-e/2*(--c*(c-2)-1)+d},easeInCubic:function(c,d,e,b){return e*(c/=b)*c*c+d},easeOutCubic:function(c,
d,e,b){return e*((c=c/b-1)*c*c+1)+d},easeInOutCubic:function(c,d,e,b){return 1>(c/=b/2)?e/2*c*c*c+d:e/2*((c-=2)*c*c+2)+d},easeInQuart:function(c,d,e,b){return e*(c/=b)*c*c*c+d},easeOutQuart:function(c,d,e,b){return-e*((c=c/b-1)*c*c*c-1)+d},easeInOutQuart:function(c,d,e,b){return 1>(c/=b/2)?e/2*c*c*c*c+d:-e/2*((c-=2)*c*c*c-2)+d},easeInQuint:function(c,d,e,b){return e*(c/=b)*c*c*c*c+d},easeOutQuint:function(c,d,e,b){return e*((c=c/b-1)*c*c*c*c+1)+d},easeInOutQuint:function(c,d,e,b){return 1>(c/=b/2)?
e/2*c*c*c*c*c+d:e/2*((c-=2)*c*c*c*c+2)+d},easeInSine:function(c,d,e,b){return-e*Math.cos(c/b*(Math.PI/2))+e+d},easeOutSine:function(c,d,e,b){return e*Math.sin(c/b*(Math.PI/2))+d},easeInOutSine:function(c,d,e,b){return-e/2*(Math.cos(Math.PI*c/b)-1)+d},easeInExpo:function(c,d,e,b){return 0===c?d:e*Math.pow(2,10*(c/b-1))+d},easeOutExpo:function(c,d,e,b){return c===b?d+e:e*(-Math.pow(2,-10*c/b)+1)+d},easeInOutExpo:function(c,d,e,b){0===c&&d;c===b&&d+e;return 1>(c/=b/2)?e/2*Math.pow(2,10*(c-1))+d:e/2*
(-Math.pow(2,-10*--c)+2)+d},easeInCirc:function(c,d,e,b){return-e*(Math.sqrt(1-(c/=b)*c)-1)+d},easeOutCirc:function(c,d,e,b){return e*Math.sqrt(1-(c=c/b-1)*c)+d},easeInOutCirc:function(c,d,e,b){return 1>(c/=b/2)?-e/2*(Math.sqrt(1-c*c)-1)+d:e/2*(Math.sqrt(1-(c-=2)*c)+1)+d},easeInElastic:function(c,d,e,b){var a=0;var f=e;0===c?d:1===(c/=b)&&d+e;a||(a=.3*b);f<Math.abs(e)?(f=e,e=a/4):e=a/(2*Math.PI)*Math.asin(e/f);return-(f*Math.pow(2,10*--c)*Math.sin(2*(c*b-e)*Math.PI/a))+d},easeOutElastic:function(c,
d,e,b){var a=0;var f=e;0===c?d:1===(c/=b)&&d+e;a||(a=.3*b);if(f<Math.abs(e)){f=e;var l=a/4}else l=a/(2*Math.PI)*Math.asin(e/f);return f*Math.pow(2,-10*c)*Math.sin(2*(c*b-l)*Math.PI/a)+e+d},easeInOutElastic:function(c,d,e,b){var a=0;var f=e;0===c?d:2===(c/=b/2)&&d+e;a||(a=.3*b*1.5);if(f<Math.abs(e)){f=e;var l=a/4}else l=a/(2*Math.PI)*Math.asin(e/f);return 1>c?-.5*f*Math.pow(2,10*--c)*Math.sin(2*(c*b-l)*Math.PI/a)+d:f*Math.pow(2,-10*--c)*Math.sin(2*(c*b-l)*Math.PI/a)*.5+e+d},easeInBack:function(c,d,
e,b,a){void 0===a&&(a=1.70158);return e*(c/=b)*c*((a+1)*c-a)+d},easeOutBack:function(c,d,e,b,a){void 0===a&&(a=1.70158);return e*((c=c/b-1)*c*((a+1)*c+a)+1)+d},easeInOutBack:function(c,d,e,b,a){void 0===a&&(a=1.70158);return 1>(c/=b/2)?e/2*c*c*(((a*=1.525)+1)*c-a)+d:e/2*((c-=2)*c*(((a*=1.525)+1)*c+a)+2)+d},easeInBounce:function(p,d,e,b){p=c.easeOutBounce(b-p,0,e,b);return e-p+d},easeOutBounce:function(c,d,e,b){return(c/=b)<1/2.75?7.5625*e*c*c+d:c<2/2.75?e*(7.5625*(c-=1.5/2.75)*c+.75)+d:c<2.5/2.75?
e*(7.5625*(c-=2.25/2.75)*c+.9375)+d:e*(7.5625*(c-=2.625/2.75)*c+.984375)+d},easeInOutBounce:function(g,d,e,b){if(g<b/2)return g=c.easeInBounce(2*g,0,e,b),.5*g+d;g=c.easeOutBounce(2*g-b,0,e,b);return.5*g+.5*e+d}};(function(c){return"object"===typeof h?k.exports=c:"function"===typeof define&&define.amd?define([],c):this.penner=c})(c)}).call(this)},{}],16:[function(c,k,h){var g=new ArrayBuffer(0),p=function(d,e,b,a){this.gl=d;this.buffer=d.createBuffer();this.type=e||d.ARRAY_BUFFER;this.drawType=a||
d.STATIC_DRAW;this.data=g;b&&this.upload(b);this._updateID=0};p.prototype.upload=function(d,e,b){b||this.bind();b=this.gl;d=d||this.data;this.data.byteLength>=d.byteLength?b.bufferSubData(this.type,e||0,d):b.bufferData(this.type,d,this.drawType);this.data=d};p.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)};p.createVertexBuffer=function(d,e,b){return new p(d,d.ARRAY_BUFFER,e,b)};p.createIndexBuffer=function(d,e,b){return new p(d,d.ELEMENT_ARRAY_BUFFER,e,b)};p.create=function(d,
e,b,a){return new p(d,e,b,a)};p.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)};k.exports=p},{}],17:[function(c,k,h){var g=c("./GLTexture"),p=function(d,e,b){this.gl=d;this.framebuffer=d.createFramebuffer();this.texture=this.stencil=null;this.width=e||100;this.height=b||100};p.prototype.enableTexture=function(d){var e=this.gl;this.texture=d||new g(e);this.texture.bind();this.bind();e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)};p.prototype.enableStencil=
function(){if(!this.stencil){var d=this.gl;this.stencil=d.createRenderbuffer();d.bindRenderbuffer(d.RENDERBUFFER,this.stencil);d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,this.stencil);d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_STENCIL,this.width,this.height)}};p.prototype.clear=function(d,e,b,a){this.bind();var f=this.gl;f.clearColor(d,e,b,a);f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT)};p.prototype.bind=function(){var d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,
this.framebuffer)};p.prototype.unbind=function(){var d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,null)};p.prototype.resize=function(d,e){var b=this.gl;this.width=d;this.height=e;this.texture&&this.texture.uploadData(null,d,e);this.stencil&&(b.bindRenderbuffer(b.RENDERBUFFER,this.stencil),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,d,e))};p.prototype.destroy=function(){var d=this.gl;this.texture&&this.texture.destroy();d.deleteFramebuffer(this.framebuffer);this.texture=this.stencil=this.gl=
null};p.createRGBA=function(d,e,b,a){a=g.fromData(d,null,e,b);a.enableNearestScaling();a.enableWrapClamp();d=new p(d,e,b);d.enableTexture(a);d.unbind();return d};p.createFloat32=function(d,e,b,a){a=new g.fromData(d,a,e,b);a.enableNearestScaling();a.enableWrapClamp();d=new p(d,e,b);d.enableTexture(a);d.unbind();return d};k.exports=p},{"./GLTexture":19}],18:[function(c,k,h){var g=c("./shader/compileProgram"),p=c("./shader/extractAttributes"),d=c("./shader/extractUniforms"),e=c("./shader/setPrecision"),
b=c("./shader/generateUniformAccessObject");c=function(a,f,l,c,m){this.gl=a;c&&(f=e(f,c),l=e(l,c));this.program=g(a,f,l,m);this.attributes=p(a,this.program);this.uniformData=d(a,this.program);this.uniforms=b(a,this.uniformData)};c.prototype.bind=function(){this.gl.useProgram(this.program);return this};c.prototype.destroy=function(){this.uniforms=this.uniformData=this.attributes=null;this.gl.deleteProgram(this.program)};k.exports=c},{"./shader/compileProgram":24,"./shader/extractAttributes":26,"./shader/extractUniforms":27,
"./shader/generateUniformAccessObject":28,"./shader/setPrecision":32}],19:[function(c,k,h){var g=function(d,e,b,a,f){this.gl=d;this.texture=d.createTexture();this.premultiplyAlpha=this.mipmap=!1;this.width=e||-1;this.height=b||-1;this.format=a||d.RGBA;this.type=f||d.UNSIGNED_BYTE};g.prototype.upload=function(d){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var b=d.videoWidth||d.width,a=d.videoHeight||d.height;a!==this.height||b!==this.width?e.texImage2D(e.TEXTURE_2D,
0,this.format,this.format,this.type,d):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,d);this.width=b;this.height=a};var p=!1;g.prototype.uploadData=function(d,e,b){this.bind();var a=this.gl;if(d instanceof Float32Array){if(!p)if(a.getExtension("OES_texture_float"))p=!0;else throw Error("floating point textures not available");this.type=a.FLOAT}else this.type=this.type||a.UNSIGNED_BYTE;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);e!==this.width||b!==this.height?
a.texImage2D(a.TEXTURE_2D,0,this.format,e,b,0,this.format,this.type,d||null):a.texSubImage2D(a.TEXTURE_2D,0,0,0,e,b,this.format,this.type,d||null);this.width=e;this.height=b};g.prototype.bind=function(d){var e=this.gl;void 0!==d&&e.activeTexture(e.TEXTURE0+d);e.bindTexture(e.TEXTURE_2D,this.texture)};g.prototype.unbind=function(){var d=this.gl;d.bindTexture(d.TEXTURE_2D,null)};g.prototype.minFilter=function(d){var e=this.gl;this.bind();this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,
d?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,d?e.LINEAR:e.NEAREST)};g.prototype.magFilter=function(d){var e=this.gl;this.bind();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,d?e.LINEAR:e.NEAREST)};g.prototype.enableMipmap=function(){var d=this.gl;this.bind();this.mipmap=!0;d.generateMipmap(d.TEXTURE_2D)};g.prototype.enableLinearScaling=function(){this.minFilter(!0);this.magFilter(!0)};g.prototype.enableNearestScaling=function(){this.minFilter(!1);
this.magFilter(!1)};g.prototype.enableWrapClamp=function(){var d=this.gl;this.bind();d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE)};g.prototype.enableWrapRepeat=function(){var d=this.gl;this.bind();d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT)};g.prototype.enableWrapMirrorRepeat=function(){var d=this.gl;this.bind();d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,
d.MIRRORED_REPEAT);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.MIRRORED_REPEAT)};g.prototype.destroy=function(){this.gl.deleteTexture(this.texture)};g.fromSource=function(d,e,b){d=new g(d);d.premultiplyAlpha=b||!1;d.upload(e);return d};g.fromData=function(d,e,b,a){d=new g(d);d.uploadData(e,b,a);return d};k.exports=g},{}],20:[function(c,k,h){function g(d,e){this.nativeVaoExtension=null;g.FORCE_NATIVE||(this.nativeVaoExtension=d.getExtension("OES_vertex_array_object")||d.getExtension("MOZ_OES_vertex_array_object")||
d.getExtension("WEBKIT_OES_vertex_array_object"));this.nativeState=e;this.nativeVaoExtension&&(this.nativeVao=this.nativeVaoExtension.createVertexArrayOES(),e=d.getParameter(d.MAX_VERTEX_ATTRIBS),this.nativeState={tempAttribState:Array(e),attribState:Array(e)});this.gl=d;this.attributes=[];this.indexBuffer=null;this.dirty=!1}var p=c("./setVertexAttribArrays");g.prototype.constructor=g;k.exports=g;g.FORCE_NATIVE=!1;g.prototype.bind=function(){if(this.nativeVao){this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);
if(this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this};g.prototype.unbind=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null);return this};g.prototype.activate=function(){for(var d=this.gl,e=null,b=0;b<this.attributes.length;b++){var a=this.attributes[b];e!==a.buffer&&(a.buffer.bind(),e=a.buffer);d.vertexAttribPointer(a.attribute.location,a.attribute.size,a.type||d.FLOAT,a.normalized||!1,a.stride||
0,a.start||0)}p(d,this.attributes,this.nativeState);this.indexBuffer&&this.indexBuffer.bind();return this};g.prototype.addAttribute=function(d,e,b,a,f,l){this.attributes.push({buffer:d,attribute:e,location:e.location,type:b||this.gl.FLOAT,normalized:a||!1,stride:f||0,start:l||0});this.dirty=!0;return this};g.prototype.addIndex=function(d){this.indexBuffer=d;this.dirty=!0;return this};g.prototype.clear=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);this.attributes.length=
0;this.indexBuffer=null;return this};g.prototype.draw=function(d,e,b){var a=this.gl;this.indexBuffer?a.drawElements(d,e||this.indexBuffer.data.length,a.UNSIGNED_SHORT,2*(b||0)):a.drawArrays(d,b,e||this.getSize());return this};g.prototype.destroy=function(){this.nativeState=this.attributes=this.indexBuffer=this.gl=null;this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);this.nativeVao=this.nativeVaoExtension=null};g.prototype.getSize=function(){var d=this.attributes[0];return d.buffer.data.length/
(d.stride/4||d.attribute.size)}},{"./setVertexAttribArrays":23}],21:[function(c,k,h){k.exports=function(c,p){c=c.getContext("webgl",p)||c.getContext("experimental-webgl",p);if(!c)throw Error("This browser does not support webGL. Try using the canvas renderer");return c}},{}],22:[function(c,k,h){c={createContext:c("./createContext"),setVertexAttribArrays:c("./setVertexAttribArrays"),GLBuffer:c("./GLBuffer"),GLFramebuffer:c("./GLFramebuffer"),GLShader:c("./GLShader"),GLTexture:c("./GLTexture"),VertexArrayObject:c("./VertexArrayObject"),
shader:c("./shader")};"undefined"!==typeof k&&k.exports&&(k.exports=c);"undefined"!==typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=c)},{"./GLBuffer":16,"./GLFramebuffer":17,"./GLShader":18,"./GLTexture":19,"./VertexArrayObject":20,"./createContext":21,"./setVertexAttribArrays":23,"./shader":29}],23:[function(c,k,h){k.exports=function(c,p,d){var e;if(d){var b=d.tempAttribState,a=d.attribState;for(e=0;e<b.length;e++)b[e]=!1;for(e=0;e<p.length;e++)b[p[e].attribute.location]=!0;for(e=
0;e<a.length;e++)a[e]!==b[e]&&(a[e]=b[e],d.attribState[e]?c.enableVertexAttribArray(e):c.disableVertexAttribArray(e))}else for(e=0;e<p.length;e++)c.enableVertexAttribArray(p[e].attribute.location)}},{}],24:[function(c,k,h){var g=function(c,d,e){d=c.createShader(d);c.shaderSource(d,e);c.compileShader(d);return c.getShaderParameter(d,c.COMPILE_STATUS)?d:(console.log(c.getShaderInfoLog(d)),null)};k.exports=function(c,d,e,b){d=g(c,c.VERTEX_SHADER,d);e=g(c,c.FRAGMENT_SHADER,e);var a=c.createProgram();
c.attachShader(a,d);c.attachShader(a,e);if(b)for(var f in b)c.bindAttribLocation(a,b[f],f);c.linkProgram(a);c.getProgramParameter(a,c.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",c.getProgramParameter(a,c.VALIDATE_STATUS)),console.error("gl.getError()",c.getError()),""!==c.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",c.getProgramInfoLog(a)),c.deleteProgram(a),a=null);c.deleteShader(d);c.deleteShader(e);
return a}},{}],25:[function(c,k,h){var g=function(c){c=Array(c);for(var d=0;d<c.length;d++)c[d]=!1;return c};k.exports=function(c,d){switch(c){case "float":return 0;case "vec2":return new Float32Array(2*d);case "vec3":return new Float32Array(3*d);case "vec4":return new Float32Array(4*d);case "int":case "sampler2D":return 0;case "ivec2":return new Int32Array(2*d);case "ivec3":return new Int32Array(3*d);case "ivec4":return new Int32Array(4*d);case "bool":return!1;case "bvec2":return g(2*d);case "bvec3":return g(3*
d);case "bvec4":return g(4*d);case "mat2":return new Float32Array([1,0,0,1]);case "mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case "mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],26:[function(c,k,h){var g=c("./mapType"),p=c("./mapSize"),d=function(d,b,a,f){gl.vertexAttribPointer(this.location,this.size,d||gl.FLOAT,b||!1,a||0,f||0)};k.exports=function(e,b){for(var a={},f=e.getProgramParameter(b,e.ACTIVE_ATTRIBUTES),l=0;l<f;l++){var c=e.getActiveAttrib(b,l),m=g(e,c.type);
a[c.name]={type:m,size:p(m),location:e.getAttribLocation(b,c.name),pointer:d}}return a}},{"./mapSize":30,"./mapType":31}],27:[function(c,k,h){var g=c("./mapType"),p=c("./defaultValue");k.exports=function(d,e){for(var b={},a=d.getProgramParameter(e,d.ACTIVE_UNIFORMS),f=0;f<a;f++){var l=d.getActiveUniform(e,f),c=l.name.replace(/\[.*?\]/,""),m=g(d,l.type);b[c]={type:m,size:l.size,location:d.getUniformLocation(e,c),value:p(m,l.size)}}return b}},{"./defaultValue":25,"./mapType":31}],28:[function(c,k,h){function g(b,
a){return function(f){this.data[b].value=f;var l=this.data[b].location;if(1===a.size)d[a.type](this.gl,l,f);else e[a.type](this.gl,l,f)}}var p=function(b){return function(){return this.data[b].value}},d={float:function(b,a,f){b.uniform1f(a,f)},vec2:function(b,a,f){b.uniform2f(a,f[0],f[1])},vec3:function(b,a,f){b.uniform3f(a,f[0],f[1],f[2])},vec4:function(b,a,f){b.uniform4f(a,f[0],f[1],f[2],f[3])},int:function(b,a,f){b.uniform1i(a,f)},ivec2:function(b,a,f){b.uniform2i(a,f[0],f[1])},ivec3:function(b,
a,f){b.uniform3i(a,f[0],f[1],f[2])},ivec4:function(b,a,f){b.uniform4i(a,f[0],f[1],f[2],f[3])},bool:function(b,a,f){b.uniform1i(a,f)},bvec2:function(b,a,f){b.uniform2i(a,f[0],f[1])},bvec3:function(b,a,f){b.uniform3i(a,f[0],f[1],f[2])},bvec4:function(b,a,f){b.uniform4i(a,f[0],f[1],f[2],f[3])},mat2:function(b,a,f){b.uniformMatrix2fv(a,!1,f)},mat3:function(b,a,f){b.uniformMatrix3fv(a,!1,f)},mat4:function(b,a,f){b.uniformMatrix4fv(a,!1,f)},sampler2D:function(b,a,f){b.uniform1i(a,f)}},e={float:function(b,
a,f){b.uniform1fv(a,f)},vec2:function(b,a,f){b.uniform2fv(a,f)},vec3:function(b,a,f){b.uniform3fv(a,f)},vec4:function(b,a,f){b.uniform4fv(a,f)},int:function(b,a,f){b.uniform1iv(a,f)},ivec2:function(b,a,f){b.uniform2iv(a,f)},ivec3:function(b,a,f){b.uniform3iv(a,f)},ivec4:function(b,a,f){b.uniform4iv(a,f)},bool:function(b,a,f){b.uniform1iv(a,f)},bvec2:function(b,a,f){b.uniform2iv(a,f)},bvec3:function(b,a,f){b.uniform3iv(a,f)},bvec4:function(b,a,f){b.uniform4iv(a,f)},sampler2D:function(b,a,f){b.uniform1iv(a,
f)}};k.exports=function(b,a){var f={data:{}};f.gl=b;for(var d=Object.keys(a),e=0;e<d.length;e++){for(var c=d[e],q=c.split("."),y=q[q.length-1],v=f,h=0;h<q.length-1;h++){var A=v[q[h]]||{data:{}};v=v[q[h]]=A}q=v;c=a[c];q.data[y]=c;q.gl=b;Object.defineProperty(q,y,{get:p(y),set:g(y,c)})}return f}},{}],29:[function(c,k,h){k.exports={compileProgram:c("./compileProgram"),defaultValue:c("./defaultValue"),extractAttributes:c("./extractAttributes"),extractUniforms:c("./extractUniforms"),generateUniformAccessObject:c("./generateUniformAccessObject"),
setPrecision:c("./setPrecision"),mapSize:c("./mapSize"),mapType:c("./mapType")}},{"./compileProgram":24,"./defaultValue":25,"./extractAttributes":26,"./extractUniforms":27,"./generateUniformAccessObject":28,"./mapSize":30,"./mapType":31,"./setPrecision":32}],30:[function(c,k,h){var g={"float":1,vec2:2,vec3:3,vec4:4,"int":1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};k.exports=function(c){return g[c]}},{}],31:[function(c,k,h){var g=null,p={FLOAT:"float",
FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};k.exports=function(d,e){if(!g){var b=Object.keys(p);g={};for(var a=0;a<b.length;++a){var f=b[a];g[d[f]]=p[f]}}return g[e]}},{}],32:[function(c,k,h){k.exports=function(c,p){return"precision"!==c.substring(0,9)?"precision "+p+" float;\n"+c:c}},
{}],33:[function(c,k,h){!function(c){function g(e){if(d[e])return d[e].exports;var b=d[e]={exports:{},id:e,loaded:!1};return c[e].call(b.exports,b,b.exports,g),b.loaded=!0,b.exports}var d={};return g.m=c,g.c=d,g.p="",g(0)}([function(c,p,d){c.exports=d(5)},function(c,p,d){var e=function(){function a(a,b){for(var f=0;f<b.length;f++){var d=b[f];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,d,e){return d&&a(b.prototype,
d),e&&a(b,e),b}}();Object.defineProperty(p,"__esModule",{value:!0});var b=(c=d(2))&&c.__esModule?c:{"default":c};c=function(){function a(b,d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.key=b;this.manager=d;this.alt=this.shift=this.crtl=this.isReleased=this.isDown=this.isPressed=!1}return e(a,[{key:"update",value:function(){this.isDown=this.manager.isDown(this.key);this.isPressed=this.manager.isPressed(this.key);this.isReleased=this.manager.isReleased(this.key);
this.crtl=this.manager.isDown(b["default"].CTRL);this.shift=this.manager.isDown(b["default"].SHIFT);this.alt=this.manager.isDown(b["default"].ALT)}},{key:"remove",value:function(){this.manager.removeHotKey(this.key)}}]),a}();p["default"]=c},function(c,p){Object.defineProperty(p,"__esModule",{value:!0});p["default"]={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,PAUSE:19,CTRL:17,ALT:18,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,
DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CMD:91,CMD_RIGHT:93,NUM_0:96,NUM_1:97,NUM_2:98,NUM_3:99,NUM_4:100,NUM_5:101,NUM_6:102,NUM_7:103,NUM_8:104,NUM_9:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMI_COLON:186,
EQUAL:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,SINGLE_QUOTE:222}},function(c,p){c.exports=PIXI},function(c,p,d){function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var b=function(){function a(a,
b){for(var f=0;f<b.length;f++){var d=b[f];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,f,d){return f&&a(b.prototype,f),d&&a(b,d),b}}();Object.defineProperty(p,"__esModule",{value:!0});c=(c=d(3))&&c.__esModule?c:{"default":c};var a=(d=d(1))&&d.__esModule?d:{"default":d};d=function(f){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var a=Object.getPrototypeOf(d).call(this);
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!=typeof a&&"function"!=typeof a?this:a;return a.isEnabled=!1,a._pressedKeys=[],a._releasedKeys=[],a._downKeys=[],a._hotKeys=[],a._preventDefaultKeys=[],a}return e(d,f),b(d,[{key:"enable",value:function(){this.isEnabled||(this.isEnabled=!0,this._enableEvents())}},{key:"_enableEvents",value:function(){window.addEventListener("keydown",this._onKeyDown.bind(this),!0);window.addEventListener("keyup",
this._onKeyUp.bind(this),!0)}},{key:"disable",value:function(){this.isEnabled&&(this.isEnabled=!1,this._disableEvents())}},{key:"_disableEvents",value:function(){window.removeEventListener("keydown",this._onKeyDown,!0);window.removeEventListener("keyup",this._onKeyUp,!0)}},{key:"setPreventDefault",value:function(a){var b=1>=arguments.length||void 0===arguments[1]?!0:arguments[1];if("[object Array]"===Object.prototype.toString.call(a))for(var f=0;f<a.length;f++)this._preventDefaultKeys[a[f]]=b;else this._preventDefaultKeys[a]=
b}},{key:"_onKeyDown",value:function(a){var b=a.which||a.keyCode;this._preventDefaultKeys[b]&&a.preventDefault();this.isDown(b)||(this._downKeys.push(b),this._pressedKeys[b]=!0,this.emit("pressed",b))}},{key:"_onKeyUp",value:function(a){var b=a.which||a.keyCode;if(this._preventDefaultKeys[b]&&a.preventDefault(),this.isDown(b))this._pressedKeys[b]=!1,this._releasedKeys[b]=!0,a=this._downKeys.indexOf(b),-1!==a&&this._downKeys.splice(a,1),this.emit("released",b)}},{key:"isDown",value:function(a){return-1!==
this._downKeys.indexOf(a)}},{key:"isPressed",value:function(a){return!!this._pressedKeys[a]}},{key:"isReleased",value:function(a){return!!this._releasedKeys[a]}},{key:"update",value:function(){for(var a in this._hotKeys)this._hotKeys[a].update();for(a=0;a<this._downKeys.length;a++)this.emit("down",this._downKeys[a]);this._pressedKeys.length=0;this._releasedKeys.length=0}},{key:"getHotKey",value:function(b){var f=this._hotKeys[b]||new a["default"](b,this);return this._hotKeys[b]=f,f}},{key:"removeHotKey",
value:function(a){this._hotKeys[a]&&delete this._hotKeys[a]}}]),d}(c["default"].utils.EventEmitter);p["default"]=d},function(c,p,d){function e(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(p,"__esModule",{value:!0});c=d(3);c=e(c);var b=d(4);b=e(b);var a=d(1);a=e(a);d=d(2);d=e(d);d={KeyboardManager:b["default"],Key:d["default"],HotKey:a["default"]};c["default"].keyboard||(b=new b["default"],b.enable(),c["default"].keyboard=d,c["default"].keyboardManager=b);p["default"]=d}])},{}],
34:[function(c,k,h){(function(g){!function(c){"object"==typeof h&&"undefined"!=typeof k?k.exports=c():"function"==typeof define&&define.amd?define([],c):("undefined"!=typeof window?window:"undefined"!=typeof g?g:"undefined"!=typeof self?self:this).pixiParticles=c()}(function(){return function(){function g(d,e,b){function a(l,m){if(!e[l]){if(!d[l]){var q="function"==typeof c&&c;if(!m&&q)return q(l,!0);if(f)return f(l,!0);m=Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m;}m=e[l]=
{exports:{}};d[l][0].call(m.exports,function(b){return a(d[l][1][b]||b)},m,m.exports,g,d,e,b)}return e[l].exports}for(var f="function"==typeof c&&c,l=0;l<b.length;l++)a(b[l]);return a}return g}()({1:[function(c,d,e){var b=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f])};return function(b,f){function d(){this.constructor=b}a(b,f);b.prototype=null===f?Object.create(f):
(d.prototype=f.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});c=c("./Particle");var a=PIXI.Texture;c=function(f){function d(a){a=f.call(this,a)||this;return a.textures=null,a.duration=0,a.framerate=0,a.elapsed=0,a.loop=!1,a}return b(d,f),d.prototype.init=function(){this.Particle_init();this.elapsed=0;0>this.framerate&&(this.duration=this.maxLife,this.framerate=this.textures.length/this.duration)},d.prototype.applyArt=function(a){this.textures=a.textures;this.framerate=a.framerate;
this.duration=a.duration;this.loop=a.loop},d.prototype.update=function(a){var b=this.Particle_update(a);0<=b&&(this.elapsed+=a,this.elapsed>this.duration&&(this.loop?this.elapsed%=this.duration:this.elapsed=this.duration-1E-6),this.texture=this.textures[this.elapsed*this.framerate+1E-7|0]||PIXI.Texture.EMPTY);return b},d.prototype.destroy=function(){this.Particle_destroy();this.textures=null},d.parseArt=function(b){for(var f,d,e,l,c,r=[],g=0;g<b.length;++g){f=b[g];r[g]=d={};d.textures=c=[];e=f.textures;
for(var p=0;p<e.length;++p)if("string"==typeof(l=e[p]))c.push(a.fromImage(l));else if(l instanceof a)c.push(l);else{var h=l.count||1;for(l="string"==typeof l.texture?a.fromImage(l.texture):l.texture;0<h;--h)c.push(l)}"matchLife"==f.framerate?(d.framerate=-1,d.duration=0,d.loop=!1):(d.loop=!!f.loop,d.framerate=0<f.framerate?f.framerate:60,d.duration=c.length/d.framerate)}return r},d}(c.default);e.default=c},{"./Particle":3}],2:[function(c,d,e){Object.defineProperty(e,"__esModule",{value:!0});var b=
c("./ParticleUtils"),a=c("./Particle"),f=c("./PropertyNode"),l=PIXI.ticker.shared,r=new PIXI.Point;c=function(){function d(b,f,d){this._particleConstructor=a.default;this.startSpeed=this.startAlpha=this.particleImages=null;this.minimumSpeedMultiplier=1;this.acceleration=null;this.maxSpeed=NaN;this.startScale=null;this.minimumScaleMultiplier=1;this.startColor=null;this.maxStartRotation=this.minStartRotation=this.maxLifetime=this.minLifetime=0;this.noRotation=!1;this.particleBlendMode=this.maxRotationSpeed=
this.minRotationSpeed=0;this.extraData=this.customEase=null;this.spawnChance=this._frequency=1;this.maxParticles=1E3;this.emitterLifetime=-1;this.spawnCircle=this.spawnRect=this._spawnFunc=this.spawnType=this.spawnPos=null;this.particlesPerWave=1;this.rotation=this.angleStart=this.particleSpacing=0;this._prevEmitterPos=this.ownerPos=null;this._posChanged=this._prevPosIsValid=!1;this._parent=null;this.addAtBack=!1;this.particleCount=0;this._emit=!1;this._spawnTimer=0;this._emitterLife=-1;this._origArt=
this._origConfig=this._poolFirst=this._activeParticlesLast=this._activeParticlesFirst=null;this._destroyWhenComplete=this._autoUpdate=!1;this._completeCallback=null;this.parent=b;f&&d&&this.init(f,d);this.recycle=this.recycle;this.update=this.update;this.rotate=this.rotate;this.updateSpawnPos=this.updateSpawnPos;this.updateOwnerPos=this.updateOwnerPos}return Object.defineProperty(d.prototype,"frequency",{get:function(){return this._frequency},set:function(a){this._frequency="number"==typeof a&&0<
a?a:1},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"particleConstructor",{get:function(){return this._particleConstructor},set:function(a){if(a!=this._particleConstructor){this._particleConstructor=a;this.cleanup();for(a=this._poolFirst;a;a=a.next)a.destroy();this._poolFirst=null;this._origConfig&&this._origArt&&this.init(this._origArt,this._origConfig)}},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"parent",{get:function(){return this._parent},set:function(a){this.cleanup();
this._parent=a},enumerable:!0,configurable:!0}),d.prototype.init=function(a,d){if(a&&d){this.cleanup();this._origConfig=d;this._origArt=a;a=Array.isArray(a)?a.slice():[a];var e=this._particleConstructor;this.particleImages=e.parseArt?e.parseArt(a):a;d.alpha?this.startAlpha=f.default.createList(d.alpha):this.startAlpha=new f.default(1,0);d.speed?(this.startSpeed=f.default.createList(d.speed),this.minimumSpeedMultiplier=d.speed.minimumSpeedMultiplier||1):(this.minimumSpeedMultiplier=1,this.startSpeed=
new f.default(0,0));(a=d.acceleration)&&(a.x||a.y)?(this.startSpeed.next=null,this.acceleration=new PIXI.Point(a.x,a.y),this.maxSpeed=d.maxSpeed||NaN):this.acceleration=new PIXI.Point;d.scale?(this.startScale=f.default.createList(d.scale),this.minimumScaleMultiplier=d.scale.minimumScaleMultiplier||1):(this.startScale=new f.default(1,0),this.minimumScaleMultiplier=1);d.color?this.startColor=f.default.createList(d.color):this.startColor=new f.default({r:255,g:255,b:255},0);d.startRotation?(this.minStartRotation=
d.startRotation.min,this.maxStartRotation=d.startRotation.max):this.minStartRotation=this.maxStartRotation=0;d.noRotation&&(this.minStartRotation||this.maxStartRotation)?this.noRotation=!!d.noRotation:this.noRotation=!1;d.rotationSpeed?(this.minRotationSpeed=d.rotationSpeed.min,this.maxRotationSpeed=d.rotationSpeed.max):this.minRotationSpeed=this.maxRotationSpeed=0;this.minLifetime=d.lifetime.min;this.maxLifetime=d.lifetime.max;this.particleBlendMode=b.default.getBlendMode(d.blendMode);d.ease?this.customEase=
"function"==typeof d.ease?d.ease:b.default.generateEase(d.ease):this.customEase=null;e.parseData?this.extraData=e.parseData(d.extraData):this.extraData=d.extraData||null;this.spawnRect=this.spawnCircle=null;this.particlesPerWave=1;d.particlesPerWave&&1<d.particlesPerWave&&(this.particlesPerWave=d.particlesPerWave);this.angleStart=this.particleSpacing=0;switch(d.spawnType){case "rect":this.spawnType="rect";this._spawnFunc=this._spawnRect;e=d.spawnRect;this.spawnRect=new PIXI.Rectangle(e.x,e.y,e.w,
e.h);break;case "circle":this.spawnType="circle";this._spawnFunc=this._spawnCircle;e=d.spawnCircle;this.spawnCircle=new PIXI.Circle(e.x,e.y,e.r);break;case "ring":this.spawnType="ring";this._spawnFunc=this._spawnRing;e=d.spawnCircle;this.spawnCircle=new PIXI.Circle(e.x,e.y,e.r);this.spawnCircle.minRadius=e.minR;break;case "burst":this.spawnType="burst";this._spawnFunc=this._spawnBurst;this.particleSpacing=d.particleSpacing;this.angleStart=d.angleStart?d.angleStart:0;break;default:this.spawnType="point",
this._spawnFunc=this._spawnPoint}this.frequency=d.frequency;this.spawnChance="number"==typeof d.spawnChance&&0<d.spawnChance?d.spawnChance:1;this.emitterLifetime=d.emitterLifetime||-1;this.maxParticles=0<d.maxParticles?d.maxParticles:1E3;this.addAtBack=!!d.addAtBack;this.rotation=0;this.ownerPos=new PIXI.Point;this.spawnPos=new PIXI.Point(d.pos.x,d.pos.y);this._prevEmitterPos=this.spawnPos.clone();this._prevPosIsValid=!1;this._spawnTimer=0;this.emit=void 0===d.emit||!!d.emit;this.autoUpdate=void 0!==
d.autoUpdate&&!!d.autoUpdate}},d.prototype.recycle=function(a){a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next);a==this._activeParticlesLast&&(this._activeParticlesLast=a.prev);a==this._activeParticlesFirst&&(this._activeParticlesFirst=a.next);a.prev=null;a.next=this._poolFirst;this._poolFirst=a;a.parent&&a.parent.removeChild(a);--this.particleCount},d.prototype.rotate=function(a){if(this.rotation!=a){var f=a-this.rotation;this.rotation=a;b.default.rotatePoint(f,this.spawnPos);this._posChanged=
!0}},d.prototype.updateSpawnPos=function(a,b){this._posChanged=!0;this.spawnPos.x=a;this.spawnPos.y=b},d.prototype.updateOwnerPos=function(a,b){this._posChanged=!0;this.ownerPos.x=a;this.ownerPos.y=b},d.prototype.resetPositionTracking=function(){this._prevPosIsValid=!1},Object.defineProperty(d.prototype,"emit",{get:function(){return this._emit},set:function(a){this._emit=!!a;this._emitterLife=this.emitterLifetime},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"autoUpdate",{get:function(){return this._autoUpdate},
set:function(a){this._autoUpdate&&!a?l.remove(this.update,this):!this._autoUpdate&&a&&l.add(this.update,this);this._autoUpdate=!!a},enumerable:!0,configurable:!0}),d.prototype.playOnceAndDestroy=function(a){this._destroyWhenComplete=this.emit=this.autoUpdate=!0;this._completeCallback=a},d.prototype.playOnce=function(a){this.emit=!0;this._completeCallback=a},d.prototype.update=function(a){if(this._autoUpdate&&(a=a/PIXI.settings.TARGET_FPMS/1E3),this._parent){var b;for(b=this._activeParticlesFirst;b;b=
f){var f=b.next;b.update(a)}var d,e;this._prevPosIsValid&&(d=this._prevEmitterPos.x,e=this._prevEmitterPos.y);b=this.ownerPos.x+this.spawnPos.x;f=this.ownerPos.y+this.spawnPos.y;if(this._emit)for(this._spawnTimer-=a;0>=this._spawnTimer;){if(0<this._emitterLife&&(this._emitterLife-=this._frequency,0>=this._emitterLife)){this._emitterLife=this._spawnTimer=0;this.emit=!1;break}if(!(this.particleCount>=this.maxParticles)){var l=void 0;if(l=this.minLifetime==this.maxLifetime?this.minLifetime:Math.random()*
(this.maxLifetime-this.minLifetime)+this.minLifetime,-this._spawnTimer<l){if(this._prevPosIsValid&&this._posChanged){var c=1+this._spawnTimer/a;var m=(b-d)*c+d;var q=(f-e)*c+e}else m=b,q=f;c=0;for(var r=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount);c<r;++c)if(!(1>this.spawnChance&&Math.random()>=this.spawnChance)){var g=void 0;if(this._poolFirst?(g=this._poolFirst,this._poolFirst=this._poolFirst.next,g.next=null):g=new this.particleConstructor(this),1<this.particleImages.length?
g.applyArt(this.particleImages[Math.floor(Math.random()*this.particleImages.length)]):g.applyArt(this.particleImages[0]),g.alphaList.reset(this.startAlpha),1!=this.minimumSpeedMultiplier&&(g.speedMultiplier=Math.random()*(1-this.minimumSpeedMultiplier)+this.minimumSpeedMultiplier),g.speedList.reset(this.startSpeed),g.acceleration.x=this.acceleration.x,g.acceleration.y=this.acceleration.y,g.maxSpeed=this.maxSpeed,1!=this.minimumScaleMultiplier&&(g.scaleMultiplier=Math.random()*(1-this.minimumScaleMultiplier)+
this.minimumScaleMultiplier),g.scaleList.reset(this.startScale),g.colorList.reset(this.startColor),this.minRotationSpeed==this.maxRotationSpeed?g.rotationSpeed=this.minRotationSpeed:g.rotationSpeed=Math.random()*(this.maxRotationSpeed-this.minRotationSpeed)+this.minRotationSpeed,g.noRotation=this.noRotation,g.maxLife=l,g.blendMode=this.particleBlendMode,g.ease=this.customEase,g.extraData=this.extraData,this._spawnFunc(g,m,q,c),g.init(),g.update(-this._spawnTimer),g.parent){var p=this._parent.children;
if(p[0]==g)p.shift();else if(p[p.length-1]==g)p.pop();else{var h=p.indexOf(g);p.splice(h,1)}this.addAtBack?p.unshift(g):p.push(g)}else this.addAtBack?this._parent.addChildAt(g,0):this._parent.addChild(g);this._activeParticlesLast?(this._activeParticlesLast.next=g,g.prev=this._activeParticlesLast,this._activeParticlesLast=g):this._activeParticlesLast=this._activeParticlesFirst=g;++this.particleCount}}}this._spawnTimer+=this._frequency}this._posChanged&&(this._prevEmitterPos.x=b,this._prevEmitterPos.y=
f,this._prevPosIsValid=!0,this._posChanged=!1);this._emit||this._activeParticlesFirst||(this._completeCallback&&this._completeCallback(),this._destroyWhenComplete&&this.destroy())}},d.prototype._spawnPoint=function(a,b,f){this.minStartRotation==this.maxStartRotation?a.rotation=this.minStartRotation+this.rotation:a.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation;a.position.x=b;a.position.y=f},d.prototype._spawnRect=function(a,f,d){this.minStartRotation==
this.maxStartRotation?a.rotation=this.minStartRotation+this.rotation:a.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation;r.x=Math.random()*this.spawnRect.width+this.spawnRect.x;r.y=Math.random()*this.spawnRect.height+this.spawnRect.y;0!==this.rotation&&b.default.rotatePoint(this.rotation,r);a.position.x=f+r.x;a.position.y=d+r.y},d.prototype._spawnCircle=function(a,f,d){this.minStartRotation==this.maxStartRotation?a.rotation=this.minStartRotation+
this.rotation:a.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation;r.x=Math.random()*this.spawnCircle.radius;r.y=0;b.default.rotatePoint(360*Math.random(),r);r.x+=this.spawnCircle.x;r.y+=this.spawnCircle.y;0!==this.rotation&&b.default.rotatePoint(this.rotation,r);a.position.x=f+r.x;a.position.y=d+r.y},d.prototype._spawnRing=function(a,f,d){var e=this.spawnCircle;this.minStartRotation==this.maxStartRotation?a.rotation=this.minStartRotation+this.rotation:
a.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation;e.minRadius==e.radius?r.x=Math.random()*(e.radius-e.minRadius)+e.minRadius:r.x=e.radius;r.y=0;e=360*Math.random();a.rotation+=e;b.default.rotatePoint(e,r);r.x+=this.spawnCircle.x;r.y+=this.spawnCircle.y;0!==this.rotation&&b.default.rotatePoint(this.rotation,r);a.position.x=f+r.x;a.position.y=d+r.y},d.prototype._spawnBurst=function(a,b,f,d){0===this.particleSpacing?a.rotation=360*Math.random():
a.rotation=this.angleStart+this.particleSpacing*d+this.rotation;a.position.x=b;a.position.y=f},d.prototype.cleanup=function(){var a;for(a=this._activeParticlesFirst;a;a=b){var b=a.next;this.recycle(a);a.parent&&a.parent.removeChild(a)}this._activeParticlesFirst=this._activeParticlesLast=null;this.particleCount=0},d.prototype.destroy=function(){this.autoUpdate=!1;this.cleanup();for(var a,b=this._poolFirst;b;b=a)a=b.next,b.destroy();this._poolFirst=this._parent=this.particleImages=this.spawnPos=this.ownerPos=
this.startColor=this.startScale=this.startAlpha=this.startSpeed=this.customEase=this._completeCallback=null},d}();e.default=c},{"./Particle":3,"./ParticleUtils":4,"./PropertyNode":7}],3:[function(c,d,e){var b=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f])};return function(b,f){function d(){this.constructor=b}a(b,f);b.prototype=null===f?Object.create(f):(d.prototype=
f.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=c("./ParticleUtils"),f=c("./PropertyList");c=function(d){function e(a){var b=d.call(this)||this;return b.emitter=a,b.anchor.x=b.anchor.y=.5,b.velocity=new PIXI.Point,b.maxLife=0,b.age=0,b.ease=null,b.extraData=null,b.alphaList=new f.default,b.speedList=new f.default,b.speedMultiplier=1,b.acceleration=new PIXI.Point,b.maxSpeed=NaN,b.scaleList=new f.default,b.scaleMultiplier=1,b.colorList=new f.default(!0),b._doAlpha=!1,b._doScale=
!1,b._doSpeed=!1,b._doAcceleration=!1,b._doColor=!1,b._doNormalMovement=!1,b._oneOverLife=0,b.next=null,b.prev=null,b.init=b.init,b.Particle_init=e.prototype.init,b.update=b.update,b.Particle_update=e.prototype.update,b.Sprite_destroy=d.prototype.destroy,b.Particle_destroy=e.prototype.destroy,b.applyArt=b.applyArt,b.kill=b.kill,b}return b(e,d),e.prototype.init=function(){this.age=0;this.velocity.x=this.speedList.current.value*this.speedMultiplier;this.velocity.y=0;a.default.rotatePoint(this.rotation,
this.velocity);this.noRotation?this.rotation=0:this.rotation*=a.default.DEG_TO_RADS;this.rotationSpeed*=a.default.DEG_TO_RADS;this.alpha=this.alphaList.current.value;this.scale.x=this.scale.y=this.scaleList.current.value;this._doAlpha=!!this.alphaList.current.next;this._doSpeed=!!this.speedList.current.next;this._doScale=!!this.scaleList.current.next;this._doColor=!!this.colorList.current.next;this._doAcceleration=0!==this.acceleration.x||0!==this.acceleration.y;this._doNormalMovement=this._doSpeed||
0!==this.speedList.current.value||this._doAcceleration;this._oneOverLife=1/this.maxLife;var b=this.colorList.current.value;this.tint=a.default.combineRGBComponents(b.r,b.g,b.b);this.visible=!0},e.prototype.applyArt=function(a){this.texture=a||PIXI.Texture.EMPTY},e.prototype.update=function(b){if(this.age+=b,this.age>=this.maxLife)return this.kill(),-1;var f=this.age*this._oneOverLife;if(this.ease&&(f=4==this.ease.length?this.ease(f,0,1,1):this.ease(f)),this._doAlpha&&(this.alpha=this.alphaList.interpolate(f)),
this._doScale){var d=this.scaleList.interpolate(f)*this.scaleMultiplier;this.scale.x=this.scale.y=d}this._doNormalMovement&&(this._doSpeed?(d=this.speedList.interpolate(f)*this.speedMultiplier,a.default.normalize(this.velocity),a.default.scaleBy(this.velocity,d)):this._doAcceleration&&(this.velocity.x+=this.acceleration.x*b,this.velocity.y+=this.acceleration.y*b,this.maxSpeed)&&(d=a.default.length(this.velocity),d>this.maxSpeed&&a.default.scaleBy(this.velocity,this.maxSpeed/d)),this.position.x+=this.velocity.x*
b,this.position.y+=this.velocity.y*b);return this._doColor&&(this.tint=this.colorList.interpolate(f)),0!==this.rotationSpeed?this.rotation+=this.rotationSpeed*b:this.acceleration&&!this.noRotation&&(this.rotation=Math.atan2(this.velocity.y,this.velocity.x)),f},e.prototype.kill=function(){this.emitter.recycle(this)},e.prototype.destroy=function(){this.parent&&this.parent.removeChild(this);this.Sprite_destroy();this.emitter=this.velocity=this.colorList=this.scaleList=this.alphaList=this.speedList=this.ease=
this.next=this.prev=null},e.parseArt=function(b){var f;for(f=b.length;0<=f;--f)"string"==typeof b[f]&&(b[f]=PIXI.Texture.fromImage(b[f]));if(a.default.verbose)for(f=b.length-1;0<f;--f)if(b[f].baseTexture!=b[f-1].baseTexture){window.console&&console.warn("PixiParticles: using particle textures from different images may hinder performance in WebGL");break}return b},e.parseData=function(a){return a},e}(PIXI.Sprite);e.default=c},{"./ParticleUtils":4,"./PropertyList":6}],4:[function(c,d,e){Object.defineProperty(e,
"__esModule",{value:!0});var b=PIXI.BLEND_MODES,a=c("./PropertyNode"),f={verbose:!1,DEG_TO_RADS:Math.PI/180,rotatePoint:function(a,b){if(a){a*=f.DEG_TO_RADS;var d=Math.sin(a);a=Math.cos(a);var e=b.x*d+b.y*a;b.x=b.x*a-b.y*d;b.y=e}},combineRGBComponents:function(a,b,f){return a<<16|b<<8|f},normalize:function(a){var b=1/f.length(a);a.x*=b;a.y*=b},scaleBy:function(a,b){a.x*=b;a.y*=b},length:function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},hexToRGB:function(a,b){b||(b={});"#"==a.charAt(0)?a=a.substr(1):
0===a.indexOf("0x")&&(a=a.substr(2));var f;return 8==a.length&&(f=a.substr(0,2),a=a.substr(2)),b.r=parseInt(a.substr(0,2),16),b.g=parseInt(a.substr(2,2),16),b.b=parseInt(a.substr(4,2),16),f&&(b.a=parseInt(f,16)),b},generateEase:function(a){var b=a.length,f=1/b;return function(d){var e,c,l=b*d|0;return e=(d-l*f)*b,c=a[l]||a[b-1],c.s+e*(2*(1-e)*(c.cp-c.s)+e*(c.e-c.s))}},getBlendMode:function(a){if(!a)return b.NORMAL;for(a=a.toUpperCase();0<=a.indexOf(" ");)a=a.replace(" ","_");return b[a]||b.NORMAL},
createSteppedGradient:function(b,d){void 0===d&&(d=10);("number"!=typeof d||0>=d)&&(d=10);var e=new a.default(b[0].value,b[0].time);e.isStepped=!0;for(var c=e,l=b[0],r=1,g=b[r],p=1;p<d;++p){for(var h=p/d;h>g.time;)l=g,g=b[++r];h=(h-l.time)/(g.time-l.time);var k=f.hexToRGB(l.value),z=f.hexToRGB(g.value),B={};B.r=(z.r-k.r)*h+k.r;B.g=(z.g-k.g)*h+k.g;B.b=(z.b-k.b)*h+k.b;c.next=new a.default(B,p/d);c=c.next}return e}};e.default=f},{"./PropertyNode":7}],5:[function(c,d,e){var b=this&&this.__extends||function(){var a=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f])};return function(b,f){function d(){this.constructor=b}a(b,f);b.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=c("./ParticleUtils"),f=c("./Particle"),l=new PIXI.Point,r="pow sqrt abs floor round ceil E PI sin cos tan asin acos atan atan2 log".split(" "),m=new RegExp(["[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]"].concat(r).join("|"),
"g");c=function(d){function e(a){a=d.call(this,a)||this;return a.path=null,a.initialRotation=0,a.initialPosition=new PIXI.Point,a.movement=0,a}return b(e,d),e.prototype.init=function(){this.initialRotation=this.rotation;this.Particle_init();this.path=this.extraData.path;this._doNormalMovement=!this.path;this.movement=0;this.initialPosition.x=this.position.x;this.initialPosition.y=this.position.y},e.prototype.update=function(b){var f=this.Particle_update(b);if(0<=f&&this.path){var d=this.speedList.interpolate(f)*
this.speedMultiplier;this.movement+=d*b;l.x=this.movement;l.y=this.path(this.movement);a.default.rotatePoint(this.initialRotation,l);this.position.x=this.initialPosition.x+l.x;this.position.y=this.initialPosition.y+l.y}return f},e.prototype.destroy=function(){this.Particle_destroy();this.path=this.initialPosition=null},e.parseArt=function(a){return f.default.parseArt(a)},e.parseData=function(b){var f={};if(b&&b.path)try{for(var d,e=b.path,c=e.match(m),l=c.length-1;0<=l;--l)0<=r.indexOf(c[l])&&(c[l]=
"Math."+c[l]);d=(e=c.join(""),new Function("x","return "+e+";"));f.path=d}catch(B){a.default.verbose&&console.error("PathParticle: error in parsing path expression"),f.path=null}else a.default.verbose&&console.error("PathParticle requires a path string in extraData!"),f.path=null;return f},e}(f.default);e.default=c},{"./Particle":3,"./ParticleUtils":4}],6:[function(c,d,e){function b(a){return this.ease&&(a=this.ease(a)),(this.next.value-this.current.value)*a+this.current.value}function a(a){this.ease&&
(a=this.ease(a));var b=this.current.value,f=this.next.value;return q.default.combineRGBComponents((f.r-b.r)*a+b.r,(f.g-b.g)*a+b.g,(f.b-b.b)*a+b.b)}function f(a){for(this.ease&&(a=this.ease(a));a>this.next.time;)this.current=this.next,this.next=this.next.next;return a=(a-this.current.time)/(this.next.time-this.current.time),(this.next.value-this.current.value)*a+this.current.value}function l(a){for(this.ease&&(a=this.ease(a));a>this.next.time;)this.current=this.next,this.next=this.next.next;a=(a-this.current.time)/
(this.next.time-this.current.time);var b=this.current.value,f=this.next.value;return q.default.combineRGBComponents((f.r-b.r)*a+b.r,(f.g-b.g)*a+b.g,(f.b-b.b)*a+b.b)}function r(a){for(this.ease&&(a=this.ease(a));this.next&&a>this.next.time;)this.current=this.next,this.next=this.next.next;return this.current.value}function m(a){for(this.ease&&(a=this.ease(a));this.next&&a>this.next.time;)this.current=this.next,this.next=this.next.next;a=this.current.value;return q.default.combineRGBComponents(a.r,a.g,
a.b)}Object.defineProperty(e,"__esModule",{value:!0});var q=c("./ParticleUtils");c=function(){function d(a){void 0===a&&(a=!1);this.next=this.current=null;this.isColor=!!a;this.ease=this.interpolate=null}return d.prototype.reset=function(d){this.current=d;(this.next=d.next)&&1<=this.next.time?this.interpolate=this.isColor?a:b:d.isStepped?this.interpolate=this.isColor?m:r:this.interpolate=this.isColor?l:f;this.ease=this.current.ease},d}();e.default=c},{"./ParticleUtils":4}],7:[function(c,d,e){Object.defineProperty(e,
"__esModule",{value:!0});var b=c("./ParticleUtils");c=function(){function a(a,d,e){this.value="string"==typeof a?b.default.hexToRGB(a):a;this.time=d;this.next=null;this.isStepped=!1;this.ease=e?"function"==typeof e?e:b.default.generateEase(e):null}return a.createList=function(b){if(Array.isArray(b.list)){var f=b.list,d,e;if(e=d=new a(f[0].value,f[0].time,b.ease),2<f.length||2===f.length&&f[1].value!==f[0].value)for(var c=1;c<f.length;++c)d.next=new a(f[c].value,f[c].time),d=d.next;return e.isStepped=
!!b.isStepped,e}f=new a(b.start,0);return b.end!==b.start&&(f.next=new a(b.end,1)),f},a}();e.default=c},{"./ParticleUtils":4}],8:[function(c,d,e){Object.defineProperty(e,"__esModule",{value:!0});d=c("./ParticleUtils.js");e.ParticleUtils=d.default;d=c("./Particle.js");e.Particle=d.default;d=c("./Emitter.js");e.Emitter=d.default;d=c("./PathParticle.js");e.PathParticle=d.default;c=c("./AnimatedParticle.js");e.AnimatedParticle=c.default},{"./AnimatedParticle.js":1,"./Emitter.js":2,"./Particle.js":3,"./ParticleUtils.js":4,
"./PathParticle.js":5}],9:[function(c,d,e){if(Object.defineProperty(e,"__esModule",{value:!0}),"undefined"==typeof PIXI)throw"pixi-particles requires pixi.js to be loaded first";PIXI.particles||(PIXI.particles={});c=c("./particles");for(var b in c)PIXI.particles[b]=c[b]},{"./particles":8}]},{},[9])(9)})}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],35:[function(c,k,h){function g(d,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}var p=function(){function d(b,a){for(var f=0;f<a.length;f++){var d=a[f];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,f){a&&d(b.prototype,a);f&&d(b,f);return b}}(),d=c("./utils");c=c("./plugin");k.exports=function(e){function b(a,
f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a=(b.__proto__||Object.getPrototypeOf(b)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;f=f||{};a.time=f.time||150;a.ease=d.ease(f.ease,"easeInOutSine");a.friction=f.friction||.5;f.sides=f.sides||"all";f.sides&&("all"===f.sides?a.top=a.bottom=a.left=a.right=!0:"horizontal"===f.sides?a.right=a.left=
!0:"vertical"===f.sides?a.top=a.bottom=!0:(a.top=-1!==f.sides.indexOf("top"),a.bottom=-1!==f.sides.indexOf("bottom"),a.left=-1!==f.sides.indexOf("left"),a.right=-1!==f.sides.indexOf("right")));a.parseUnderflow(f.underflow||"center");a.last={};return a}g(b,e);p(b,[{key:"parseUnderflow",value:function(a){a=a.toLowerCase();"center"===a?this.underflowY=this.underflowX=0:(this.underflowX=-1!==a.indexOf("left")?-1:-1!==a.indexOf("right")?1:0,this.underflowY=-1!==a.indexOf("top")?-1:-1!==a.indexOf("bottom")?
1:0)}},{key:"down",value:function(){this.toX=this.toY=null}},{key:"up",value:function(){this.bounce()}},{key:"update",value:function(a){if(!this.paused){this.bounce();if(this.toX){var b=this.toX;b.time+=a;this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"});b.time>=this.time?(this.parent.x=b.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(b.time,b.start,b.delta,this.time);this.parent.dirty=!0}this.toY&&(b=this.toY,b.time+=a,this.parent.emit("moved",
{viewport:this.parent,type:"bounce-y"}),b.time>=this.time?(this.parent.y=b.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(b.time,b.start,b.delta,this.time),this.parent.dirty=!0)}}},{key:"calcUnderflowX",value:function(){switch(this.underflowX){case -1:var a=0;break;case 1:a=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:a=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return a}},{key:"calcUnderflowY",value:function(){switch(this.underflowY){case -1:var a=
0;break;case 1:a=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:a=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return a}},{key:"bounce",value:function(){if(!this.paused){var a=void 0,b=this.parent.plugins.decelerate;if(b&&(b.x||b.y)&&(b.x&&b.percentChangeX===b.friction||b.y&&b.percentChangeY===b.friction)){a=this.parent.OOB();if(a.left&&this.left||a.right&&this.right)b.percentChangeX=this.friction;if(a.top&&this.top||a.bottom&&this.bottom)b.percentChangeY=this.friction}var d=
this.parent.plugins.drag||{},e=this.parent.plugins.pinch||{};b=b||{};d.active||e.active||this.toX&&this.toY||b.x&&b.y||(a=a||this.parent.OOB(),d=a.cornerPoint,this.toX||b.x||(e=null,a.left&&this.left?e=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():0:a.right&&this.right&&(e=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-d.x),null!==e&&this.parent.x!==e&&(this.toX={time:0,start:this.parent.x,delta:e-this.parent.x,end:e},this.parent.emit("bounce-x-start",
this.parent))),this.toY||b.y||(b=null,a.top&&this.top?b=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():0:a.bottom&&this.bottom&&(b=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-d.y),null!==b&&this.parent.y!==b&&(this.toY={time:0,start:this.parent.y,delta:b-this.parent.y,end:b},this.parent.emit("bounce-y-start",this.parent))))}}},{key:"reset",value:function(){this.toX=this.toY=null}}]);return b}(c)},{"./plugin":43,"./utils":46}],36:[function(c,
k,h){function g(d,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(d,e):d.__proto__=e)}var p=function(){function d(d,b){for(var a=0;a<b.length;a++){var f=b[a];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(d,f.key,f)}}
return function(e,b,a){b&&d(e.prototype,b);a&&d(e,a);return e}}();c=c("./plugin");k.exports=function(d){function e(b,a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");b=(e.__proto__||Object.getPrototypeOf(e)).call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.minWidth=a.minWidth;b.minHeight=a.minHeight;b.maxWidth=a.maxWidth;b.maxHeight=a.maxHeight;return b}
g(e,d);p(e,[{key:"resize",value:function(){this.clamp()}},{key:"clamp",value:function(){if(!this.paused){var b=this.parent.worldScreenWidth,a=this.parent.worldScreenHeight;this.minWidth&&b<this.minWidth&&(this.parent.fitWidth(this.minWidth),b=this.parent.worldScreenWidth,a=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}));this.maxWidth&&b>this.maxWidth&&(this.parent.fitWidth(this.maxWidth),a=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,
type:"clamp-zoom"}));this.minHeight&&a<this.minHeight&&(this.parent.fitHeight(this.minHeight),a=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}));this.maxHeight&&a>this.maxHeight&&(this.parent.fitHeight(this.maxHeight),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}]);return e}(c)},{"./plugin":43}],37:[function(c,k,h){function g(d,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}var p=function(){function d(b,a){for(var f=0;f<a.length;f++){var d=a[f];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,f){a&&d(b.prototype,a);f&&d(b,f);return b}}();h=c("./plugin");var d=c("./utils");k.exports=function(e){function b(a,
f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");f=f||{};a=(b.__proto__||Object.getPrototypeOf(b)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;"undefined"===typeof f.direction?(a.left=d.defaults(f.left,null),a.right=d.defaults(f.right,null),a.top=d.defaults(f.top,null),a.bottom=d.defaults(f.bottom,null)):(a.left="x"===f.direction||"all"===f.direction,
a.right="x"===f.direction||"all"===f.direction,a.top="y"===f.direction||"all"===f.direction,a.bottom="y"===f.direction||"all"===f.direction);a.parseUnderflow(f.underflow||"center");a.move();return a}g(b,e);p(b,[{key:"parseUnderflow",value:function(a){a=a.toLowerCase();"center"===a?this.underflowY=this.underflowX=0:(this.underflowX=-1!==a.indexOf("left")?-1:-1!==a.indexOf("right")?1:0,this.underflowY=-1!==a.indexOf("top")?-1:-1!==a.indexOf("bottom")?1:0)}},{key:"move",value:function(){this.update()}},
{key:"update",value:function(){if(!this.paused){var a=this.parent.plugins.decelerate||{};if(null!==this.left||null!==this.right){if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case -1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else null!==this.left&&this.parent.left<(!0===this.left?0:this.left)&&(this.parent.x=-(!0===this.left?0:
this.left)*this.parent.scale.x,a.x=0),null!==this.right&&this.parent.right>(!0===this.right?this.parent.worldWidth:this.right)&&(this.parent.x=-(!0===this.right?this.parent.worldWidth:this.right)*this.parent.scale.x+this.parent.screenWidth,a.x=0);this.parent.emit("moved",{viewport:this.parent,type:"clamp-x"})}if(null!==this.top||null!==this.bottom){if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case -1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-
this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else null!==this.top&&this.parent.top<(!0===this.top?0:this.top)&&(this.parent.y=-(!0===this.top?0:this.top)*this.parent.scale.y,a.y=0),null!==this.bottom&&this.parent.bottom>(!0===this.bottom?this.parent.worldHeight:this.bottom)&&(this.parent.y=-(!0===this.bottom?this.parent.worldHeight:this.bottom)*this.parent.scale.y+this.parent.screenHeight,a.y=0);this.parent.emit("moved",{viewport:this.parent,
type:"clamp-y"})}}}}]);return b}(h)},{"./plugin":43,"./utils":46}],38:[function(c,k,h){function g(d,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(d,e):d.__proto__=e)}var p=function(){function d(d,b){for(var a=0;a<b.length;a++){var f=b[a];f.enumerable=f.enumerable||
!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(d,f.key,f)}}return function(e,b,a){b&&d(e.prototype,b);a&&d(e,a);return e}}();c("./utils");c=c("./plugin");k.exports=function(d){function e(b,a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");b=(e.__proto__||Object.getPrototypeOf(e)).call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:
b;a=a||{};b.friction=a.friction||.95;b.bounce=a.bounce||.5;b.minSpeed="undefined"!==typeof a.minSpeed?a.minSpeed:.01;b.saved=[];return b}g(e,d);p(e,[{key:"down",value:function(){this.saved=[];this.x=this.y=!1}},{key:"move",value:function(){if(!this.paused){var b=this.parent.countDownPointers();if(1===b||1<b&&!this.parent.plugins.pinch)this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),60<this.saved.length&&this.saved.splice(0,30)}}},{key:"up",value:function(){if(0===this.parent.countDownPointers()&&
this.saved.length){var b=performance.now(),a=!0,d=!1,e=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var c=this.saved[Symbol.iterator](),m;!(a=(m=c.next()).done);a=!0){var q=m.value;if(q.time>=b-100){var g=b-q.time;this.x=(this.parent.x-q.x)/g;this.y=(this.parent.y-q.y)/g;this.percentChangeX=this.percentChangeY=this.friction;break}}}catch(v){d=!0,e=v}finally{try{!a&&c.return&&c.return()}finally{if(d)throw e;}}}}},{key:"activate",value:function(b){b=b||{};"undefined"!==typeof b.x&&
(this.x=b.x,this.percentChangeX=this.friction);"undefined"!==typeof b.y&&(this.y=b.y,this.percentChangeY=this.friction)}},{key:"update",value:function(b){if(!this.paused){var a=void 0;this.x&&(this.parent.x+=this.x*b,this.x*=this.percentChangeX,Math.abs(this.x)<this.minSpeed&&(this.x=0),a=!0);this.y&&(this.parent.y+=this.y*b,this.y*=this.percentChangeY,Math.abs(this.y)<this.minSpeed&&(this.y=0),a=!0);a&&(this.parent.dirty=!0,this.parent.emit("moved",{viewport:this.parent,type:"decelerate"}))}}},{key:"reset",
value:function(){this.x=this.y=null}}]);return e}(c)},{"./plugin":43,"./utils":46}],39:[function(c,k,h){function g(d,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}var p=function(){function d(b,a){for(var d=0;d<a.length;d++){var e=a[d];e.enumerable=
e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,a,f){a&&d(b.prototype,a);f&&d(b,f);return b}}(),d=c("./utils");c=c("./plugin");k.exports=function(e){function b(a,f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");f=f||{};a=(b.__proto__||Object.getPrototypeOf(b)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==
typeof a?this:a;a.moved=!1;a.wheelActive=d.defaults(f.wheel,!0);a.wheelScroll=f.wheelScroll||1;a.reverse=f.reverse?1:-1;a.clampWheel=f.clampWheel;a.xDirection=!f.direction||"all"===f.direction||"x"===f.direction;a.yDirection=!f.direction||"all"===f.direction||"y"===f.direction;a.parseUnderflow(f.underflow||"center");return a}g(b,e);p(b,[{key:"parseUnderflow",value:function(a){a=a.toLowerCase();"center"===a?this.underflowY=this.underflowX=0:(this.underflowX=-1!==a.indexOf("left")?-1:-1!==a.indexOf("right")?
1:0,this.underflowY=-1!==a.indexOf("top")?-1:-1!==a.indexOf("bottom")?1:0)}},{key:"down",value:function(a){if(!this.paused){var b=this.parent.countDownPointers();(1===b||1<b&&!this.parent.plugins.pinch)&&this.parent.parent?(b=this.parent.parent.toLocal(a.data.global),this.last={x:a.data.global.x,y:a.data.global.y,parent:b},this.current=a.data.pointerId):this.last=null}}},{key:"move",value:function(a){if(!this.paused&&this.last&&this.current===a.data.pointerId){var b=a.data.global.x,d=a.data.global.y,
e=this.parent.countDownPointers();if(1===e||1<e&&!this.parent.plugins.pinch){e=b-this.last.x;var c=d-this.last.y;if(this.moved||this.xDirection&&this.parent.checkThreshold(e)||this.yDirection&&this.parent.checkThreshold(c))a=this.parent.parent.toLocal(a.data.global),this.xDirection&&(this.parent.x+=a.x-this.last.parent.x),this.yDirection&&(this.parent.y+=a.y-this.last.parent.y),this.last={x:b,y:d,parent:a},this.moved||this.parent.emit("drag-start",{screen:this.last,world:this.parent.toWorld(this.last),
viewport:this.parent}),this.moved=!0,this.parent.dirty=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"})}else this.moved=!1}}},{key:"up",value:function(){var a=this.parent.getTouchPointers();if(1===a.length){a=a[0];if(a.last){var b=this.parent.parent.toLocal(a.last);this.last={x:a.last.x,y:a.last.y,parent:b};this.current=a.last.data.pointerId}this.moved=!1}else this.last&&this.moved&&(this.parent.emit("drag-end",{screen:this.last,world:this.parent.toWorld(this.last),viewport:this.parent}),
this.last=this.moved=!1)}},{key:"wheel",value:function(a){if(!this.paused&&this.wheelActive&&!this.parent.plugins.wheel)return this.parent.x+=a.deltaX*this.wheelScroll*this.reverse,this.parent.y+=a.deltaY*this.wheelScroll*this.reverse,this.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",this.parent),this.parent.dirty=!0,a.preventDefault(),!0}},{key:"resume",value:function(){this.last=null;this.paused=!1}},{key:"clamp",value:function(){var a=this.parent.plugins.decelerate||
{};if("y"!==this.clampWheel)if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case -1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else 0>this.parent.left?(this.parent.x=0,a.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,a.x=0);if("x"!==this.clampWheel)if(this.parent.screenWorldHeight<
this.parent.screenHeight)switch(this.underflowY){case -1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else 0>this.parent.top&&(this.parent.y=0,a.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,a.y=0)}},{key:"active",get:function(){return this.moved}}]);return b}(c)},{"./plugin":43,
"./utils":46}],40:[function(c,k,h){function g(d,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(d,e):d.__proto__=e)}var p=function(){function d(d,b){for(var a=0;a<b.length;a++){var f=b[a];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(d,
f.key,f)}}return function(e,b,a){b&&d(e.prototype,b);a&&d(e,a);return e}}();c=c("./plugin");k.exports=function(d){function e(b,a,d){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");b=(e.__proto__||Object.getPrototypeOf(e)).call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;d=d||{};b.speed=d.speed||0;b.target=a;b.radius=d.radius;return b}g(e,d);p(e,[{key:"update",
value:function(){if(!this.paused){var b=this.parent.center,a=this.target.x,d=this.target.y;if(this.radius)if(Math.sqrt(Math.pow(this.target.y-b.y,2)+Math.pow(this.target.x-b.x,2))>this.radius)d=Math.atan2(this.target.y-b.y,this.target.x-b.x),a=this.target.x-Math.cos(d)*this.radius,d=this.target.y-Math.sin(d)*this.radius;else return;if(this.speed){var e=a-b.x,c=d-b.y;if(e||c){var m=Math.atan2(d-b.y,a-b.x),q=Math.cos(m)*this.speed;m=Math.sin(m)*this.speed;this.parent.moveCenter(Math.abs(q)>Math.abs(e)?
a:b.x+q,Math.abs(m)>Math.abs(c)?d:b.y+m);this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else this.parent.moveCenter(a,d),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}}]);return e}(c)},{"./plugin":43}],41:[function(c,k,h){function g(d,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});
b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}var p=function(){function d(b,a){for(var d=0;d<a.length;d++){var e=a[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,a,f){a&&d(b.prototype,a);f&&d(b,f);return b}}(),d=c("./utils");c=c("./plugin");k.exports=function(e){function b(a,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a=(b.__proto__||Object.getPrototypeOf(b)).call(this,
a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;d=d||{};a.options=d;a.reverse=d.reverse?1:-1;a.noDecelerate=d.noDecelerate;a.linear=d.linear;a.radiusSquared=Math.pow(d.radius,2);a.resize();a.speed=d.speed||8;return a}g(b,e);p(b,[{key:"resize",value:function(){var a=this.options,b=a.distance;d.exists(b)?(this.top=this.left=b,this.right=window.innerWidth-b,this.bottom=window.innerHeight-b):this.radius||
(this.left=d.exists(a.left)?a.left:null,this.top=d.exists(a.top)?a.top:null,this.right=d.exists(a.right)?window.innerWidth-a.right:null,this.bottom=d.exists(a.bottom)?window.innerHeight-a.bottom:null)}},{key:"down",value:function(){this.horizontal=this.vertical=null}},{key:"move",value:function(a){if("MOUSE"===a.data.identifier&&0===a.data.buttons){var b=a.data.global.x;a=a.data.global.y;if(this.radiusSquared){var e=this.parent.toScreen(this.parent.center);Math.pow(e.x-b,2)+Math.pow(e.y-a,2)>=this.radiusSquared?
(b=Math.atan2(e.y-a,e.x-b),this.linear?(this.horizontal=Math.round(Math.cos(b))*this.speed*this.reverse*.06,this.vertical=Math.round(Math.sin(b))*this.speed*this.reverse*.06):(this.horizontal=Math.cos(b)*this.speed*this.reverse*.06,this.vertical=Math.sin(b)*this.speed*this.reverse*.06)):(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0)}else d.exists(this.left)&&b<this.left?this.horizontal=1*this.reverse*this.speed*.06:d.exists(this.right)&&
b>this.right?this.horizontal=-1*this.reverse*this.speed*.06:(this.decelerateHorizontal(),this.horizontal=0),d.exists(this.top)&&a<this.top?this.vertical=1*this.reverse*this.speed*.06:d.exists(this.bottom)&&a>this.bottom?this.vertical=-1*this.reverse*this.speed*.06:(this.decelerateVertical(),this.vertical=0)}}},{key:"decelerateHorizontal",value:function(){var a=this.parent.plugins.decelerate;this.horizontal&&a&&!this.noDecelerate&&a.activate({x:this.horizontal*this.speed*this.reverse/(1E3/60)})}},
{key:"decelerateVertical",value:function(){var a=this.parent.plugins.decelerate;this.vertical&&a&&!this.noDecelerate&&a.activate({y:this.vertical*this.speed*this.reverse/(1E3/60)})}},{key:"up",value:function(){this.horizontal&&this.decelerateHorizontal();this.vertical&&this.decelerateVertical();this.horizontal=this.vertical=null}},{key:"update",value:function(){if(!this.paused&&(this.horizontal||this.vertical)){var a=this.parent.center;this.horizontal&&(a.x+=this.horizontal*this.speed);this.vertical&&
(a.y+=this.vertical*this.speed);this.parent.moveCenter(a);this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}]);return b}(c)},{"./plugin":43,"./utils":46}],42:[function(c,k,h){function g(d,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(d,e):d.__proto__=
e)}var p=function(){function d(d,b){for(var a=0;a<b.length;a++){var f=b[a];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(d,f.key,f)}}return function(e,b,a){b&&d(e.prototype,b);a&&d(e,a);return e}}();c=c("./plugin");k.exports=function(d){function e(b,a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");b=(e.__proto__||Object.getPrototypeOf(e)).call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;a=a||{};b.percent=a.percent||1;b.noDrag=a.noDrag;b.center=a.center;return b}g(e,d);p(e,[{key:"down",value:function(){2<=this.parent.countDownPointers()&&(this.active=!0)}},{key:"move",value:function(b){if(!this.paused&&this.active){var a=b.data.global.x,d=b.data.global.y,e=this.parent.getTouchPointers();if(2<=e.length){var c=e[0];e=e[1];var m=c.last&&e.last?Math.sqrt(Math.pow(e.last.x-c.last.x,2)+Math.pow(e.last.y-c.last.y,2)):null;c.pointerId===
b.data.pointerId?c.last={x:a,y:d,data:b.data}:e.pointerId===b.data.pointerId&&(e.last={x:a,y:d,data:b.data});m?(a=void 0,b={x:c.last.x+(e.last.x-c.last.x)/2,y:c.last.y+(e.last.y-c.last.y)/2},this.center||(a=this.parent.toLocal(b)),c=(Math.sqrt(Math.pow(e.last.x-c.last.x,2)+Math.pow(e.last.y-c.last.y,2))-m)/this.parent.screenWidth*this.parent.scale.x*this.percent,this.parent.scale.x+=c,this.parent.scale.y+=c,this.parent.emit("zoomed",{viewport:this.parent,type:"pinch"}),(c=this.parent.plugins["clamp-zoom"])&&
c.clamp(),this.center?this.parent.moveCenter(this.center):(c=this.parent.toGlobal(a),this.parent.x+=b.x-c.x,this.parent.y+=b.y-c.y,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),!this.noDrag&&this.lastCenter&&(this.parent.x+=b.x-this.lastCenter.x,this.parent.y+=b.y-this.lastCenter.y,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=b,this.moved=!0):this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);this.parent.dirty=!0}}}},{key:"up",
value:function(){this.pinching&&1>=this.parent.touches.length&&(this.active=!1,this.lastCenter=null,this.moved=this.pinching=!1,this.parent.emit("pinch-end",this.parent))}}]);return e}(c)},{"./plugin":43}],43:[function(c,k,h){var g=function(){function c(d,e){for(var b=0;b<e.length;b++){var a=e[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,e,b){e&&c(d.prototype,e);b&&c(d,b);return d}}();k.exports=function(){function c(d){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");this.parent=d;this.paused=!1}g(c,[{key:"down",value:function(){}},{key:"move",value:function(){}},{key:"up",value:function(){}},{key:"wheel",value:function(){}},{key:"update",value:function(){}},{key:"resize",value:function(){}},{key:"reset",value:function(){}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}}]);return c}()},{}],44:[function(c,k,h){function g(b,a){if("function"!==typeof a&&null!==
a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}var p=function(){function b(a,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(a,d,e){d&&b(a.prototype,d);e&&b(a,e);
return a}}(),d=function r(a,d,e){null===a&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,d);if(void 0===f){if(a=Object.getPrototypeOf(a),null!==a)return r(a,d,e)}else{if("value"in f)return f.value;d=f.get;return void 0===d?void 0:d.call(e)}};h=c("./plugin");var e=c("./utils");k.exports=function(a){function f(a,d){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var c=(f.__proto__||Object.getPrototypeOf(f)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;d=d||{};c.width=d.width;c.height=d.height;0<c.width&&(c.x_scale=a._screenWidth/c.width);0<c.height&&(c.y_scale=a._screenHeight/c.height);c.xIndependent=e.exists(c.x_scale);c.yIndependent=e.exists(c.y_scale);c.x_scale=c.xIndependent?c.x_scale:c.y_scale;c.y_scale=c.yIndependent?c.y_scale:c.x_scale;c.time=e.defaults(d.time,1E3);c.ease=e.ease(d.ease,"easeInOutSine");c.center=d.center;c.noMove=d.noMove;c.stopOnResize=d.stopOnResize;c.removeOnInterrupt=
d.removeOnInterrupt;c.removeOnComplete=e.defaults(d.removeOnComplete,!0);c.interrupt=e.defaults(d.interrupt,!0);0===c.time?(a.container.scale.x=c.x_scale,a.container.scale.y=c.y_scale,c.removeOnComplete&&c.parent.removePlugin("snap-zoom")):d.forceStart&&c.createSnapping();return c}g(f,a);p(f,[{key:"createSnapping",value:function(){var a=this.parent.scale;this.snapping={time:0,startX:a.x,startY:a.y,deltaX:this.x_scale-a.x,deltaY:this.y_scale-a.y};this.parent.emit("snap-zoom-start",this.parent)}},{key:"resize",
value:function(){this.snapping=null;0<this.width&&(this.x_scale=this.parent._screenWidth/this.width);0<this.height&&(this.y_scale=this.parent._screenHeight/this.height);this.x_scale=this.xIndependent?this.x_scale:this.y_scale;this.y_scale=this.yIndependent?this.y_scale:this.x_scale}},{key:"reset",value:function(){this.snapping=null}},{key:"wheel",value:function(){this.removeOnInterrupt&&this.parent.removePlugin("snap-zoom")}},{key:"down",value:function(){this.removeOnInterrupt?this.parent.removePlugin("snap-zoom"):
this.interrupt&&(this.snapping=null)}},{key:"update",value:function(a){if(!(this.paused||this.interrupt&&0!==this.parent.countDownPointers())){var d=void 0;this.center||this.noMove||(d=this.parent.center);if(!this.snapping)this.parent.scale.x===this.x_scale&&this.parent.scale.y===this.y_scale||this.createSnapping();else if(this.snapping){var f=this.snapping;f.time+=a;f.time>=this.time?(this.parent.scale.set(this.x_scale,this.y_scale),this.removeOnComplete&&this.parent.removePlugin("snap-zoom"),this.parent.emit("snap-zoom-end",
this.parent),this.snapping=null):(a=this.snapping,this.parent.scale.x=this.ease(a.time,a.startX,a.deltaX,this.time),this.parent.scale.y=this.ease(a.time,a.startY,a.deltaY,this.time));(a=this.parent.plugins["clamp-zoom"])&&a.clamp();this.noMove||(this.center?this.parent.moveCenter(this.center):this.parent.moveCenter(d))}}}},{key:"resume",value:function(){this.snapping=null;d(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"resume",this).call(this)}}]);return f}(h)},{"./plugin":43,"./utils":46}],
45:[function(c,k,h){function g(d,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}var p=function(){function d(b,a){for(var d=0;d<a.length;d++){var e=a[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,
e.key,e)}}return function(b,a,f){a&&d(b.prototype,a);f&&d(b,f);return b}}();h=c("./plugin");var d=c("./utils");k.exports=function(e){function b(a,f,e,c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a=(b.__proto__||Object.getPrototypeOf(b)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;c=c||{};a.friction=c.friction||.8;a.time=c.time||1E3;a.ease=d.ease(c.ease,
"easeInOutSine");a.x=f;a.y=e;a.topLeft=c.topLeft;a.interrupt=d.defaults(c.interrupt,!0);a.removeOnComplete=c.removeOnComplete;a.removeOnInterrupt=c.removeOnInterrupt;c.forceStart&&a.startEase();return a}g(b,e);p(b,[{key:"snapStart",value:function(){this.percent=0;this.snapping={time:0};var a=this.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-a.x;this.deltaY=this.y-a.y;this.startX=a.x;this.startY=a.y;this.parent.emit("snap-start",this.parent)}},{key:"wheel",value:function(){this.removeOnInterrupt&&
this.parent.removePlugin("snap")}},{key:"down",value:function(){this.removeOnInterrupt?this.parent.removePlugin("snap"):this.interrupt&&(this.snapping=null)}},{key:"up",value:function(){if(0===this.parent.countDownPointers()){var a=this.parent.plugins.decelerate;a&&(a.x||a.y)&&(a.percentChangeX=a.percentChangeY=this.friction)}}},{key:"update",value:function(a){if(!(this.paused||this.interrupt&&0!==this.parent.countDownPointers()))if(this.snapping){var b=this.snapping;b.time+=a;a=void 0;if(b.time>
this.time){a=!0;b=this.startX+this.deltaX;var d=this.startY+this.deltaY}else d=this.ease(b.time,0,1,this.time),b=this.startX+this.deltaX*d,d=this.startY+this.deltaY*d;this.topLeft?this.parent.moveCorner(b,d):this.parent.moveCenter(b,d);this.parent.emit("moved",{viewport:this.parent,type:"snap"});a&&(this.removeOnComplete&&this.parent.removePlugin("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else a=this.topLeft?this.parent.corner:this.parent.center,a.x===this.x&&a.y===this.y||
this.snapStart()}}]);return b}(h)},{"./plugin":43,"./utils":46}],46:[function(c,k,h){function g(d){return void 0!==d&&null!==d}var p=c("penner");k.exports={exists:g,defaults:function(d,e){return void 0!==d&&null!==d?d:e},ease:function(d,e){if(g(d)){if("function"===typeof d)return d;if("string"===typeof d)return p[d]}else return p[e]}}},{penner:15}],47:[function(c,k,h){function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&
"function"!==typeof b?a:b}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var d=function(){function a(a,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,
f.key,f)}}return function(b,d,f){d&&a(b.prototype,d);f&&a(b,f);return b}}(),e=function H(a,b,d){null===a&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,b);if(void 0===f){if(a=Object.getPrototypeOf(a),null!==a)return H(a,b,d)}else{if("value"in f)return f.value;b=f.get;return void 0===b?void 0:b.call(d)}},b=c("./utils"),a=c("./drag"),f=c("./pinch"),l=c("./clamp"),r=c("./clamp-zoom"),m=c("./decelerate"),q=c("./bounce"),y=c("./snap"),v=c("./snap-zoom"),u=c("./follow"),A=c("./wheel"),
t=c("./mouse-edges"),x="drag pinch wheel follow mouse-edges decelerate bounce snap-zoom clamp-zoom snap clamp".split(" ");c=function(c){function h(a){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");a=a||{};var d=g(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));d.plugins={};d.pluginsList=[];d._screenWidth=a.screenWidth;d._screenHeight=a.screenHeight;d._worldWidth=a.worldWidth;d._worldHeight=a.worldHeight;d.hitAreaFullScreen=b.defaults(a.hitAreaFullScreen,
!0);d.forceHitArea=a.forceHitArea;d.threshold=b.defaults(a.threshold,5);d.interaction=a.interaction||null;d.div=a.divWheel||document.body;d.listeners(d.div);d.touches=[];d.ticker=a.ticker||PIXI.ticker.shared;d.tickerFunction=function(){return d.update()};d.ticker.add(d.tickerFunction);return d}p(h,c);d(h,[{key:"removeListeners",value:function(){this.ticker.remove(this.tickerFunction);this.div.removeEventListener("wheel",this.wheelFunction)}},{key:"destroy",value:function(){e(h.prototype.__proto__||
Object.getPrototypeOf(h.prototype),"destroy",this).call(this);this.removeListeners()}},{key:"update",value:function(){if(!this.pause){var a=!0,b=!1,d=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var f=this.pluginsList[Symbol.iterator](),e;!(a=(e=f.next()).done);a=!0)e.value.update(this.ticker.elapsedMS)}catch(I){b=!0,d=I}finally{try{!a&&f.return&&f.return()}finally{if(b)throw d;}}}this.forceHitArea||(this.hitArea.x=this.left,this.hitArea.y=this.top,this.hitArea.width=this.worldScreenWidth,
this.hitArea.height=this.worldScreenHeight)}},{key:"resize",value:function(a,b,d,f){this._screenWidth=a||window.innerWidth;this._screenHeight=b||window.innerHeight;this._worldWidth=d;this._worldHeight=f;this.resizePlugins()}},{key:"resizePlugins",value:function(){var a=!0,b=!1,d=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var f=this.pluginsList[Symbol.iterator](),e;!(a=(e=f.next()).done);a=!0)e.value.resize()}catch(I){b=!0,d=I}finally{try{!a&&f.return&&f.return()}finally{if(b)throw d;
}}}},{key:"listeners",value:function(a){var b=this;this.interactive=!0;this.forceHitArea||(this.hitArea=new PIXI.Rectangle(0,0,this.worldWidth,this.worldHeight));this.on("pointerdown",this.down);this.on("pointermove",this.move);this.on("pointerup",this.up);this.on("pointerupoutside",this.up);this.on("pointercancel",this.up);this.on("pointerout",this.up);this.wheelFunction=function(a){return b.handleWheel(a)};a.addEventListener("wheel",this.wheelFunction);this.leftDown=!1}},{key:"down",value:function(a){if(!this.pause){"mouse"===
a.data.pointerType?0==a.data.originalEvent.button&&(this.leftDown=!0):this.touches.push(a.data.pointerId);if(1===this.countDownPointers()){this.last={x:a.data.global.x,y:a.data.global.y};var b=this.plugins.decelerate,d=this.plugins.bounce;b&&(b.x||b.y)||d&&(d.toX||d.toY)||(this.clickedAvailable=!0)}else this.clickedAvailable=!1;b=!0;d=!1;var f=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var e=this.pluginsList[Symbol.iterator](),c;!(b=(c=e.next()).done);b=!0)c.value.down(a)}catch(O){d=
!0,f=O}finally{try{!b&&e.return&&e.return()}finally{if(d)throw f;}}}}},{key:"checkThreshold",value:function(a){return Math.abs(a)>=this.threshold?!0:!1}},{key:"move",value:function(a){if(!this.pause){var b=!0,d=!1,f=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var e=this.pluginsList[Symbol.iterator](),c;!(b=(c=e.next()).done);b=!0)c.value.move(a)}catch(O){d=!0,f=O}finally{try{!b&&e.return&&e.return()}finally{if(d)throw f;}}this.clickedAvailable&&(b=a.data.global.y-this.last.y,
this.checkThreshold(a.data.global.x-this.last.x)||this.checkThreshold(b))&&(this.clickedAvailable=!1)}}},{key:"up",value:function(a){if(!this.pause){a.data.originalEvent instanceof MouseEvent&&0==a.data.originalEvent.button&&(this.leftDown=!1);if("mouse"!==a.data.pointerType)for(var b=0;b<this.touches.length;b++)if(this.touches[b]===a.data.pointerId){this.touches.splice(b,1);break}b=!0;var d=!1,f=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var e=this.pluginsList[Symbol.iterator](),
c;!(b=(c=e.next()).done);b=!0)c.value.up(a)}catch(O){d=!0,f=O}finally{try{!b&&e.return&&e.return()}finally{if(d)throw f;}}this.clickedAvailable&&0===this.countDownPointers()&&(this.emit("clicked",{screen:this.last,world:this.toWorld(this.last),viewport:this}),this.clickedAvailable=!1)}}},{key:"handleWheel",value:function(a){if(!this.pause){var b=this.toLocal({x:a.clientX,y:a.clientY});if(this.left<=b.x&&b.x<=this.right&&this.top<=b.y&&b.y<=this.bottom){b=void 0;var d=!0,f=!1,e=void 0;try{$jscomp.initSymbol();
$jscomp.initSymbolIterator();for(var c=this.pluginsList[Symbol.iterator](),l;!(d=(l=c.next()).done);d=!0)l.value.wheel(a)&&(b=!0)}catch(P){f=!0,e=P}finally{try{!d&&c.return&&c.return()}finally{if(f)throw e;}}return b}}}},{key:"toWorld",value:function(){return 2===arguments.length?this.toLocal({x:arguments[0],y:arguments[1]}):this.toLocal(arguments[0])}},{key:"toScreen",value:function(){return 2===arguments.length?this.toGlobal({x:arguments[0],y:arguments[1]}):this.toGlobal(arguments[0])}},{key:"moveCenter",
value:function(a,b){if(isNaN(a)){var d=a.x;a=a.y}else d=a,a=b;this.position.set((this.worldScreenWidth/2-d)*this.scale.x,(this.worldScreenHeight/2-a)*this.scale.y);this._reset();return this}},{key:"moveCorner",value:function(){1===arguments.length?this.position.set(-arguments[0].x*this.scale.x,-arguments[0].y*this.scale.y):this.position.set(-arguments[0]*this.scale.x,-arguments[1]*this.scale.y);this._reset();return this}},{key:"fitWidth",value:function(a,b){var d=void 0;b&&(d=this.center);a=a||this.worldWidth;
this.scale.x=this.screenWidth/a;this.scale.y=this.scale.x;b&&this.moveCenter(d);return this}},{key:"fitHeight",value:function(a,b){var d=void 0;b&&(d=this.center);a=a||this.worldHeight;this.scale.y=this.screenHeight/a;this.scale.x=this.scale.y;b&&this.moveCenter(d);return this}},{key:"fitWorld",value:function(a){var b=void 0;a&&(b=this.center);this.scale.x=this._screenWidth/this._worldWidth;this.scale.y=this._screenHeight/this._worldHeight;this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=
this.scale.y;a&&this.moveCenter(b);return this}},{key:"fit",value:function(a,b,d){var f=void 0;a&&(f=this.center);b=b||this.worldWidth;d=d||this.worldHeight;this.scale.x=this.screenWidth/b;this.scale.y=this.screenHeight/d;this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;a&&this.moveCenter(f);return this}},{key:"zoomPercent",value:function(a,b){var d=void 0;b&&(d=this.center);this.scale.set(this.scale.x+this.scale.x*a);b&&this.moveCenter(d);return this}},{key:"zoom",value:function(a,
b){this.fitWidth(a+this.worldScreenWidth,b);return this}},{key:"snapZoom",value:function(a){this.plugins["snap-zoom"]=new v(this,a);this.pluginsSort();return this}},{key:"OOB",value:function(){var a={};a.left=0>this.left;a.right=this.right>this._worldWidth;a.top=0>this.top;a.bottom=this.bottom>this._worldHeight;a.cornerPoint={x:this._worldWidth*this.scale.x-this._screenWidth,y:this._worldHeight*this.scale.y-this._screenHeight};return a}},{key:"countDownPointers",value:function(){return(this.leftDown?
1:0)+this.touches.length}},{key:"getTouchPointers",value:function(){var a=[],b=this.trackedPointers,d;for(d in b){var f=b[d];-1!==this.touches.indexOf(f.pointerId)&&a.push(f)}return a}},{key:"getPointers",value:function(){var a=[],b=this.trackedPointers,d;for(d in b)a.push(b[d]);return a}},{key:"_reset",value:function(){this.plugins.bounce&&(this.plugins.bounce.reset(),this.plugins.bounce.bounce());this.plugins.decelerate&&this.plugins.decelerate.reset();this.plugins.snap&&this.plugins.snap.reset();
this.plugins.clamp&&this.plugins.clamp.update();this.plugins["clamp-zoom"]&&this.plugins["clamp-zoom"].clamp();this.dirty=!0}},{key:"removePlugin",value:function(a){this.plugins[a]&&(this.plugins[a]=null,this.emit(a+"-remove"),this.pluginsSort())}},{key:"pausePlugin",value:function(a){this.plugins[a]&&this.plugins[a].pause()}},{key:"resumePlugin",value:function(a){this.plugins[a]&&this.plugins[a].resume()}},{key:"pluginsSort",value:function(){this.pluginsList=[];var a=!0,b=!1,d=void 0;try{$jscomp.initSymbol();
$jscomp.initSymbolIterator();for(var f=x[Symbol.iterator](),e;!(a=(e=f.next()).done);a=!0){var c=e.value;this.plugins[c]&&this.pluginsList.push(this.plugins[c])}}catch(O){b=!0,d=O}finally{try{!a&&f.return&&f.return()}finally{if(b)throw d;}}}},{key:"drag",value:function(b){this.plugins.drag=new a(this,b);this.pluginsSort();return this}},{key:"clamp",value:function(a){this.plugins.clamp=new l(this,a);this.pluginsSort();return this}},{key:"decelerate",value:function(a){this.plugins.decelerate=new m(this,
a);this.pluginsSort();return this}},{key:"bounce",value:function(a){this.plugins.bounce=new q(this,a);this.pluginsSort();return this}},{key:"pinch",value:function(a){this.plugins.pinch=new f(this,a);this.pluginsSort();return this}},{key:"snap",value:function(a,b,d){this.plugins.snap=new y(this,a,b,d);this.pluginsSort();return this}},{key:"follow",value:function(a,b){this.plugins.follow=new u(this,a,b);this.pluginsSort();return this}},{key:"wheel",value:function(a){this.plugins.wheel=new A(this,a);
this.pluginsSort();return this}},{key:"clampZoom",value:function(a){this.plugins["clamp-zoom"]=new r(this,a);this.pluginsSort();return this}},{key:"mouseEdges",value:function(a){this.plugins["mouse-edges"]=new t(this,a);this.pluginsSort();return this}},{key:"screenWidth",get:function(){return this._screenWidth},set:function(a){this._screenWidth=a}},{key:"screenHeight",get:function(){return this._screenHeight},set:function(a){this._screenHeight=a}},{key:"worldWidth",get:function(){return this._worldWidth?
this._worldWidth:this.width},set:function(a){this._worldWidth=a;this.resizePlugins()}},{key:"worldHeight",get:function(){return this._worldHeight?this._worldHeight:this.height},set:function(a){this._worldHeight=a;this.resizePlugins()}},{key:"worldScreenWidth",get:function(){return this._screenWidth/this.scale.x}},{key:"worldScreenHeight",get:function(){return this._screenHeight/this.scale.y}},{key:"screenWorldWidth",get:function(){return this._worldWidth*this.scale.x}},{key:"screenWorldHeight",get:function(){return this._worldHeight*
this.scale.y}},{key:"center",get:function(){return{x:this.worldScreenWidth/2-this.x/this.scale.x,y:this.worldScreenHeight/2-this.y/this.scale.y}},set:function(a){this.moveCenter(a)}},{key:"corner",get:function(){return{x:-this.x/this.scale.x,y:-this.y/this.scale.y}},set:function(a){this.moveCorner(a)}},{key:"right",get:function(){return-this.x/this.scale.x+this.worldScreenWidth},set:function(a){this.x=-a*this.scale.x+this.screenWidth;this._reset()}},{key:"left",get:function(){return-this.x/this.scale.x},
set:function(a){this.x=-a*this.scale.x;this._reset()}},{key:"top",get:function(){return-this.y/this.scale.y},set:function(a){this.y=-a*this.scale.y;this._reset()}},{key:"bottom",get:function(){return-this.y/this.scale.y+this.worldScreenHeight},set:function(a){this.y=-a*this.scale.y+this.screenHeight;this._reset()}},{key:"dirty",get:function(){return this._dirty},set:function(a){this._dirty=a}},{key:"forceHitArea",get:function(){return this._forceHitArea},set:function(a){a?this.hitArea=this._forceHitArea=
a:(this._forceHitArea=!1,this.hitArea=new PIXI.Rectangle(0,0,this.worldWidth,this.worldHeight))}},{key:"pause",get:function(){return this._pause},set:function(a){if(this._pause=a)this.touches=[],this.leftDown=!1}}]);return h}(PIXI.Container);PIXI.extras.Viewport=c;k.exports=c},{"./bounce":35,"./clamp":37,"./clamp-zoom":36,"./decelerate":38,"./drag":39,"./follow":40,"./mouse-edges":41,"./pinch":42,"./snap":45,"./snap-zoom":44,"./utils":46,"./wheel":48}],48:[function(c,k,h){function g(d,e){if("function"!==
typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(d,e):d.__proto__=e)}var p=function(){function d(d,b){for(var a=0;a<b.length;a++){var f=b[a];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(d,f.key,f)}}return function(e,b,a){b&&d(e.prototype,
b);a&&d(e,a);return e}}();c=c("./plugin");k.exports=function(d){function e(b,a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");b=(e.__proto__||Object.getPrototypeOf(e)).call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;a=a||{};b.percent=a.percent||.1;b.center=a.center;b.reverse=a.reverse;return b}g(e,d);p(e,[{key:"getPointerPosition",value:function(b){var a=
new PIXI.Point;this.parent.interaction?this.parent.interaction.mapPositionToPoint(a,b.clientX,b.clientY):(a.x=b.clientX,a.y=b.clientY);return a}},{key:"wheel",value:function(b){if(!this.paused){var a=this.reverse?0<b.deltaY?1+this.percent:1-this.percent:0<b.deltaY?1-this.percent:1+this.percent;var d=this.getPointerPosition(b),e=void 0;this.center||(e=this.parent.toLocal(d));this.parent.scale.x*=a;this.parent.scale.y*=a;this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});(a=this.parent.plugins["clamp-zoom"])&&
a.clamp();this.center?this.parent.moveCenter(this.center):(e=this.parent.toGlobal(e),this.parent.x+=d.x-e.x,this.parent.y+=d.y-e.y);this.parent.emit("moved",{viewport:this.parent,type:"wheel"});this.parent.emit("wheel",{wheel:{dx:b.deltaX,dy:b.deltaY,dz:b.deltaZ},event:b,viewport:this.parent});b.preventDefault()}}}]);return e}(c)},{"./plugin":43}],49:[function(c,k,h){h.__esModule=!0;var g=function(d){if(d&&d.__esModule)return d;var e={};if(null!=d)for(var b in d)Object.prototype.hasOwnProperty.call(d,
b)&&(e[b]=d[b]);e.default=d;return e}(c("../core")),p=(k=c("ismobilejs"))&&k.__esModule?k:{default:k};c=c("./accessibleTarget");g.utils.mixins.delayMixin(g.DisplayObject.prototype,(c&&c.__esModule?c:{default:c}).default);c=function(){function d(e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");!p.default.tablet&&!p.default.phone||navigator.isCocoonJS||this.createTouchHook();var b=document.createElement("div");b.style.width="100px";b.style.height="100px";b.style.position=
"absolute";b.style.top="0px";b.style.left="0px";b.style.zIndex=2;this.div=b;this.pool=[];this.renderId=0;this.debug=!1;this.renderer=e;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isMobileAccessabillity=this.isActive=!1;window.addEventListener("keydown",this._onKeyDown,!1)}d.prototype.createTouchHook=function(){var d=this,b=document.createElement("button");b.style.width="1px";b.style.height="1px";b.style.position="absolute";b.style.top=
"-1000px";b.style.left="-1000px";b.style.zIndex=2;b.style.backgroundColor="#FF0000";b.title="HOOK DIV";b.addEventListener("focus",function(){d.isMobileAccessabillity=!0;d.activate();document.body.removeChild(b)});document.body.appendChild(b)};d.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&
this.renderer.view.parentNode.appendChild(this.div))};d.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))};d.prototype.updateAccessibleObjects=function(d){if(d.visible){d.accessible&&d.interactive&&(d._accessibleActive||this.addChild(d),
d.renderId=this.renderId);d=d.children;for(var b=0;b<d.length;b++)this.updateAccessibleObjects(d[b])}};d.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var d=this.renderer.view.getBoundingClientRect(),b=d.width/this.renderer.width,a=d.height/this.renderer.height,f=this.div;f.style.left=d.left+"px";f.style.top=d.top+"px";f.style.width=this.renderer.width+"px";f.style.height=this.renderer.height+"px";for(d=0;d<this.children.length;d++){var c=
this.children[d];if(c.renderId!==this.renderId)c._accessibleActive=!1,g.utils.removeItems(this.children,d,1),this.div.removeChild(c._accessibleDiv),this.pool.push(c._accessibleDiv),c._accessibleDiv=null,d--,0===this.children.length&&this.deactivate();else{f=c._accessibleDiv;var r=c.hitArea,m=c.worldTransform;c.hitArea?(f.style.left=(m.tx+r.x*m.a)*b+"px",f.style.top=(m.ty+r.y*m.d)*a+"px",f.style.width=r.width*m.a*b+"px",f.style.height=r.height*m.d*a+"px"):(r=c.getBounds(),this.capHitArea(r),f.style.left=
r.x*b+"px",f.style.top=r.y*a+"px",f.style.width=r.width*b+"px",f.style.height=r.height*a+"px",f.title!==c.accessibleTitle&&null!==c.accessibleTitle&&(f.title=c.accessibleTitle),f.getAttribute("aria-label")!==c.accessibleHint&&null!==c.accessibleHint&&f.setAttribute("aria-label",c.accessibleHint))}}this.renderId++}};d.prototype.capHitArea=function(d){0>d.x&&(d.width+=d.x,d.x=0);0>d.y&&(d.height+=d.y,d.y=0);d.x+d.width>this.renderer.width&&(d.width=this.renderer.width-d.x);d.y+d.height>this.renderer.height&&
(d.height=this.renderer.height-d.y)};d.prototype.addChild=function(d){var b=this.pool.pop();b||(b=document.createElement("button"),b.style.width="100px",b.style.height="100px",b.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",b.style.position="absolute",b.style.zIndex=2,b.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?b.setAttribute("aria-live","off"):b.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?b.setAttribute("aria-relevant",
"additions"):b.setAttribute("aria-relevant","text"),b.addEventListener("click",this._onClick.bind(this)),b.addEventListener("focus",this._onFocus.bind(this)),b.addEventListener("focusout",this._onFocusOut.bind(this)));d.accessibleTitle&&null!==d.accessibleTitle?b.title=d.accessibleTitle:d.accessibleHint&&null!==d.accessibleHint||(b.title="displayObject "+d.tabIndex);d.accessibleHint&&null!==d.accessibleHint&&b.setAttribute("aria-label",d.accessibleHint);d._accessibleActive=!0;d._accessibleDiv=b;b.displayObject=
d;this.children.push(d);this.div.appendChild(d._accessibleDiv);d._accessibleDiv.tabIndex=d.tabIndex};d.prototype._onClick=function(d){var b=this.renderer.plugins.interaction;b.dispatchEvent(d.target.displayObject,"click",b.eventData)};d.prototype._onFocus=function(d){d.target.getAttribute("aria-live","off")||d.target.setAttribute("aria-live","assertive");var b=this.renderer.plugins.interaction;b.dispatchEvent(d.target.displayObject,"mouseover",b.eventData)};d.prototype._onFocusOut=function(d){d.target.getAttribute("aria-live",
"off")||d.target.setAttribute("aria-live","polite");var b=this.renderer.plugins.interaction;b.dispatchEvent(d.target.displayObject,"mouseout",b.eventData)};d.prototype._onKeyDown=function(d){9===d.keyCode&&this.activate()};d.prototype._onMouseMove=function(d){0===d.movementX&&0===d.movementY||this.deactivate()};d.prototype.destroy=function(){this.div=null;for(var d=0;d<this.children.length;d++)this.children[d].div=null;window.document.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("keydown",
this._onKeyDown);this.renderer=this.children=this.pool=null};return d}();h.default=c;g.WebGLRenderer.registerPlugin("accessibility",c);g.CanvasRenderer.registerPlugin("accessibility",c)},{"../core":74,"./accessibleTarget":50,ismobilejs:11}],50:[function(c,k,h){h.__esModule=!0;h.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],51:[function(c,k,h){h.__esModule=!0;var g=c("./accessibleTarget");Object.defineProperty(h,"accessibleTarget",
{enumerable:!0,get:function(){return(g&&g.__esModule?g:{default:g}).default}});var p=c("./AccessibilityManager");Object.defineProperty(h,"AccessibilityManager",{enumerable:!0,get:function(){return(p&&p.__esModule?p:{default:p}).default}})},{"./AccessibilityManager":49,"./accessibleTarget":50}],52:[function(c,k,h){h.__esModule=!0;var g=function(){function a(a,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,
f.key,f)}}return function(b,d,f){d&&a(b.prototype,d);f&&a(b,f);return b}}(),p=c("./autoDetectRenderer"),d=(k=c("./display/Container"))&&k.__esModule?k:{default:k},e=c("./ticker"),b=(k=c("./settings"))&&k.__esModule?k:{default:k},a=c("./const");c=function(){function f(a,c,m,q,g){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");"number"===typeof a&&(a=Object.assign({width:a,height:c||b.default.RENDER_OPTIONS.height,forceCanvas:!!q,sharedTicker:!!g},m));this._options=
a=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},a);this.renderer=(0,p.autoDetectRenderer)(a);this.stage=new d.default;this._ticker=null;this.ticker=a.sharedTicker?e.shared:new e.Ticker;a.autoStart&&this.start()}f.prototype.render=function(){this.renderer.render(this.stage)};f.prototype.stop=function(){this._ticker.stop()};f.prototype.start=function(){this._ticker.start()};f.prototype.destroy=function(a,b){if(this._ticker){var d=this._ticker;this.ticker=null;d.destroy()}this.stage.destroy(b);
this.stage=null;this.renderer.destroy(a);this._options=this.renderer=null};g(f,[{key:"ticker",set:function(b){this._ticker&&this._ticker.remove(this.render,this);(this._ticker=b)&&b.add(this.render,this,a.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]);return f}();h.default=c},{"./autoDetectRenderer":54,"./const":55,"./display/Container":57,"./settings":110,"./ticker":130}],
53:[function(c,k,h){function g(d,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}function p(d,b){if(d instanceof Array)"precision"!==d[0].substring(0,9)&&(d=d.slice(0),d.unshift("precision "+b+" float;"));else if("precision"!==d.trim().substring(0,
9))return"precision "+b+" float;\n"+d;return d}h.__esModule=!0;k=c("pixi-gl-core");var d=(c=c("./settings"))&&c.__esModule?c:{default:c};c=function(e){function b(a,f,c,r,m){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a=e.call(this,a,p(f,m||d.default.PRECISION_VERTEX),p(c,m||d.default.PRECISION_FRAGMENT),void 0,r);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:
a}g(b,e);return b}(k.GLShader);h.default=c},{"./settings":110,"pixi-gl-core":22}],54:[function(c,k,h){h.__esModule=!0;h.autoDetectRenderer=function(e,b,a,f){var c=e&&e.forceCanvas;void 0!==f&&(c=f);return!c&&g.isWebGLSupported()?new d.default(e,b,a):new p.default(e,b,a)};var g=function(d){if(d&&d.__esModule)return d;var b={};if(null!=d)for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(b[a]=d[a]);b.default=d;return b}(c("./utils")),p=(k=c("./renderers/canvas/CanvasRenderer"))&&k.__esModule?
k:{default:k},d=(c=c("./renderers/webgl/WebGLRenderer"))&&c.__esModule?c:{default:c}},{"./renderers/canvas/CanvasRenderer":86,"./renderers/webgl/WebGLRenderer":93,"./utils":134}],55:[function(c,k,h){h.__esModule=!0;h.VERSION="4.8.1";h.PI_2=2*Math.PI;h.RAD_TO_DEG=180/Math.PI;h.DEG_TO_RAD=Math.PI/180;h.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2};h.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,
HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19};h.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};h.SCALE_MODES={LINEAR:0,NEAREST:1};h.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2};h.GC_MODES={AUTO:0,MANUAL:1};h.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i;h.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;h.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;
h.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4};h.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};h.TRANSFORM_MODE={STATIC:0,DYNAMIC:1};h.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1};h.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],56:[function(c,k,h){h.__esModule=!0;var g=c("../math");c=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity;this.rect=
null}c.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};c.prototype.clear=function(){this.updateID++;this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity};c.prototype.getRectangle=function(d){if(this.minX>this.maxX||this.minY>this.maxY)return g.Rectangle.EMPTY;d=d||new g.Rectangle(0,0,1,1);d.x=this.minX;d.y=this.minY;d.width=this.maxX-this.minX;d.height=this.maxY-this.minY;return d};c.prototype.addPoint=function(d){this.minX=Math.min(this.minX,d.x);this.maxX=Math.max(this.maxX,
d.x);this.minY=Math.min(this.minY,d.y);this.maxY=Math.max(this.maxY,d.y)};c.prototype.addQuad=function(d){var e=this.minX,b=this.minY,a=this.maxX,f=this.maxY,c=d[0],r=d[1];e=c<e?c:e;b=r<b?r:b;a=c>a?c:a;f=r>f?r:f;c=d[2];r=d[3];e=c<e?c:e;b=r<b?r:b;a=c>a?c:a;f=r>f?r:f;c=d[4];r=d[5];e=c<e?c:e;b=r<b?r:b;a=c>a?c:a;f=r>f?r:f;c=d[6];r=d[7];this.minX=c<e?c:e;this.minY=r<b?r:b;this.maxX=c>a?c:a;this.maxY=r>f?r:f};c.prototype.addFrame=function(d,e,b,a,f){var c=d.worldTransform;d=c.a;var r=c.b,m=c.c,q=c.d,g=
c.tx;c=c.ty;var p=this.minX,h=this.minY,A=this.maxX,t=this.maxY,k=d*e+m*b+g,z=r*e+q*b+c;p=k<p?k:p;h=z<h?z:h;A=k>A?k:A;t=z>t?z:t;k=d*a+m*b+g;z=r*a+q*b+c;p=k<p?k:p;h=z<h?z:h;A=k>A?k:A;t=z>t?z:t;k=d*e+m*f+g;z=r*e+q*f+c;p=k<p?k:p;h=z<h?z:h;A=k>A?k:A;t=z>t?z:t;k=d*a+m*f+g;z=r*a+q*f+c;this.minX=k<p?k:p;this.minY=z<h?z:h;this.maxX=k>A?k:A;this.maxY=z>t?z:t};c.prototype.addVertices=function(d,e,b,a){var f=d.worldTransform;d=f.a;var c=f.b,r=f.c,m=f.d,q=f.tx;f=f.ty;for(var g=this.minX,p=this.minY,h=this.maxX,
A=this.maxY;b<a;b+=2){var t=e[b],k=e[b+1],z=d*t+r*k+q;t=m*k+c*t+f;g=z<g?z:g;p=t<p?t:p;h=z>h?z:h;A=t>A?t:A}this.minX=g;this.minY=p;this.maxX=h;this.maxY=A};c.prototype.addBounds=function(d){var e=this.minX,b=this.minY,a=this.maxX,f=this.maxY;this.minX=d.minX<e?d.minX:e;this.minY=d.minY<b?d.minY:b;this.maxX=d.maxX>a?d.maxX:a;this.maxY=d.maxY>f?d.maxY:f};c.prototype.addBoundsMask=function(d,e){var b=d.minX>e.minX?d.minX:e.minX,a=d.minY>e.minY?d.minY:e.minY,f=d.maxX<e.maxX?d.maxX:e.maxX;d=d.maxY<e.maxY?
d.maxY:e.maxY;if(b<=f&&a<=d){e=this.minX;var c=this.minY,r=this.maxX,m=this.maxY;this.minX=b<e?b:e;this.minY=a<c?a:c;this.maxX=f>r?f:r;this.maxY=d>m?d:m}};c.prototype.addBoundsArea=function(d,e){var b=d.minX>e.x?d.minX:e.x,a=d.minY>e.y?d.minY:e.y,f=d.maxX<e.x+e.width?d.maxX:e.x+e.width;d=d.maxY<e.y+e.height?d.maxY:e.y+e.height;if(b<=f&&a<=d){e=this.minX;var c=this.minY,r=this.maxX,m=this.maxY;this.minX=b<e?b:e;this.minY=a<c?a:c;this.maxX=f>r?f:r;this.maxY=d>m?d:m}};return c}();h.default=c},{"../math":79}],
57:[function(c,k,h){function g(d,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}h.__esModule=!0;var p=function(){function d(b,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);
Object.defineProperty(b,c.key,c)}}return function(b,a,f){a&&d(b.prototype,a);f&&d(b,f);return b}}(),d=c("../utils");c=c("./DisplayObject");c=function(c){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.children=[];return a}g(b,c);b.prototype.onChildrenChange=function(){};b.prototype.addChild=
function(a){var b=arguments.length;if(1<b)for(var d=0;d<b;d++)this.addChild(arguments[d]);else a.parent&&a.parent.removeChild(a),a.parent=this,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),a.emit("added",this);return a};b.prototype.addChildAt=function(a,b){if(0>b||b>this.children.length)throw Error(a+"addChildAt: The index "+b+" supplied is out of bounds "+this.children.length);a.parent&&a.parent.removeChild(a);a.parent=this;a.transform._parentID=
-1;this.children.splice(b,0,a);this._boundsID++;this.onChildrenChange(b);a.emit("added",this);return a};b.prototype.swapChildren=function(a,b){if(a!==b){var d=this.getChildIndex(a),f=this.getChildIndex(b);this.children[d]=b;this.children[f]=a;this.onChildrenChange(d<f?d:f)}};b.prototype.getChildIndex=function(a){a=this.children.indexOf(a);if(-1===a)throw Error("The supplied DisplayObject must be a child of the caller");return a};b.prototype.setChildIndex=function(a,b){if(0>b||b>=this.children.length)throw Error("The index "+
b+" supplied is out of bounds "+this.children.length);var f=this.getChildIndex(a);(0,d.removeItems)(this.children,f,1);this.children.splice(b,0,a);this.onChildrenChange(b)};b.prototype.getChildAt=function(a){if(0>a||a>=this.children.length)throw Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]};b.prototype.removeChild=function(a){var b=arguments.length;if(1<b)for(var c=0;c<b;c++)this.removeChild(arguments[c]);else{b=this.children.indexOf(a);if(-1===b)return null;a.parent=
null;a.transform._parentID=-1;(0,d.removeItems)(this.children,b,1);this._boundsID++;this.onChildrenChange(b);a.emit("removed",this)}return a};b.prototype.removeChildAt=function(a){var b=this.getChildAt(a);b.parent=null;b.transform._parentID=-1;(0,d.removeItems)(this.children,a,1);this._boundsID++;this.onChildrenChange(a);b.emit("removed",this);return b};b.prototype.removeChildren=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,b=arguments[1];b="number"===typeof b?b:this.children.length;
var d=b-a;if(0<d&&d<=b){b=this.children.splice(a,d);for(d=0;d<b.length;++d)b[d].parent=null,b[d].transform&&(b[d].transform._parentID=-1);this._boundsID++;this.onChildrenChange(a);for(a=0;a<b.length;++a)b[a].emit("removed",this);return b}if(0===d&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.");};b.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*
this.parent.worldAlpha;for(var a=0,b=this.children.length;a<b;++a){var d=this.children[a];d.visible&&d.updateTransform()}};b.prototype.calculateBounds=function(){this._bounds.clear();this._calculateBounds();for(var a=0;a<this.children.length;a++){var b=this.children[a];b.visible&&b.renderable&&(b.calculateBounds(),b._mask?(b._mask.calculateBounds(),this._bounds.addBoundsMask(b._bounds,b._mask._bounds)):b.filterArea?this._bounds.addBoundsArea(b._bounds,b.filterArea):this._bounds.addBounds(b._bounds))}this._lastBoundsID=
this._boundsID};b.prototype._calculateBounds=function(){};b.prototype.renderWebGL=function(a){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(a);else{this._renderWebGL(a);for(var b=0,d=this.children.length;b<d;++b)this.children[b].renderWebGL(a)}};b.prototype.renderAdvancedWebGL=function(a){a.flush();var b=this._filters,d=this._mask;if(b){this._enabledFilters||(this._enabledFilters=[]);for(var c=this._enabledFilters.length=0;c<b.length;c++)b[c].enabled&&
this._enabledFilters.push(b[c]);this._enabledFilters.length&&a.filterManager.pushFilter(this,this._enabledFilters)}d&&a.maskManager.pushMask(this,this._mask);this._renderWebGL(a);c=0;for(var e=this.children.length;c<e;c++)this.children[c].renderWebGL(a);a.flush();d&&a.maskManager.popMask(this,this._mask);b&&this._enabledFilters&&this._enabledFilters.length&&a.filterManager.popFilter()};b.prototype._renderWebGL=function(a){};b.prototype._renderCanvas=function(a){};b.prototype.renderCanvas=function(a){if(this.visible&&
!(0>=this.worldAlpha)&&this.renderable){this._mask&&a.maskManager.pushMask(this._mask);this._renderCanvas(a);for(var b=0,d=this.children.length;b<d;++b)this.children[b].renderCanvas(a);this._mask&&a.maskManager.popMask(a)}};b.prototype.destroy=function(a){c.prototype.destroy.call(this);var b="boolean"===typeof a?a:a&&a.children,d=this.removeChildren(0,this.children.length);if(b)for(b=0;b<d.length;++b)d[b].destroy(a)};p(b,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},
set:function(a){var b=this.getLocalBounds().width;this.scale.x=0!==b?a/b:1;this._width=a}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var b=this.getLocalBounds().height;this.scale.y=0!==b?a/b:1;this._height=a}}]);return b}((c&&c.__esModule?c:{default:c}).default);h.default=c;c.prototype.containerUpdateTransform=c.prototype.updateTransform},{"../utils":134,"./DisplayObject":58}],58:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}
function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var d=function(){function a(a,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,
f.key,f)}}return function(b,d,f){d&&a(b.prototype,d);f&&a(b,f);return b}}();k=c("eventemitter3");k=g(k);var e=c("../const"),b=c("../settings"),a=g(b);b=c("./TransformStatic");var f=g(b);b=c("./Transform");var l=g(b);b=c("./Bounds");var r=g(b),m=c("../math");c=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var d=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&
"function"!==typeof d?this:d;var m=a.default.TRANSFORM_MODE===e.TRANSFORM_MODE.STATIC?f.default:l.default;d.tempDisplayObjectParent=null;d.transform=new m;d.alpha=1;d.visible=!0;d.renderable=!0;d.parent=null;d.worldAlpha=1;d.filterArea=null;d._filters=null;d._enabledFilters=null;d._bounds=new r.default;d._boundsID=0;d._lastBoundsID=-1;d._boundsRect=null;d._localBoundsRect=null;d._mask=null;d._destroyed=!1;return d}p(c,b);c.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform);
this.worldAlpha=this.alpha*this.parent.worldAlpha;this._bounds.updateID++};c.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)};c.prototype.getBounds=function(a,b){a||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=
null));this._boundsID!==this._lastBoundsID&&this.calculateBounds();b||(this._boundsRect||(this._boundsRect=new m.Rectangle),b=this._boundsRect);return this._bounds.getRectangle(b)};c.prototype.getLocalBounds=function(a){var b=this.transform,d=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;a||(this._localBoundsRect||(this._localBoundsRect=new m.Rectangle),a=this._localBoundsRect);a=this.getBounds(!1,a);this.parent=d;this.transform=b;return a};c.prototype.toGlobal=
function(a,b){2<arguments.length&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.apply(a,b)};c.prototype.toLocal=function(a,b,d,f){b&&(a=b.toGlobal(a,d,f));f||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),
this.parent=null));return this.worldTransform.applyInverse(a,d)};c.prototype.renderWebGL=function(a){};c.prototype.renderCanvas=function(a){};c.prototype.setParent=function(a){if(!a||!a.addChild)throw Error("setParent: Argument must be a Container");a.addChild(this);return a};c.prototype.setTransform=function(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,f=4<arguments.length&&
void 0!==arguments[4]?arguments[4]:0,c=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,e=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,l=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,m=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;this.position.x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.position.y=a;this.scale.x=b?b:1;this.scale.y=d?d:1;this.rotation=f;this.skew.x=c;this.skew.y=e;this.pivot.x=l;this.pivot.y=m;return this};c.prototype.destroy=
function(){this.removeAllListeners();this.parent&&this.parent.removeChild(this);this.filterArea=this._mask=this._currentBounds=this._bounds=this.parent=this.transform=null;this.interactiveChildren=this.interactive=!1;this._destroyed=!0};d(c,[{key:"_tempDisplayObjectParent",get:function(){null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new c);return this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(a){this.transform.position.x=a}},{key:"y",
get:function(){return this.position.y},set:function(a){this.transform.position.y=a}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(a){this.transform.position.copy(a)}},{key:"scale",get:function(){return this.transform.scale},set:function(a){this.transform.scale.copy(a)}},{key:"pivot",get:function(){return this.transform.pivot},
set:function(a){this.transform.pivot.copy(a)}},{key:"skew",get:function(){return this.transform.skew},set:function(a){this.transform.skew.copy(a)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(a){this.transform.rotation=a}},{key:"worldVisible",get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},{key:"mask",get:function(){return this._mask},set:function(a){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1);if(this._mask=a)this._mask.renderable=
!1,this._mask.isMask=!0}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(a){this._filters=a&&a.slice()}}]);return c}(k.default);h.default=c;c.prototype.displayObjectUpdateTransform=c.prototype.updateTransform},{"../const":55,"../math":79,"../settings":110,"./Bounds":56,"./Transform":59,"./TransformStatic":61,eventemitter3:199}],59:[function(c,k,h){function g(d,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}h.__esModule=!0;var p=function(){function d(b,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,a,f){a&&d(b.prototype,a);f&&d(b,f);return b}}(),d=c("../math");c=c("./TransformBase");c=function(c){function b(){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");var a=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.position=new d.Point(0,0);a.scale=new d.Point(1,1);a.skew=new d.ObservablePoint(a.updateSkew,a,0,0);a.pivot=new d.Point(0,0);a._rotation=0;a._cx=1;a._sx=0;a._cy=0;a._sy=1;return a}g(b,c);b.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=
Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x)};b.prototype.updateLocalTransform=function(){var a=this.localTransform;a.a=this._cx*this.scale.x;a.b=this._sx*this.scale.x;a.c=this._cy*this.scale.y;a.d=this._sy*this.scale.y;a.tx=this.position.x-(this.pivot.x*a.a+this.pivot.y*a.c);a.ty=this.position.y-(this.pivot.x*a.b+this.pivot.y*a.d)};b.prototype.updateTransform=function(a){var b=this.localTransform;b.a=this._cx*
this.scale.x;b.b=this._sx*this.scale.x;b.c=this._cy*this.scale.y;b.d=this._sy*this.scale.y;b.tx=this.position.x-(this.pivot.x*b.a+this.pivot.y*b.c);b.ty=this.position.y-(this.pivot.x*b.b+this.pivot.y*b.d);a=a.worldTransform;var d=this.worldTransform;d.a=b.a*a.a+b.b*a.c;d.b=b.a*a.b+b.b*a.d;d.c=b.c*a.a+b.d*a.c;d.d=b.c*a.b+b.d*a.d;d.tx=b.tx*a.a+b.ty*a.c+a.tx;d.ty=b.tx*a.b+b.ty*a.d+a.ty;this._worldID++};b.prototype.setFromMatrix=function(a){a.decompose(this)};p(b,[{key:"rotation",get:function(){return this._rotation},
set:function(a){this._rotation=a;this.updateSkew()}}]);return b}((c&&c.__esModule?c:{default:c}).default);h.default=c},{"../math":79,"./TransformBase":60}],60:[function(c,k,h){h.__esModule=!0;var g=c("../math");c=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.worldTransform=new g.Matrix;this.localTransform=new g.Matrix;this._parentID=this._worldID=0}c.prototype.updateLocalTransform=function(){};c.prototype.updateTransform=function(d){d=
d.worldTransform;var c=this.worldTransform,b=this.localTransform;c.a=b.a*d.a+b.b*d.c;c.b=b.a*d.b+b.b*d.d;c.c=b.c*d.a+b.d*d.c;c.d=b.c*d.b+b.d*d.d;c.tx=b.tx*d.a+b.ty*d.c+d.tx;c.ty=b.tx*d.b+b.ty*d.d+d.ty;this._worldID++};return c}();h.default=c;c.prototype.updateWorldTransform=c.prototype.updateTransform;c.IDENTITY=new c},{"../math":79}],61:[function(c,k,h){function g(d,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=
Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}h.__esModule=!0;var p=function(){function d(b,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,a,f){a&&d(b.prototype,a);f&&d(b,f);return b}}(),d=c("../math");c=c("./TransformBase");c=function(c){function b(){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");var a=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.position=new d.ObservablePoint(a.onChange,a,0,0);a.scale=new d.ObservablePoint(a.onChange,a,1,1);a.pivot=new d.ObservablePoint(a.onChange,a,0,0);a.skew=new d.ObservablePoint(a.updateSkew,a,0,0);a._rotation=0;a._cx=1;a._sx=0;a._cy=0;a._sy=1;a._localID=0;a._currentLocalID=
0;return a}g(b,c);b.prototype.onChange=function(){this._localID++};b.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x);this._localID++};b.prototype.updateLocalTransform=function(){var a=this.localTransform;this._localID!==this._currentLocalID&&(a.a=this._cx*this.scale._x,a.b=this._sx*this.scale._x,a.c=this._cy*this.scale._y,a.d=
this._sy*this.scale._y,a.tx=this.position._x-(this.pivot._x*a.a+this.pivot._y*a.c),a.ty=this.position._y-(this.pivot._x*a.b+this.pivot._y*a.d),this._currentLocalID=this._localID,this._parentID=-1)};b.prototype.updateTransform=function(a){var b=this.localTransform;this._localID!==this._currentLocalID&&(b.a=this._cx*this.scale._x,b.b=this._sx*this.scale._x,b.c=this._cy*this.scale._y,b.d=this._sy*this.scale._y,b.tx=this.position._x-(this.pivot._x*b.a+this.pivot._y*b.c),b.ty=this.position._y-(this.pivot._x*
b.b+this.pivot._y*b.d),this._currentLocalID=this._localID,this._parentID=-1);if(this._parentID!==a._worldID){var d=a.worldTransform,c=this.worldTransform;c.a=b.a*d.a+b.b*d.c;c.b=b.a*d.b+b.b*d.d;c.c=b.c*d.a+b.d*d.c;c.d=b.c*d.b+b.d*d.d;c.tx=b.tx*d.a+b.ty*d.c+d.tx;c.ty=b.tx*d.b+b.ty*d.d+d.ty;this._parentID=a._worldID;this._worldID++}};b.prototype.setFromMatrix=function(a){a.decompose(this);this._localID++};p(b,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a;this.updateSkew()}}]);
return b}((c&&c.__esModule?c:{default:c}).default);h.default=c},{"../math":79,"./TransformBase":60}],62:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=
!0;k=c("../display/Container");k=g(k);var d=c("../textures/RenderTexture"),e=g(d);d=c("../textures/Texture");var b=g(d);d=c("./GraphicsData");var a=g(d);d=c("../sprites/Sprite");var f=g(d),l=c("../math"),r=c("../utils"),m=c("../const");d=c("../display/Bounds");var q=g(d);d=c("./utils/bezierCurveTo");var y=g(d);c=c("../renderers/canvas/CanvasRenderer");var v=g(c),u=void 0,A=new l.Matrix,t=new l.Point,x=new Float32Array(4),z=new Float32Array(4);c=function(d){function c(){var a=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:!1;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var b=d.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.fillAlpha=1;b.lineWidth=0;b.nativeLines=a;b.lineColor=0;b.lineAlignment=.5;b.graphicsData=[];b.tint=16777215;b._prevTint=16777215;b.blendMode=m.BLEND_MODES.NORMAL;b.currentPath=null;b._webGL={};b.isMask=!1;b.boundsPadding=
0;b._localBounds=new q.default;b.dirty=0;b.fastRectDirty=-1;b.clearDirty=0;b.boundsDirty=-1;b.cachedSpriteDirty=!1;b._spriteRect=null;b._fastRect=!1;return b}p(c,d);c.prototype.clone=function(){var a=new c;a.renderable=this.renderable;a.fillAlpha=this.fillAlpha;a.lineWidth=this.lineWidth;a.lineColor=this.lineColor;a.lineAlignment=this.lineAlignment;a.tint=this.tint;a.blendMode=this.blendMode;a.isMask=this.isMask;a.boundsPadding=this.boundsPadding;a.dirty=0;a.cachedSpriteDirty=this.cachedSpriteDirty;
for(var b=0;b<this.graphicsData.length;++b)a.graphicsData.push(this.graphicsData[b].clone());a.currentPath=a.graphicsData[a.graphicsData.length-1];a.updateLocalBounds();return a};c.prototype._quadraticCurveLength=function(a,b,d,f,c,e){c=a-(2*d+c);e=b-(2*f+e);a*=2*(d-2);f=2*(f-2)*b;b=4*(c*c+e*e);c=4*(c*a+e*f);f=a*a+f*f;e=2*Math.sqrt(b+c+f);a=Math.sqrt(b);d=2*b*a;var l=2*Math.sqrt(f),m=c/a;return(d*e+a*c*(e-l)+(4*f*b-c*c)*Math.log((2*a+m+e)/(m+l)))/(4*d)};c.prototype._bezierCurveLength=function(a,b,
d,f,c,e,l,m){for(var q=0,g,r,p,y,h,v,u,A=a,t=b,k=1;10>=k;++k)g=k/10,r=g*g,p=r*g,y=1-g,h=y*y,v=h*y,u=v*a+3*h*g*d+3*y*r*c+p*l,g=v*b+3*h*g*f+3*y*r*e+p*m,r=A-u,p=t-g,A=u,t=g,q+=Math.sqrt(r*r+p*p);return q};c.prototype._segmentsCount=function(a){a=Math.ceil(a/c.CURVES.maxLength);a<c.CURVES.minSegments?a=c.CURVES.minSegments:a>c.CURVES.maxSegments&&(a=c.CURVES.maxSegments);return a};c.prototype.lineStyle=function(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,b=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:1,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5;this.lineWidth=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.lineColor=a;this.lineAlpha=b;this.lineAlignment=d;this.currentPath&&(this.currentPath.shape.points.length?(a=new l.Polygon(this.currentPath.shape.points.slice(-2)),a.closed=!1,this.drawShape(a)):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=
this.lineAlignment));return this};c.prototype.moveTo=function(a,b){a=new l.Polygon([a,b]);a.closed=!1;this.drawShape(a);return this};c.prototype.lineTo=function(a,b){this.currentPath.shape.points.push(a,b);this.dirty++;return this};c.prototype.quadraticCurveTo=function(a,b,d,f){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var e=this.currentPath.shape.points;0===e.length&&this.moveTo(0,0);for(var l=e[e.length-2],m=e[e.length-1],q=
c.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(l,m,a,b,d,f)):20,g=1;g<=q;++g){var r=g/q;var p=l+(a-l)*r;var y=m+(b-m)*r;e.push(p+(a+(d-a)*r-p)*r,y+(b+(f-b)*r-y)*r)}this.dirty++;return this};c.prototype.bezierCurveTo=function(a,b,d,f,e,l){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var m=this.currentPath.shape.points,q=m[m.length-2],g=m[m.length-1];m.length-=2;var r=c.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(q,
g,a,b,d,f,e,l)):20;(0,y.default)(q,g,a,b,d,f,e,l,r,m);this.dirty++;return this};c.prototype.arcTo=function(a,b,d,f,c){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(a,b):this.moveTo(a,b);var e=this.currentPath.shape.points,l=e[e.length-1]-b,m=e[e.length-2]-a;f-=b;d-=a;var q=Math.abs(l*d-m*f);if(1E-8>q||0===c)e[e.length-2]===a&&e[e.length-1]===b||e.push(a,b);else{var g=l*l+m*m,r=f*f+d*d,p=l*f+m*d;e=c*Math.sqrt(g)/q;q=c*Math.sqrt(r)/q;g=e*p/g;r=q*p/r;p=
e*d+q*m;var y=e*f+q*l;this.arc(p+a,y+b,c,Math.atan2(l*(q+g)-y,m*(q+g)-p),Math.atan2(f*(e+r)-y,d*(e+r)-p),m*f>d*l)}this.dirty++;return this};c.prototype.arc=function(a,b,d,f,e){var l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(f===e)return this;!l&&e<=f?e+=m.PI_2:l&&f<=e&&(f+=m.PI_2);var q=e-f,g=c.CURVES.adaptive?this._segmentsCount(Math.abs(q)*d):40*Math.ceil(Math.abs(q)/m.PI_2);if(0===q)return this;var r=a+Math.cos(f)*d,p=b+Math.sin(f)*d;(l=this.currentPath?this.currentPath.shape.points:
null)?l[l.length-2]===r&&l[l.length-1]===p||l.push(r,p):(this.moveTo(r,p),l=this.currentPath.shape.points);q/=2*g;r=2*q;p=Math.cos(q);var y=Math.sin(q);--g;for(var h=g%1/g,v=0;v<=g;++v){var u=q+f+r*(v+h*v),A=Math.cos(u);u=-Math.sin(u);l.push((p*A+y*u)*d+a,(p*-u+y*A)*d+b)}this.dirty++;return this};c.prototype.beginFill=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.filling=!0;this.fillColor=a;this.fillAlpha=
b;this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha);return this};c.prototype.endFill=function(){this.filling=!1;this.fillColor=null;this.fillAlpha=1;return this};c.prototype.drawRect=function(a,b,d,f){this.drawShape(new l.Rectangle(a,b,d,f));return this};c.prototype.drawRoundedRect=function(a,b,d,f,c){this.drawShape(new l.RoundedRectangle(a,b,d,f,c));return this};c.prototype.drawCircle=
function(a,b,d){this.drawShape(new l.Circle(a,b,d));return this};c.prototype.drawEllipse=function(a,b,d,f){this.drawShape(new l.Ellipse(a,b,d,f));return this};c.prototype.drawPolygon=function(a){var b=a,d=!0;b instanceof l.Polygon&&(d=b.closed,b=b.points);if(!Array.isArray(b)){b=Array(arguments.length);for(var f=0;f<b.length;++f)b[f]=arguments[f]}b=new l.Polygon(b);b.closed=d;this.drawShape(b);return this};c.prototype.drawStar=function(a,b,d,f,c){var e=5<arguments.length&&void 0!==arguments[5]?arguments[5]:
0;c=c||f/2;e=-1*Math.PI/2+e;for(var l=2*d,q=m.PI_2/l,g=[],r=0;r<l;r++){var p=r%2?c:f,y=r*q+e;g.push(a+p*Math.cos(y),b+p*Math.sin(y))}return this.drawPolygon(g)};c.prototype.clear=function(){if(this.lineWidth||this.filling||0<this.graphicsData.length)this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0;this._spriteRect=this.currentPath=null;return this};c.prototype.isFastRect=function(){return 1===this.graphicsData.length&&
this.graphicsData[0].shape.type===m.SHAPES.RECT&&!this.graphicsData[0].lineWidth};c.prototype._renderWebGL=function(a){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect());this._fastRect?this._renderSpriteRect(a):(a.setObjectRenderer(a.plugins.graphics),a.plugins.graphics.render(this))};c.prototype._renderSpriteRect=function(a){var d=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new f.default(new b.default(b.default.WHITE)));var c=this._spriteRect;
16777215===this.tint?c.tint=this.graphicsData[0].fillColor:((0,r.hex2rgb)(this.graphicsData[0].fillColor,x),(0,r.hex2rgb)(this.tint,z),x[0]*=z[0],x[1]*=z[1],x[2]*=z[2],c.tint=(0,r.rgb2hex)(x));c.alpha=this.graphicsData[0].fillAlpha;c.worldAlpha=this.worldAlpha*c.alpha;c.blendMode=this.blendMode;c._texture._frame.width=d.width;c._texture._frame.height=d.height;c.transform.worldTransform=this.transform.worldTransform;c.anchor.set(-d.x/d.width,-d.y/d.height);c._onAnchorUpdate();c._renderWebGL(a)};c.prototype._renderCanvas=
function(a){!0!==this.isMask&&a.plugins.graphics.render(this)};c.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var a=this._localBounds;this._bounds.addFrame(this.transform,a.minX,a.minY,a.maxX,a.maxY)};c.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,t);for(var b=this.graphicsData,d=0;d<b.length;++d)if(a=b[d],a.fill&&a.shape&&a.shape.contains(t.x,t.y)){if(a.holes)for(b=0;b<
a.holes.length;b++)if(a.holes[b].contains(t.x,t.y))return!1;return!0}return!1};c.prototype.updateLocalBounds=function(){var a=Infinity,b=-Infinity,d=Infinity,f=-Infinity;if(this.graphicsData.length)for(var c,e,l,q,g,r=0;r<this.graphicsData.length;r++){c=this.graphicsData[r];l=c.type;var p=c.lineWidth;c=c.shape;if(l===m.SHAPES.RECT||l===m.SHAPES.RREC)e=c.x-p/2,l=c.y-p/2,q=c.width+p,g=c.height+p,a=e<a?e:a,b=e+q>b?e+q:b,d=l<d?l:d,f=l+g>f?l+g:f;else if(l===m.SHAPES.CIRC)e=c.x,l=c.y,q=c.radius+p/2,g=c.radius+
p/2,a=e-q<a?e-q:a,b=e+q>b?e+q:b,d=l-g<d?l-g:d,f=l+g>f?l+g:f;else if(l===m.SHAPES.ELIP)e=c.x,l=c.y,q=c.width+p/2,g=c.height+p/2,a=e-q<a?e-q:a,b=e+q>b?e+q:b,d=l-g<d?l-g:d,f=l+g>f?l+g:f;else{c=c.points;for(var y,h,v,u,A,t=0;t+2<c.length;t+=2)e=c[t],l=c[t+1],y=c[t+2],h=c[t+3],v=Math.abs(y-e),u=Math.abs(h-l),g=p,q=Math.sqrt(v*v+u*u),1E-9>q||(A=(g/q*u+v)/2,q=(g/q*v+u)/2,e=(y+e)/2,l=(h+l)/2,a=e-A<a?e-A:a,b=e+A>b?e+A:b,d=l-q<d?l-q:d,f=l+q>f?l+q:f)}}else f=d=b=a=0;r=this.boundsPadding;this._localBounds.minX=
a-r;this._localBounds.maxX=b+r;this._localBounds.minY=d-r;this._localBounds.maxY=f+r};c.prototype.drawShape=function(b){this.currentPath&&2>=this.currentPath.shape.points.length&&this.graphicsData.pop();this.currentPath=null;b=new a.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,b,this.lineAlignment);this.graphicsData.push(b);b.type===m.SHAPES.POLY&&(b.shape.closed=b.shape.closed||this.filling,this.currentPath=b);this.dirty++;return b};
c.prototype.generateCanvasTexture=function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,f=this.getLocalBounds(),c=e.default.create(f.width,f.height,a,d);u||(u=new v.default);this.transform.updateLocalTransform();this.transform.localTransform.copy(A);A.invert();A.tx-=f.x;A.ty-=f.y;u.render(this,c,!0,A);f=b.default.fromCanvas(c.baseTexture._canvasRenderTarget.canvas,a,"graphics");f.baseTexture.resolution=d;f.baseTexture.update();return f};c.prototype.closePath=function(){var a=
this.currentPath;a&&a.shape&&a.shape.close();return this};c.prototype.addHole=function(){var a=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(a.shape);this.currentPath=null;return this};c.prototype.destroy=function(a){d.prototype.destroy.call(this,a);for(a=0;a<this.graphicsData.length;++a)this.graphicsData[a].destroy();for(var b in this._webGL)for(a=0;a<this._webGL[b].data.length;++a)this._webGL[b].data[a].destroy();this._spriteRect&&
this._spriteRect.destroy();this._localBounds=this._webGL=this.currentPath=this.graphicsData=null};return c}(k.default);h.default=c;c._SPRITE_TEXTURE=null;c.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},{"../const":55,"../display/Bounds":56,"../display/Container":57,"../math":79,"../renderers/canvas/CanvasRenderer":86,"../sprites/Sprite":111,"../textures/RenderTexture":122,"../textures/Texture":124,"../utils":134,"./GraphicsData":63,"./utils/bezierCurveTo":65}],63:[function(c,k,
h){h.__esModule=!0;c=function(){function c(g,d,e,b,a,f,l,r,m){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.lineWidth=g;this.lineAlignment=m;this.nativeLines=l;this.lineColor=d;this.lineAlpha=e;this._lineTint=d;this.fillColor=b;this.fillAlpha=a;this._fillTint=b;this.fill=f;this.holes=[];this.shape=r;this.type=r.type}c.prototype.clone=function(){return new c(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,
this.shape)};c.prototype.addHole=function(c){this.holes.push(c)};c.prototype.destroy=function(){this.holes=this.shape=null};return c}();h.default=c},{}],64:[function(c,k,h){h.__esModule=!0;k=(k=c("../../renderers/canvas/CanvasRenderer"))&&k.__esModule?k:{default:k};var g=c("../../const");c=function(){function c(d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.renderer=d}c.prototype.render=function(d){var c=this.renderer,b=c.context,a=d.worldAlpha,f=d.transform.worldTransform,
l=c.resolution;this._prevTint!==this.tint&&(this.dirty=!0);b.setTransform(f.a*l,f.b*l,f.c*l,f.d*l,f.tx*l,f.ty*l);d.dirty&&(this.updateGraphicsTint(d),d.dirty=!1);c.setBlendMode(d.blendMode);for(c=0;c<d.graphicsData.length;c++){f=d.graphicsData[c];var r=f.shape;l=f._fillTint;var m=f._lineTint;b.lineWidth=f.lineWidth;if(f.type===g.SHAPES.POLY){b.beginPath();this.renderPolygon(r.points,r.closed,b);for(var q=0;q<f.holes.length;q++)this.renderPolygon(f.holes[q].points,!0,b);f.fill&&(b.globalAlpha=f.fillAlpha*
a,b.fillStyle="#"+("00000"+(l|0).toString(16)).substr(-6),b.fill());f.lineWidth&&(b.globalAlpha=f.lineAlpha*a,b.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),b.stroke())}else if(f.type===g.SHAPES.RECT){if(f.fillColor||0===f.fillColor)b.globalAlpha=f.fillAlpha*a,b.fillStyle="#"+("00000"+(l|0).toString(16)).substr(-6),b.fillRect(r.x,r.y,r.width,r.height);f.lineWidth&&(b.globalAlpha=f.lineAlpha*a,b.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),b.strokeRect(r.x,r.y,r.width,r.height))}else if(f.type===
g.SHAPES.CIRC)b.beginPath(),b.arc(r.x,r.y,r.radius,0,2*Math.PI),b.closePath(),f.fill&&(b.globalAlpha=f.fillAlpha*a,b.fillStyle="#"+("00000"+(l|0).toString(16)).substr(-6),b.fill()),f.lineWidth&&(b.globalAlpha=f.lineAlpha*a,b.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),b.stroke());else if(f.type===g.SHAPES.ELIP){var p=2*r.width,h=2*r.height;q=r.x-p/2;r=r.y-h/2;b.beginPath();var u=p/2*.5522848,A=h/2*.5522848,t=q+p,k=r+h;p=q+p/2;h=r+h/2;b.moveTo(q,h);b.bezierCurveTo(q,h-A,p-u,r,p,r);b.bezierCurveTo(p+
u,r,t,h-A,t,h);b.bezierCurveTo(t,h+A,p+u,k,p,k);b.bezierCurveTo(p-u,k,q,h+A,q,h);b.closePath();f.fill&&(b.globalAlpha=f.fillAlpha*a,b.fillStyle="#"+("00000"+(l|0).toString(16)).substr(-6),b.fill());f.lineWidth&&(b.globalAlpha=f.lineAlpha*a,b.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),b.stroke())}else if(f.type===g.SHAPES.RREC){q=r.x;h=r.y;u=r.width;A=r.height;r=r.radius;t=Math.min(u,A)/2|0;r=r>t?t:r;b.beginPath();b.moveTo(q,h+r);b.lineTo(q,h+A-r);b.quadraticCurveTo(q,h+A,q+r,h+A);b.lineTo(q+
u-r,h+A);b.quadraticCurveTo(q+u,h+A,q+u,h+A-r);b.lineTo(q+u,h+r);b.quadraticCurveTo(q+u,h,q+u-r,h);b.lineTo(q+r,h);b.quadraticCurveTo(q,h,q,h+r);b.closePath();if(f.fillColor||0===f.fillColor)b.globalAlpha=f.fillAlpha*a,b.fillStyle="#"+("00000"+(l|0).toString(16)).substr(-6),b.fill();f.lineWidth&&(b.globalAlpha=f.lineAlpha*a,b.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),b.stroke())}}};c.prototype.updateGraphicsTint=function(d){d._prevTint=d.tint;for(var c=(d.tint>>16&255)/255,b=(d.tint>>
8&255)/255,a=(d.tint&255)/255,f=0;f<d.graphicsData.length;++f){var l=d.graphicsData[f],g=l.fillColor|0,m=l.lineColor|0;l._fillTint=((g>>16&255)/255*c*255<<16)+((g>>8&255)/255*b*255<<8)+(g&255)/255*a*255;l._lineTint=((m>>16&255)/255*c*255<<16)+((m>>8&255)/255*b*255<<8)+(m&255)/255*a*255}};c.prototype.renderPolygon=function(d,c,b){b.moveTo(d[0],d[1]);for(var a=1;a<d.length/2;++a)b.lineTo(d[2*a],d[2*a+1]);c&&b.closePath()};c.prototype.destroy=function(){this.renderer=null};return c}();h.default=c;k.default.registerPlugin("graphics",
c)},{"../../const":55,"../../renderers/canvas/CanvasRenderer":86}],65:[function(c,k,h){h.__esModule=!0;h.default=function(c,p,d,e,b,a,f,l,r){var m=9<arguments.length&&void 0!==arguments[9]?arguments[9]:[];m.push(c,p);for(var q=1,g;q<=r;++q){g=q/r;var h=1-g;var u=h*h;var A=u*h;var t=g*g;var k=t*g;m.push(A*c+3*u*g*d+3*h*t*b+k*f,A*p+3*u*g*e+3*h*t*a+k*l)}return m}},{}],66:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var d=c("../../utils"),e=c("../../const");k=c("../../renderers/webgl/utils/ObjectRenderer");var b=g(k);k=c("../../renderers/webgl/WebGLRenderer");k=g(k);var a=c("./WebGLGraphicsData"),f=g(a);a=c("./shaders/PrimitiveShader");var l=g(a);a=c("./utils/buildPoly");var r=g(a);a=c("./utils/buildRectangle");
var m=g(a);a=c("./utils/buildRoundedRectangle");var q=g(a);c=c("./utils/buildCircle");var y=g(c);c=function(a){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var d=a.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.graphicsDataPool=[];d.primitiveShader=null;d.gl=b.gl;d.CONTEXT_UID=0;return d}p(c,a);c.prototype.onContextChange=function(){this.gl=
this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.primitiveShader=new l.default(this.gl)};c.prototype.destroy=function(){b.default.prototype.destroy.call(this);for(var a=0;a<this.graphicsDataPool.length;++a)this.graphicsDataPool[a].destroy();this.graphicsDataPool=null};c.prototype.render=function(a){var b=this.renderer,f=b.gl,c=a._webGL[this.CONTEXT_UID];c&&a.dirty===c.dirty||(this.updateGraphics(a),c=a._webGL[this.CONTEXT_UID]);b.bindShader(this.primitiveShader);b.state.setBlendMode(a.blendMode);
for(var e=0,l=c.data.length;e<l;e++){var m=c.data[e];var q=m.shader;b.bindShader(q);q.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);q.uniforms.tint=(0,d.hex2rgb)(a.tint);q.uniforms.alpha=a.worldAlpha;b.bindVao(m.vao);m.nativeLines?f.drawArrays(f.LINES,0,m.points.length/6):m.vao.draw(f.TRIANGLE_STRIP,m.indices.length)}};c.prototype.updateGraphics=function(a){var b=this.renderer.gl,d=a._webGL[this.CONTEXT_UID];d||(d=a._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:b,clearDirty:-1,
dirty:-1});d.dirty=a.dirty;if(a.clearDirty!==d.clearDirty){d.clearDirty=a.clearDirty;for(b=0;b<d.data.length;b++)this.graphicsDataPool.push(d.data[b]);d.data.length=0;d.lastIndex=0}for(var f=void 0,c=d.lastIndex;c<a.graphicsData.length;c++){var l=a.graphicsData[c];b=this.getWebGLData(d,0);l.nativeLines&&l.lineWidth&&(f=this.getWebGLData(d,0,!0),d.lastIndex++);l.type===e.SHAPES.POLY&&(0,r.default)(l,b,f);l.type===e.SHAPES.RECT?(0,m.default)(l,b,f):l.type===e.SHAPES.CIRC||l.type===e.SHAPES.ELIP?(0,
y.default)(l,b,f):l.type===e.SHAPES.RREC&&(0,q.default)(l,b,f);d.lastIndex++}this.renderer.bindVao(null);for(a=0;a<d.data.length;a++)b=d.data[a],b.dirty&&b.upload()};c.prototype.getWebGLData=function(a,b,d){var c=a.data[a.data.length-1];if(!c||c.nativeLines!==d||32E4<c.points.length)c=this.graphicsDataPool.pop()||new f.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),c.nativeLines=d,c.reset(b),a.data.push(c);c.dirty=!0;return c};return c}(b.default);h.default=c;k.default.registerPlugin("graphics",
c)},{"../../const":55,"../../renderers/webgl/WebGLRenderer":93,"../../renderers/webgl/utils/ObjectRenderer":103,"../../utils":134,"./WebGLGraphicsData":67,"./shaders/PrimitiveShader":68,"./utils/buildCircle":69,"./utils/buildPoly":71,"./utils/buildRectangle":72,"./utils/buildRoundedRectangle":73}],67:[function(c,k,h){h.__esModule=!0;var g=(c=c("pixi-gl-core"))&&c.__esModule?c:{default:c};c=function(){function c(d,e,b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.gl=d;this.color=[0,0,0];this.points=[];this.indices=[];this.buffer=g.default.GLBuffer.createVertexBuffer(d);this.indexBuffer=g.default.GLBuffer.createIndexBuffer(d);this.dirty=!0;this.nativeLines=!1;this.glIndices=this.glPoints=null;this.shader=e;this.vao=(new g.default.VertexArrayObject(d,b)).addIndex(this.indexBuffer).addAttribute(this.buffer,e.attributes.aVertexPosition,d.FLOAT,!1,24,0).addAttribute(this.buffer,e.attributes.aColor,d.FLOAT,!1,24,8)}c.prototype.reset=function(){this.points.length=
0;this.indices.length=0};c.prototype.upload=function(){this.glPoints=new Float32Array(this.points);this.buffer.upload(this.glPoints);this.glIndices=new Uint16Array(this.indices);this.indexBuffer.upload(this.glIndices);this.dirty=!1};c.prototype.destroy=function(){this.indices=this.points=this.color=null;this.vao.destroy();this.buffer.destroy();this.indexBuffer.destroy();this.glIndices=this.glPoints=this.indexBuffer=this.buffer=this.gl=null};return c}();h.default=c},{"pixi-gl-core":22}],68:[function(c,
k,h){function g(c,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}h.__esModule=!0;c=c("../../../Shader");c=function(c){function d(e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");e=c.call(this,e,"attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}",
"varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?this:e}g(d,c);return d}((c&&c.__esModule?c:{default:c}).default);h.default=c},{"../../../Shader":53}],69:[function(c,k,h){h.__esModule=!0;h.default=function(c,b,a){var f=c.shape,e=f.x,r=f.y,m;if(c.type===p.SHAPES.CIRC)var q=m=f.radius;else m=f.width,q=f.height;if(0!==m&&0!==q){f=Math.floor(30*
Math.sqrt(f.radius))||Math.floor(15*Math.sqrt(f.width+f.height));var y=2*Math.PI/f;if(c.fill){var h=(0,d.hex2rgb)(c.fillColor),u=c.fillAlpha,k=h[0]*u,t=h[1]*u;h=h[2]*u;var x=b.points,z=b.indices,B=x.length/6;z.push(B);for(var D=0;D<f+1;D++)x.push(e,r,k,t,h,u),x.push(e+Math.sin(y*D)*m,r+Math.cos(y*D)*q,k,t,h,u),z.push(B++,B++);z.push(B-1)}if(c.lineWidth){u=c.points;c.points=[];for(k=0;k<f+1;k++)c.points.push(e+Math.sin(y*-k)*m,r+Math.cos(y*-k)*q);(0,g.default)(c,b,a);c.points=u}}};var g=(k=c("./buildLine"))&&
k.__esModule?k:{default:k},p=c("../../../const"),d=c("../../../utils")},{"../../../const":55,"../../../utils":134,"./buildLine":70}],70:[function(c,k,h){h.__esModule=!0;h.default=function(d,c,b){if(d.nativeLines){var a=d.points;if(0!==a.length){b=b.points;c=a.length/2;var f=(0,p.hex2rgb)(d.lineColor);var e=d.lineAlpha,r=f[0]*e,m=f[1]*e,q=f[2]*e;for(f=1;f<c;f++){var y=a[2*f],h=a[2*f+1];b.push(a[2*(f-1)],a[2*(f-1)+1]);b.push(r,m,q,e);b.push(y,h);b.push(r,m,q,e)}}}else if(a=d.points,0!==a.length){e=
new g.Point(a[0],a[1]);r=new g.Point(a[a.length-2],a[a.length-1]);e.x===r.x&&e.y===r.y&&(a=a.slice(),a.pop(),a.pop(),r=new g.Point(a[a.length-2],a[a.length-1]),b=r.x+.5*(e.x-r.x),e=r.y+.5*(e.y-r.y),a.unshift(b,e),a.push(b,e));b=c.points;c=c.indices;m=a.length/2;e=a.length;r=b.length/6;f=d.lineWidth/2;var u=(0,p.hex2rgb)(d.lineColor);q=d.lineAlpha;y=u[0]*q;h=u[1]*q;u=u[2]*q;var k=a[0],t=a[1],x=a[2],z=a[3],B=-(t-z),D=k-x,C=Math.sqrt(B*B+D*D);B=B/C*f;D=D/C*f;x=d.lineAlignment;d=2*(1-x);var H=2*x;b.push(k-
B*d,t-D*d,y,h,u,q);b.push(k+B*H,t+D*H,y,h,u,q);for(var E=1;E<m-1;++E){k=a[2*(E-1)];t=a[2*(E-1)+1];x=a[2*E];z=a[2*E+1];var F=a[2*(E+1)];var N=a[2*(E+1)+1];B=-(t-z);D=k-x;C=Math.sqrt(B*B+D*D);B/=C;D/=C;B*=f;D*=f;var I=-(z-N);var O=x-F;C=Math.sqrt(I*I+O*O);I/=C;O/=C;I*=f;O*=f;C=-D+t-(-D+z);var P=-B+x-(-B+k);k=(-B+k)*(-D+z)-(-B+x)*(-D+t);t=-O+N-(-O+z);var ia=-I+x-(-I+F);F=(-I+F)*(-O+z)-(-I+x)*(-O+N);N=C*ia-t*P;.1>Math.abs(N)?(b.push(x-B*d,z-D*d,y,h,u,q),b.push(x+B*H,z+D*H,y,h,u,q)):(P=(P*F-ia*k)/N,C=
(t*k-C*F)/N,(P-x)*(P-x)+(C-z)*(C-z)>196*f*f?(B-=I,D-=O,C=Math.sqrt(B*B+D*D),B/=C,D/=C,B*=f,D*=f,b.push(x-B*d,z-D*d),b.push(y,h,u,q),b.push(x+B*H,z+D*H),b.push(y,h,u,q),b.push(x-B*H*d,z-D*d),b.push(y,h,u,q),e++):(b.push(x+(P-x)*d,z+(C-z)*d),b.push(y,h,u,q),b.push(x-(P-x)*H,z-(C-z)*H),b.push(y,h,u,q)))}k=a[2*(m-2)];t=a[2*(m-2)+1];x=a[2*(m-1)];z=a[2*(m-1)+1];B=-(t-z);D=k-x;C=Math.sqrt(B*B+D*D);B=B/C*f;D=D/C*f;b.push(x-B*d,z-D*d);b.push(y,h,u,q);b.push(x+B*H,z+D*H);b.push(y,h,u,q);c.push(r);for(a=0;a<
e;++a)c.push(r++);c.push(r-1)}};var g=c("../../../math"),p=c("../../../utils")},{"../../../math":79,"../../../utils":134}],71:[function(c,k,h){h.__esModule=!0;h.default=function(c,b,a){c.points=c.shape.points.slice();var f=c.points;if(c.fill&&6<=f.length){for(var e=[],r=c.holes,m=0;m<r.length;m++){var q=r[m];e.push(f.length/2);f=f.concat(q.points)}r=b.points;var h=b.indices;m=f.length/2;var v=(0,p.hex2rgb)(c.fillColor);q=c.fillAlpha;var u=v[0]*q,k=v[1]*q;v=v[2]*q;e=(0,d.default)(f,e,2);if(!e)return;
for(var t=r.length/6,x=0;x<e.length;x+=3)h.push(e[x]+t),h.push(e[x]+t),h.push(e[x+1]+t),h.push(e[x+2]+t),h.push(e[x+2]+t);for(e=0;e<m;e++)r.push(f[2*e],f[2*e+1],u,k,v,q)}0<c.lineWidth&&(0,g.default)(c,b,a)};var g=(k=c("./buildLine"))&&k.__esModule?k:{default:k},p=c("../../../utils"),d=(c=c("earcut"))&&c.__esModule?c:{default:c}},{"../../../utils":134,"./buildLine":70,earcut:10}],72:[function(c,k,h){h.__esModule=!0;h.default=function(d,c,b){var a=d.shape,f=a.x,e=a.y,r=a.width;a=a.height;if(d.fill){var m=
(0,p.hex2rgb)(d.fillColor),q=d.fillAlpha,h=m[0]*q,v=m[1]*q;m=m[2]*q;var u=c.points,k=c.indices,t=u.length/6;u.push(f,e);u.push(h,v,m,q);u.push(f+r,e);u.push(h,v,m,q);u.push(f,e+a);u.push(h,v,m,q);u.push(f+r,e+a);u.push(h,v,m,q);k.push(t,t,t+1,t+2,t+3,t+3)}d.lineWidth&&(q=d.points,d.points=[f,e,f+r,e,f+r,e+a,f,e+a,f,e],(0,g.default)(d,c,b),d.points=q)};var g=(k=c("./buildLine"))&&k.__esModule?k:{default:k},p=c("../../../utils")},{"../../../utils":134,"./buildLine":70}],73:[function(c,k,h){function g(b,
a,d,c,e,m){for(var f=6<arguments.length&&void 0!==arguments[6]?arguments[6]:[],l,g,r,p,h=0,k;20>=h;++h)k=h/20,l=b+(d-b)*k,g=a+(c-a)*k,r=d+(e-d)*k,p=c+(m-c)*k,l+=(r-l)*k,g+=(p-g)*k,f.push(l,g);return f}h.__esModule=!0;h.default=function(b,a,c){var f=b.shape,r=f.x,m=f.y,q=f.width,h=f.height,v=f.radius;f=[];f.push(r,m+v);g(r,m+h-v,r,m+h,r+v,m+h,f);g(r+q-v,m+h,r+q,m+h,r+q,m+h-v,f);g(r+q,m+v,r+q,m,r+q-v,m,f);g(r+v,m,r,m,r,m+v+1E-10,f);if(b.fill){h=(0,e.hex2rgb)(b.fillColor);r=b.fillAlpha;m=h[0]*r;q=h[1]*
r;h=h[2]*r;v=a.points;for(var u=a.indices,k=v.length/6,t=(0,p.default)(f,null,2),x=0,z=t.length;x<z;x+=3)u.push(t[x]+k),u.push(t[x]+k),u.push(t[x+1]+k),u.push(t[x+2]+k),u.push(t[x+2]+k);u=0;for(k=f.length;u<k;u++)v.push(f[u],f[++u],m,q,h,r)}b.lineWidth&&(r=b.points,b.points=f,(0,d.default)(b,a,c),b.points=r)};var p=(k=c("earcut"))&&k.__esModule?k:{default:k},d=(k=c("./buildLine"))&&k.__esModule?k:{default:k},e=c("../../../utils")},{"../../../utils":134,"./buildLine":70,earcut:10}],74:[function(c,
k,h){function g(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}function p(a){return a&&a.__esModule?a:{default:a}}h.__esModule=!0;h.autoDetectRenderer=h.Application=h.Filter=h.SpriteMaskFilter=h.Quad=h.RenderTarget=h.ObjectRenderer=h.WebGLManager=h.Shader=h.CanvasRenderTarget=h.TextureUvs=h.VideoBaseTexture=h.BaseRenderTexture=h.RenderTexture=h.BaseTexture=h.TextureMatrix=h.Texture=h.Spritesheet=h.CanvasGraphicsRenderer=
h.GraphicsRenderer=h.GraphicsData=h.Graphics=h.TextMetrics=h.TextStyle=h.Text=h.SpriteRenderer=h.CanvasTinter=h.CanvasSpriteRenderer=h.Sprite=h.TransformBase=h.TransformStatic=h.Transform=h.Container=h.DisplayObject=h.Bounds=h.glCore=h.WebGLRenderer=h.CanvasRenderer=h.ticker=h.utils=h.settings=void 0;var d=c("./const");Object.keys(d).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(h,a,{enumerable:!0,get:function(){return d[a]}})});var e=c("./math");Object.keys(e).forEach(function(a){"default"!==
a&&"__esModule"!==a&&Object.defineProperty(h,a,{enumerable:!0,get:function(){return e[a]}})});var b=c("pixi-gl-core");Object.defineProperty(h,"glCore",{enumerable:!0,get:function(){return p(b).default}});var a=c("./display/Bounds");Object.defineProperty(h,"Bounds",{enumerable:!0,get:function(){return p(a).default}});var f=c("./display/DisplayObject");Object.defineProperty(h,"DisplayObject",{enumerable:!0,get:function(){return p(f).default}});var l=c("./display/Container");Object.defineProperty(h,
"Container",{enumerable:!0,get:function(){return p(l).default}});var r=c("./display/Transform");Object.defineProperty(h,"Transform",{enumerable:!0,get:function(){return p(r).default}});var m=c("./display/TransformStatic");Object.defineProperty(h,"TransformStatic",{enumerable:!0,get:function(){return p(m).default}});var q=c("./display/TransformBase");Object.defineProperty(h,"TransformBase",{enumerable:!0,get:function(){return p(q).default}});var y=c("./sprites/Sprite");Object.defineProperty(h,"Sprite",
{enumerable:!0,get:function(){return p(y).default}});var v=c("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(h,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return p(v).default}});var u=c("./sprites/canvas/CanvasTinter");Object.defineProperty(h,"CanvasTinter",{enumerable:!0,get:function(){return p(u).default}});var A=c("./sprites/webgl/SpriteRenderer");Object.defineProperty(h,"SpriteRenderer",{enumerable:!0,get:function(){return p(A).default}});var t=c("./text/Text");Object.defineProperty(h,
"Text",{enumerable:!0,get:function(){return p(t).default}});var x=c("./text/TextStyle");Object.defineProperty(h,"TextStyle",{enumerable:!0,get:function(){return p(x).default}});var z=c("./text/TextMetrics");Object.defineProperty(h,"TextMetrics",{enumerable:!0,get:function(){return p(z).default}});var B=c("./graphics/Graphics");Object.defineProperty(h,"Graphics",{enumerable:!0,get:function(){return p(B).default}});var D=c("./graphics/GraphicsData");Object.defineProperty(h,"GraphicsData",{enumerable:!0,
get:function(){return p(D).default}});var C=c("./graphics/webgl/GraphicsRenderer");Object.defineProperty(h,"GraphicsRenderer",{enumerable:!0,get:function(){return p(C).default}});var H=c("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(h,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return p(H).default}});var E=c("./textures/Spritesheet");Object.defineProperty(h,"Spritesheet",{enumerable:!0,get:function(){return p(E).default}});var F=c("./textures/Texture");Object.defineProperty(h,
"Texture",{enumerable:!0,get:function(){return p(F).default}});var N=c("./textures/TextureMatrix");Object.defineProperty(h,"TextureMatrix",{enumerable:!0,get:function(){return p(N).default}});var I=c("./textures/BaseTexture");Object.defineProperty(h,"BaseTexture",{enumerable:!0,get:function(){return p(I).default}});var O=c("./textures/RenderTexture");Object.defineProperty(h,"RenderTexture",{enumerable:!0,get:function(){return p(O).default}});var P=c("./textures/BaseRenderTexture");Object.defineProperty(h,
"BaseRenderTexture",{enumerable:!0,get:function(){return p(P).default}});var ia=c("./textures/VideoBaseTexture");Object.defineProperty(h,"VideoBaseTexture",{enumerable:!0,get:function(){return p(ia).default}});var X=c("./textures/TextureUvs");Object.defineProperty(h,"TextureUvs",{enumerable:!0,get:function(){return p(X).default}});var R=c("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(h,"CanvasRenderTarget",{enumerable:!0,get:function(){return p(R).default}});var aa=c("./Shader");
Object.defineProperty(h,"Shader",{enumerable:!0,get:function(){return p(aa).default}});var G=c("./renderers/webgl/managers/WebGLManager");Object.defineProperty(h,"WebGLManager",{enumerable:!0,get:function(){return p(G).default}});var M=c("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(h,"ObjectRenderer",{enumerable:!0,get:function(){return p(M).default}});var W=c("./renderers/webgl/utils/RenderTarget");Object.defineProperty(h,"RenderTarget",{enumerable:!0,get:function(){return p(W).default}});
var w=c("./renderers/webgl/utils/Quad");Object.defineProperty(h,"Quad",{enumerable:!0,get:function(){return p(w).default}});var J=c("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(h,"SpriteMaskFilter",{enumerable:!0,get:function(){return p(J).default}});var Q=c("./renderers/webgl/filters/Filter");Object.defineProperty(h,"Filter",{enumerable:!0,get:function(){return p(Q).default}});var va=c("./Application");Object.defineProperty(h,"Application",{enumerable:!0,get:function(){return p(va).default}});
var ea=c("./autoDetectRenderer");Object.defineProperty(h,"autoDetectRenderer",{enumerable:!0,get:function(){return ea.autoDetectRenderer}});k=c("./utils");k=g(k);var U=c("./ticker");U=g(U);var ja=c("./settings");ja=p(ja);var S=c("./renderers/canvas/CanvasRenderer");S=p(S);c=c("./renderers/webgl/WebGLRenderer");c=p(c);h.settings=ja.default;h.utils=k;h.ticker=U;h.CanvasRenderer=S.default;h.WebGLRenderer=c.default},{"./Application":52,"./Shader":53,"./autoDetectRenderer":54,"./const":55,"./display/Bounds":56,
"./display/Container":57,"./display/DisplayObject":58,"./display/Transform":59,"./display/TransformBase":60,"./display/TransformStatic":61,"./graphics/Graphics":62,"./graphics/GraphicsData":63,"./graphics/canvas/CanvasGraphicsRenderer":64,"./graphics/webgl/GraphicsRenderer":66,"./math":79,"./renderers/canvas/CanvasRenderer":86,"./renderers/canvas/utils/CanvasRenderTarget":88,"./renderers/webgl/WebGLRenderer":93,"./renderers/webgl/filters/Filter":95,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":98,
"./renderers/webgl/managers/WebGLManager":102,"./renderers/webgl/utils/ObjectRenderer":103,"./renderers/webgl/utils/Quad":104,"./renderers/webgl/utils/RenderTarget":105,"./settings":110,"./sprites/Sprite":111,"./sprites/canvas/CanvasSpriteRenderer":112,"./sprites/canvas/CanvasTinter":113,"./sprites/webgl/SpriteRenderer":115,"./text/Text":117,"./text/TextMetrics":118,"./text/TextStyle":119,"./textures/BaseRenderTexture":120,"./textures/BaseTexture":121,"./textures/RenderTexture":122,"./textures/Spritesheet":123,
"./textures/Texture":124,"./textures/TextureMatrix":125,"./textures/TextureUvs":126,"./textures/VideoBaseTexture":127,"./ticker":130,"./utils":134,"pixi-gl-core":22}],75:[function(c,k,h){function g(a){return 0>a?-1:0<a?1:0}h.__esModule=!0;var p=(c=c("./Matrix"))&&c.__esModule?c:{default:c},d=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],e=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],b=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],a=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],f=[],l=[];(function(){for(var c=0;16>c;c++){var q=
[];l.push(q);for(var r=0;16>r;r++)for(var h=g(d[c]*d[r]+b[c]*e[r]),k=g(e[c]*d[r]+a[c]*e[r]),A=g(d[c]*b[r]+b[c]*a[r]),t=g(e[c]*b[r]+a[c]*a[r]),x=0;16>x;x++)if(d[x]===h&&e[x]===k&&b[x]===A&&a[x]===t){q.push(x);break}}for(c=0;16>c;c++)q=new p.default,q.set(d[c],e[c],b[c],a[c],0,0),f.push(q)})();var r={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(a){return d[a]},uY:function(a){return e[a]},vX:function(a){return b[a]},vY:function(b){return a[b]},inv:function(a){return a&
8?a&15:-a&7},add:function(a,b){return l[a][b]},sub:function(a,b){return l[a][r.inv(b)]},rotate180:function(a){return a^4},isVertical:function(a){return 2===(a&3)},byDirection:function(a,b){return 2*Math.abs(a)<=Math.abs(b)?0<=b?r.S:r.N:2*Math.abs(b)<=Math.abs(a)?0<a?r.E:r.W:0<b?0<a?r.SE:r.SW:0<a?r.NE:r.NW},matrixAppendRotationInv:function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,e=f[r.inv(b)];e.tx=d;e.ty=c;a.append(e)}};
h.default=r},{"./Matrix":76}],76:[function(c,k,h){h.__esModule=!0;var g=function(){function d(b,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,a,c){a&&d(b.prototype,a);c&&d(b,c);return b}}(),p=(k=c("./Point"))&&k.__esModule?k:{default:k},d=c("../const");c=function(){function c(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,a=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,m=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.a=b;this.b=a;this.c=d;this.d=e;this.tx=g;this.ty=m;this.array=null}c.prototype.fromArray=function(b){this.a=b[0];this.b=b[1];this.c=b[3];this.d=b[4];this.tx=b[2];this.ty=
b[5]};c.prototype.set=function(b,a,d,c,e,m){this.a=b;this.b=a;this.c=d;this.d=c;this.tx=e;this.ty=m;return this};c.prototype.toArray=function(b,a){this.array||(this.array=new Float32Array(9));a=a||this.array;b?(a[0]=this.a,a[1]=this.b,a[2]=0,a[3]=this.c,a[4]=this.d,a[5]=0,a[6]=this.tx,a[7]=this.ty):(a[0]=this.a,a[1]=this.c,a[2]=this.tx,a[3]=this.b,a[4]=this.d,a[5]=this.ty,a[6]=0,a[7]=0);a[8]=1;return a};c.prototype.apply=function(b,a){a=a||new p.default;var d=b.x;b=b.y;a.x=this.a*d+this.c*b+this.tx;
a.y=this.b*d+this.d*b+this.ty;return a};c.prototype.applyInverse=function(b,a){a=a||new p.default;var d=1/(this.a*this.d+this.c*-this.b),c=b.x;b=b.y;a.x=this.d*d*c+-this.c*d*b+(this.ty*this.c-this.tx*this.d)*d;a.y=this.a*d*b+-this.b*d*c+(-this.ty*this.a+this.tx*this.b)*d;return a};c.prototype.translate=function(b,a){this.tx+=b;this.ty+=a;return this};c.prototype.scale=function(b,a){this.a*=b;this.d*=a;this.c*=b;this.b*=a;this.tx*=b;this.ty*=a;return this};c.prototype.rotate=function(b){var a=Math.cos(b);
b=Math.sin(b);var d=this.a,c=this.c,e=this.tx;this.a=d*a-this.b*b;this.b=d*b+this.b*a;this.c=c*a-this.d*b;this.d=c*b+this.d*a;this.tx=e*a-this.ty*b;this.ty=e*b+this.ty*a;return this};c.prototype.append=function(b){var a=this.a,d=this.b,c=this.c,e=this.d;this.a=b.a*a+b.b*c;this.b=b.a*d+b.b*e;this.c=b.c*a+b.d*c;this.d=b.c*d+b.d*e;this.tx=b.tx*a+b.ty*c+this.tx;this.ty=b.tx*d+b.ty*e+this.ty;return this};c.prototype.setTransform=function(b,a,d,c,e,m,q,g,h){this.a=Math.cos(q+h)*e;this.b=Math.sin(q+h)*e;
this.c=-Math.sin(q-g)*m;this.d=Math.cos(q-g)*m;this.tx=b-(d*this.a+c*this.c);this.ty=a-(d*this.b+c*this.d);return this};c.prototype.prepend=function(b){var a=this.tx;if(1!==b.a||0!==b.b||0!==b.c||1!==b.d){var d=this.a,c=this.c;this.a=d*b.a+this.b*b.c;this.b=d*b.b+this.b*b.d;this.c=c*b.a+this.d*b.c;this.d=c*b.b+this.d*b.d}this.tx=a*b.a+this.ty*b.c+b.tx;this.ty=a*b.b+this.ty*b.d+b.ty;return this};c.prototype.decompose=function(b){var a=this.a,c=this.b,e=this.c,g=this.d,m=-Math.atan2(-e,g),q=Math.atan2(c,
a),h=Math.abs(m+q);1E-5>h||1E-5>Math.abs(d.PI_2-h)?(b.rotation=q,0>a&&0<=g&&(b.rotation+=0>=b.rotation?Math.PI:-Math.PI),b.skew.x=b.skew.y=0):(b.rotation=0,b.skew.x=m,b.skew.y=q);b.scale.x=Math.sqrt(a*a+c*c);b.scale.y=Math.sqrt(e*e+g*g);b.position.x=this.tx;b.position.y=this.ty;return b};c.prototype.invert=function(){var b=this.a,a=this.b,d=this.c,c=this.d,e=this.tx,m=b*c-a*d;this.a=c/m;this.b=-a/m;this.c=-d/m;this.d=b/m;this.tx=(d*this.ty-c*e)/m;this.ty=-(b*this.ty-a*e)/m;return this};c.prototype.identity=
function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this};c.prototype.clone=function(){var b=new c;b.a=this.a;b.b=this.b;b.c=this.c;b.d=this.d;b.tx=this.tx;b.ty=this.ty;return b};c.prototype.copy=function(b){b.a=this.a;b.b=this.b;b.c=this.c;b.d=this.d;b.tx=this.tx;b.ty=this.ty;return b};g(c,null,[{key:"IDENTITY",get:function(){return new c}},{key:"TEMP_MATRIX",get:function(){return new c}}]);return c}();h.default=c},{"../const":55,"./Point":78}],77:[function(c,k,h){h.__esModule=
!0;var g=function(){function c(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(d,a.key,a)}}return function(d,e,b){e&&c(d.prototype,e);b&&c(d,b);return d}}();c=function(){function c(d,e){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._x=b;this._y=
a;this.cb=d;this.scope=e}c.prototype.set=function(d,c){d=d||0;c=c||(0!==c?d:0);if(this._x!==d||this._y!==c)this._x=d,this._y=c,this.cb.call(this.scope)};c.prototype.copy=function(d){if(this._x!==d.x||this._y!==d.y)this._x=d.x,this._y=d.y,this.cb.call(this.scope)};g(c,[{key:"x",get:function(){return this._x},set:function(d){this._x!==d&&(this._x=d,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(d){this._y!==d&&(this._y=d,this.cb.call(this.scope))}}]);return c}();h.default=
c},{}],78:[function(c,k,h){h.__esModule=!0;c=function(){function c(){var g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.x=g;this.y=d}c.prototype.clone=function(){return new c(this.x,this.y)};c.prototype.copy=function(c){this.set(c.x,c.y)};c.prototype.equals=function(c){return c.x===this.x&&c.y===this.y};c.prototype.set=function(c,d){this.x=c||
0;this.y=d||(0!==d?this.x:0)};return c}();h.default=c},{}],79:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}h.__esModule=!0;var p=c("./Point");Object.defineProperty(h,"Point",{enumerable:!0,get:function(){return g(p).default}});var d=c("./ObservablePoint");Object.defineProperty(h,"ObservablePoint",{enumerable:!0,get:function(){return g(d).default}});var e=c("./Matrix");Object.defineProperty(h,"Matrix",{enumerable:!0,get:function(){return g(e).default}});var b=c("./GroupD8");
Object.defineProperty(h,"GroupD8",{enumerable:!0,get:function(){return g(b).default}});var a=c("./shapes/Circle");Object.defineProperty(h,"Circle",{enumerable:!0,get:function(){return g(a).default}});var f=c("./shapes/Ellipse");Object.defineProperty(h,"Ellipse",{enumerable:!0,get:function(){return g(f).default}});var l=c("./shapes/Polygon");Object.defineProperty(h,"Polygon",{enumerable:!0,get:function(){return g(l).default}});var r=c("./shapes/Rectangle");Object.defineProperty(h,"Rectangle",{enumerable:!0,
get:function(){return g(r).default}});var m=c("./shapes/RoundedRectangle");Object.defineProperty(h,"RoundedRectangle",{enumerable:!0,get:function(){return g(m).default}})},{"./GroupD8":75,"./Matrix":76,"./ObservablePoint":77,"./Point":78,"./shapes/Circle":80,"./shapes/Ellipse":81,"./shapes/Polygon":82,"./shapes/Rectangle":83,"./shapes/RoundedRectangle":84}],80:[function(c,k,h){h.__esModule=!0;var g=(k=c("./Rectangle"))&&k.__esModule?k:{default:k},p=c("../../const");c=function(){function d(){var c=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.x=c;this.y=b;this.radius=a;this.type=p.SHAPES.CIRC}d.prototype.clone=function(){return new d(this.x,this.y,this.radius)};d.prototype.contains=function(d,b){if(0>=this.radius)return!1;d=this.x-d;b=this.y-b;return d*d+b*b<=this.radius*this.radius};
d.prototype.getBounds=function(){return new g.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};return d}();h.default=c},{"../../const":55,"./Rectangle":83}],81:[function(c,k,h){h.__esModule=!0;var g=(k=c("./Rectangle"))&&k.__esModule?k:{default:k},p=c("../../const");c=function(){function d(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,
f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.x=c;this.y=b;this.width=a;this.height=f;this.type=p.SHAPES.ELIP}d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)};d.prototype.contains=function(d,b){if(0>=this.width||0>=this.height)return!1;d=(d-this.x)/this.width;b=(b-this.y)/this.height;return 1>=d*d+b*b};d.prototype.getBounds=function(){return new g.default(this.x-this.width,
this.y-this.height,this.width,this.height)};return d}();h.default=c},{"../../const":55,"./Rectangle":83}],82:[function(c,k,h){h.__esModule=!0;var g=(k=c("../Point"))&&k.__esModule?k:{default:k},p=c("../../const");c=function(){function d(){for(var c=arguments.length,b=Array(c),a=0;a<c;a++)b[a]=arguments[a];if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");Array.isArray(b[0])&&(b=b[0]);if(b[0]instanceof g.default){c=[];a=0;for(var f=b.length;a<f;a++)c.push(b[a].x,b[a].y);
b=c}this.closed=!0;this.points=b;this.type=p.SHAPES.POLY}d.prototype.clone=function(){return new d(this.points.slice())};d.prototype.close=function(){var d=this.points;d[0]===d[d.length-2]&&d[1]===d[d.length-1]||d.push(d[0],d[1])};d.prototype.contains=function(d,b){for(var a=!1,c=this.points.length/2,e=0,g=c-1;e<c;g=e++){var m=this.points[2*e],q=this.points[2*e+1],h=this.points[2*g];g=this.points[2*g+1];q>b!==g>b&&d<(b-q)/(g-q)*(h-m)+m&&(a=!a)}return a};return d}();h.default=c},{"../../const":55,
"../Point":78}],83:[function(c,k,h){h.__esModule=!0;var g=function(){function d(d,b){for(var a=0;a<b.length;a++){var c=b[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(d,c.key,c)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),p=c("../../const");c=function(){function d(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?
arguments[2]:0,f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.x=Number(c);this.y=Number(b);this.width=Number(a);this.height=Number(f);this.type=p.SHAPES.RECT}d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)};d.prototype.copy=function(d){this.x=d.x;this.y=d.y;this.width=d.width;this.height=d.height;return this};d.prototype.contains=function(d,b){return 0>=this.width||0>=
this.height?!1:d>=this.x&&d<this.x+this.width&&b>=this.y&&b<this.y+this.height?!0:!1};d.prototype.pad=function(d,b){d=d||0;b=b||(0!==b?d:0);this.x-=d;this.y-=b;this.width+=2*d;this.height+=2*b};d.prototype.fit=function(d){this.x<d.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=d.x);this.y<d.y&&(this.height+=this.y,0>this.height&&(this.height=0),this.y=d.y);this.x+this.width>d.x+d.width&&(this.width=d.width-this.x,0>this.width&&(this.width=0));this.y+this.height>d.y+d.height&&(this.height=
d.height-this.y,0>this.height&&(this.height=0))};d.prototype.enlarge=function(d){var b=Math.min(this.x,d.x),a=Math.max(this.x+this.width,d.x+d.width),c=Math.min(this.y,d.y);d=Math.max(this.y+this.height,d.y+d.height);this.x=b;this.width=a-b;this.y=c;this.height=d-c};g(d,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new d(0,
0,0,0)}}]);return d}();h.default=c},{"../../const":55}],84:[function(c,k,h){h.__esModule=!0;var g=c("../../const");c=function(){function c(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,f=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.x=d;this.y=e;this.width=b;this.height=a;this.radius=f;this.type=g.SHAPES.RREC}c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height,this.radius)};c.prototype.contains=function(d,c){if(0>=this.width||0>=this.height)return!1;if(d>=this.x&&d<=this.x+this.width&&c>=this.y&&c<=this.y+this.height){if(c>=this.y+this.radius&&c<=this.y+this.height-this.radius||d>=this.x+this.radius&&d<=this.x+this.width-this.radius)return!0;var b=d-(this.x+this.radius),a=c-(this.y+this.radius),
f=this.radius*this.radius;if(b*b+a*a<=f)return!0;b=d-(this.x+this.width-this.radius);if(b*b+a*a<=f)return!0;a=c-(this.y+this.height-this.radius);if(b*b+a*a<=f)return!0;b=d-(this.x+this.radius);if(b*b+a*a<=f)return!0}return!1};return c}();h.default=c},{"../../const":55}],85:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&
b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var d=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),e=c("../utils"),b=c("../math"),a=c("../const");k=c("../settings");var f=g(k);k=c("../display/Container");
var l=g(k);k=c("../textures/RenderTexture");var r=g(k);c=c("eventemitter3");c=g(c);var m=new b.Matrix;c=function(c){function q(d,m,g,r){if(!(this instanceof q))throw new TypeError("Cannot call a class as a function");var h=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;(0,e.sayHello)(d);"number"===typeof m&&(m=Object.assign({width:m,height:g||f.default.RENDER_OPTIONS.height},r));m=
Object.assign({},f.default.RENDER_OPTIONS,m);h.options=m;h.type=a.RENDERER_TYPE.UNKNOWN;h.screen=new b.Rectangle(0,0,m.width,m.height);h.view=m.view||document.createElement("canvas");h.resolution=m.resolution||f.default.RESOLUTION;h.transparent=m.transparent;h.autoResize=m.autoResize||!1;h.blendModes=null;h.preserveDrawingBuffer=m.preserveDrawingBuffer;h.clearBeforeRender=m.clearBeforeRender;h.roundPixels=m.roundPixels;h._backgroundColor=0;h._backgroundColorRgba=[0,0,0,0];h._backgroundColorString=
"#000000";h.backgroundColor=m.backgroundColor||h._backgroundColor;h._tempDisplayObjectParent=new l.default;h._lastObjectRendered=h._tempDisplayObjectParent;return h}p(q,c);q.prototype.resize=function(a,b){this.screen.width=a;this.screen.height=b;this.view.width=a*this.resolution;this.view.height=b*this.resolution;this.autoResize&&(this.view.style.width=a+"px",this.view.style.height=b+"px")};q.prototype.generateTexture=function(a,b,d,c){c=c||a.getLocalBounds();b=r.default.create(c.width|0,c.height|
0,b,d);m.tx=-c.x;m.ty=-c.y;this.render(a,b,!1,m,!0);return b};q.prototype.destroy=function(b){b&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.type=a.RENDERER_TYPE.UNKNOWN;this.screen=this.view=null;this.resolution=0;this.autoResize=this.transparent=!1;this.options=this.blendModes=null;this.roundPixels=this.clearBeforeRender=this.preserveDrawingBuffer=!1;this._backgroundColor=0;this._lastObjectRendered=this._tempDisplayObjectParent=this._backgroundColorString=this._backgroundColorRgba=
null};d(q,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a;this._backgroundColorString=(0,e.hex2string)(a);(0,e.hex2rgb)(a,this._backgroundColorRgba)}}]);return q}(c.default);h.default=c},{"../const":55,"../display/Container":57,"../math":79,"../settings":110,"../textures/RenderTexture":122,"../utils":134,eventemitter3:199}],86:[function(c,
k,h){function g(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;k=c("../SystemRenderer");k=g(k);var d=c("./utils/CanvasMaskManager"),e=g(d);d=c("./utils/CanvasRenderTarget");var b=
g(d);d=c("./utils/mapCanvasBlendModesToPixi");var a=g(d);d=c("../../utils");var f=c("../../const");c=c("../../settings");var l=g(c);c=function(d){function c(b,l,m){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b=d.call(this,"Canvas",b,l,m);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.type=f.RENDERER_TYPE.CANVAS;b.rootContext=b.view.getContext("2d",{alpha:b.transparent});
b.context=b.rootContext;b.refresh=!0;b.maskManager=new e.default(b);b.smoothProperty="imageSmoothingEnabled";b.rootContext.imageSmoothingEnabled||(b.rootContext.webkitImageSmoothingEnabled?b.smoothProperty="webkitImageSmoothingEnabled":b.rootContext.mozImageSmoothingEnabled?b.smoothProperty="mozImageSmoothingEnabled":b.rootContext.oImageSmoothingEnabled?b.smoothProperty="oImageSmoothingEnabled":b.rootContext.msImageSmoothingEnabled&&(b.smoothProperty="msImageSmoothingEnabled"));b.initPlugins();b.blendModes=
(0,a.default)();b._activeBlendMode=null;b.renderingToScreen=!1;b.resize(b.options.width,b.options.height);return b}p(c,d);c.prototype.render=function(a,d,c,e,l){if(this.view){this.renderingToScreen=!d;this.emit("prerender");var m=this.resolution;d?(d=d.baseTexture||d,d._canvasRenderTarget||(d._canvasRenderTarget=new b.default(d.width,d.height,d.resolution),d.source=d._canvasRenderTarget.canvas,d.valid=!0),this.context=d._canvasRenderTarget.context,this.resolution=d._canvasRenderTarget.resolution):
this.context=this.rootContext;var q=this.context;d||(this._lastObjectRendered=a);l||(d=a.parent,l=this._tempDisplayObjectParent.transform.worldTransform,e?(e.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=d);q.save();q.setTransform(1,0,0,1,0,0);q.globalAlpha=1;this._activeBlendMode=f.BLEND_MODES.NORMAL;q.globalCompositeOperation=this.blendModes[f.BLEND_MODES.NORMAL];navigator.isCocoonJS&&this.view.screencanvas&&
(q.fillStyle="black",q.clear());(void 0!==c?c:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?q.clearRect(0,0,this.width,this.height):(q.fillStyle=this._backgroundColorString,q.fillRect(0,0,this.width,this.height)));c=this.context;this.context=q;a.renderCanvas(this);this.context=c;q.restore();this.resolution=m;this.emit("postrender")}};c.prototype.clear=function(a){var b=this.context;a=a||this._backgroundColorString;!this.transparent&&a?(b.fillStyle=a,b.fillRect(0,0,this.width,
this.height)):b.clearRect(0,0,this.width,this.height)};c.prototype.setBlendMode=function(a){this._activeBlendMode!==a&&(this._activeBlendMode=a,this.context.globalCompositeOperation=this.blendModes[a])};c.prototype.destroy=function(a){this.destroyPlugins();d.prototype.destroy.call(this,a);this.context=null;this.refresh=!0;this.maskManager.destroy();this.smoothProperty=this.maskManager=null};c.prototype.resize=function(a,b){d.prototype.resize.call(this,a,b);this.smoothProperty&&(this.rootContext[this.smoothProperty]=
l.default.SCALE_MODE===f.SCALE_MODES.LINEAR)};c.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)};return c}(k.default);h.default=c;d.pluginTarget.mixin(c)},{"../../const":55,"../../settings":110,"../../utils":134,"../SystemRenderer":85,"./utils/CanvasMaskManager":87,"./utils/CanvasRenderTarget":88,"./utils/mapCanvasBlendModesToPixi":90}],87:[function(c,k,h){h.__esModule=!0;var g=c("../../../const");c=function(){function c(d){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");this.renderer=d}c.prototype.pushMask=function(d){var c=this.renderer;c.context.save();var b=d.alpha,a=d.transform.worldTransform,f=c.resolution;c.context.setTransform(a.a*f,a.b*f,a.c*f,a.d*f,a.tx*f,a.ty*f);d._texture||(this.renderGraphicsShape(d),c.context.clip());d.worldAlpha=b};c.prototype.renderGraphicsShape=function(d){var c=this.renderer.context,b=d.graphicsData.length;if(0!==b){c.beginPath();for(var a=0;a<b;a++){var f=d.graphicsData[a],
l=f.shape;if(f.type===g.SHAPES.POLY){f=l.points;c.moveTo(f[0],f[1]);for(var r=1;r<f.length/2;r++)c.lineTo(f[2*r],f[2*r+1]);f[0]===f[f.length-2]&&f[1]===f[f.length-1]&&c.closePath()}else if(f.type===g.SHAPES.RECT)c.rect(l.x,l.y,l.width,l.height),c.closePath();else if(f.type===g.SHAPES.CIRC)c.arc(l.x,l.y,l.radius,0,2*Math.PI),c.closePath();else if(f.type===g.SHAPES.ELIP){var m=2*l.width;r=2*l.height;f=l.x-m/2;l=l.y-r/2;var q=m/2*.5522848,h=r/2*.5522848,p=f+m,k=l+r;m=f+m/2;r=l+r/2;c.moveTo(f,r);c.bezierCurveTo(f,
r-h,m-q,l,m,l);c.bezierCurveTo(m+q,l,p,r-h,p,r);c.bezierCurveTo(p,r+h,m+q,k,m,k);c.bezierCurveTo(m-q,k,f,r+h,f,r);c.closePath()}else f.type===g.SHAPES.RREC&&(f=l.x,r=l.y,q=l.width,h=l.height,l=l.radius,p=Math.min(q,h)/2|0,l=l>p?p:l,c.moveTo(f,r+l),c.lineTo(f,r+h-l),c.quadraticCurveTo(f,r+h,f+l,r+h),c.lineTo(f+q-l,r+h),c.quadraticCurveTo(f+q,r+h,f+q,r+h-l),c.lineTo(f+q,r+l),c.quadraticCurveTo(f+q,r,f+q-l,r),c.lineTo(f+l,r),c.quadraticCurveTo(f,r,f,r+l),c.closePath())}}};c.prototype.popMask=function(d){d.context.restore();
d.invalidateBlendMode()};c.prototype.destroy=function(){};return c}();h.default=c},{"../../../const":55}],88:[function(c,k,h){h.__esModule=!0;var g=function(){function d(d,b){for(var a=0;a<b.length;a++){var c=b[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(d,c.key,c)}}return function(c,b,a){b&&d(c.prototype,b);a&&d(c,a);return c}}(),p=(c=c("../../../settings"))&&c.__esModule?c:{default:c};c=function(){function d(c,b,a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");
this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=a||p.default.RESOLUTION;this.resize(c,b)}d.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};d.prototype.resize=function(d,b){this.canvas.width=d*this.resolution;this.canvas.height=b*this.resolution};d.prototype.destroy=function(){this.canvas=this.context=null};g(d,[{key:"width",get:function(){return this.canvas.width},
set:function(d){this.canvas.width=d}},{key:"height",get:function(){return this.canvas.height},set:function(d){this.canvas.height=d}}]);return d}();h.default=c},{"../../../settings":110}],89:[function(c,k,h){function g(c){var d=document.createElement("canvas");d.width=6;d.height=1;var e=d.getContext("2d");e.fillStyle=c;e.fillRect(0,0,6,1);return d}h.__esModule=!0;h.default=function(){if("undefined"===typeof document)return!1;var c=g("#ff00ff"),d=g("#ffff00"),e=document.createElement("canvas");e.width=
6;e.height=1;e=e.getContext("2d");e.globalCompositeOperation="multiply";e.drawImage(c,0,0);e.drawImage(d,2,0);c=e.getImageData(2,0,1,1);if(!c)return!1;c=c.data;return 255===c[0]&&0===c[1]&&0===c[2]}},{}],90:[function(c,k,h){h.__esModule=!0;h.default=function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(0,p.default)()?(d[g.BLEND_MODES.NORMAL]="source-over",d[g.BLEND_MODES.ADD]="lighter",d[g.BLEND_MODES.MULTIPLY]="multiply",d[g.BLEND_MODES.SCREEN]="screen",d[g.BLEND_MODES.OVERLAY]=
"overlay",d[g.BLEND_MODES.DARKEN]="darken",d[g.BLEND_MODES.LIGHTEN]="lighten",d[g.BLEND_MODES.COLOR_DODGE]="color-dodge",d[g.BLEND_MODES.COLOR_BURN]="color-burn",d[g.BLEND_MODES.HARD_LIGHT]="hard-light",d[g.BLEND_MODES.SOFT_LIGHT]="soft-light",d[g.BLEND_MODES.DIFFERENCE]="difference",d[g.BLEND_MODES.EXCLUSION]="exclusion",d[g.BLEND_MODES.HUE]="hue",d[g.BLEND_MODES.SATURATION]="saturate",d[g.BLEND_MODES.COLOR]="color",d[g.BLEND_MODES.LUMINOSITY]="luminosity"):(d[g.BLEND_MODES.NORMAL]="source-over",
d[g.BLEND_MODES.ADD]="lighter",d[g.BLEND_MODES.MULTIPLY]="source-over",d[g.BLEND_MODES.SCREEN]="source-over",d[g.BLEND_MODES.OVERLAY]="source-over",d[g.BLEND_MODES.DARKEN]="source-over",d[g.BLEND_MODES.LIGHTEN]="source-over",d[g.BLEND_MODES.COLOR_DODGE]="source-over",d[g.BLEND_MODES.COLOR_BURN]="source-over",d[g.BLEND_MODES.HARD_LIGHT]="source-over",d[g.BLEND_MODES.SOFT_LIGHT]="source-over",d[g.BLEND_MODES.DIFFERENCE]="source-over",d[g.BLEND_MODES.EXCLUSION]="source-over",d[g.BLEND_MODES.HUE]="source-over",
d[g.BLEND_MODES.SATURATION]="source-over",d[g.BLEND_MODES.COLOR]="source-over",d[g.BLEND_MODES.LUMINOSITY]="source-over");d[g.BLEND_MODES.NORMAL_NPM]=d[g.BLEND_MODES.NORMAL];d[g.BLEND_MODES.ADD_NPM]=d[g.BLEND_MODES.ADD];d[g.BLEND_MODES.SCREEN_NPM]=d[g.BLEND_MODES.SCREEN];return d};var g=c("../../../const"),p=(c=c("./canUseNewCanvasBlendModes"))&&c.__esModule?c:{default:c}},{"../../../const":55,"./canUseNewCanvasBlendModes":89}],91:[function(c,k,h){h.__esModule=!0;var g=c("../../const"),p=(c=c("../../settings"))&&
c.__esModule?c:{default:c};c=function(){function d(c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.renderer=c;this.checkCount=this.count=0;this.maxIdle=p.default.GC_MAX_IDLE;this.checkCountMax=p.default.GC_MAX_CHECK_COUNT;this.mode=p.default.GC_MODE}d.prototype.update=function(){this.count++;this.mode!==g.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))};d.prototype.run=function(){for(var d=this.renderer.textureManager,
b=d._managedTextures,a=!1,c=0;c<b.length;c++){var l=b[c];!l._glRenderTargets&&this.count-l.touched>this.maxIdle&&(d.destroyTexture(l,!0),b[c]=null,a=!0)}if(a){for(a=d=0;a<b.length;a++)null!==b[a]&&(b[d++]=b[a]);b.length=d}};d.prototype.unload=function(d){var b=this.renderer.textureManager;d._texture&&d._texture._glRenderTargets&&b.destroyTexture(d._texture,!0);for(b=d.children.length-1;0<=b;b--)this.unload(d.children[b])};return d}();h.default=c},{"../../const":55,"../../settings":110}],92:[function(c,
k,h){h.__esModule=!0;var g=c("pixi-gl-core"),p=c("../../const"),d=(k=c("./utils/RenderTarget"))&&k.__esModule?k:{default:k},e=c("../../utils");c=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=a;this.gl=a.gl;this._managedTextures=[]}b.prototype.bindTexture=function(){};b.prototype.getTexture=function(){};b.prototype.updateTexture=function(a,b){var c=this.gl,f=!!a._glRenderTargets;if(!a.hasLoaded)return null;var e=this.renderer.boundTextures;
if(void 0===b)for(var q=b=0;q<e.length;++q)if(e[q]===a){b=q;break}e[b]=a;c.activeTexture(c.TEXTURE0+b);(c=a._glTextures[this.renderer.CONTEXT_UID])?f?a._glRenderTargets[this.renderer.CONTEXT_UID].resize(a.width,a.height):c.upload(a.source):(f?(b=new d.default(this.gl,a.width,a.height,a.scaleMode,a.resolution),b.resize(a.width,a.height),a._glRenderTargets[this.renderer.CONTEXT_UID]=b,c=b.texture):(c=new g.GLTexture(this.gl,null,null,null,null),c.bind(b),c.premultiplyAlpha=!0,c.upload(a.source)),a._glTextures[this.renderer.CONTEXT_UID]=
c,a.on("update",this.updateTexture,this),a.on("dispose",this.destroyTexture,this),this._managedTextures.push(a),a.isPowerOfTwo?(a.mipmap&&c.enableMipmap(),a.wrapMode===p.WRAP_MODES.CLAMP?c.enableWrapClamp():a.wrapMode===p.WRAP_MODES.REPEAT?c.enableWrapRepeat():c.enableWrapMirrorRepeat()):c.enableWrapClamp(),a.scaleMode===p.SCALE_MODES.NEAREST?c.enableNearestScaling():c.enableLinearScaling());return c};b.prototype.destroyTexture=function(a,b){a=a.baseTexture||a;if(a.hasLoaded){var d=this.renderer.CONTEXT_UID,
c=a._glTextures,f=a._glRenderTargets;c[d]&&(this.renderer.unbindTexture(a),c[d].destroy(),a.off("update",this.updateTexture,this),a.off("dispose",this.destroyTexture,this),delete c[d],b||(a=this._managedTextures.indexOf(a),-1!==a&&(0,e.removeItems)(this._managedTextures,a,1)));f&&f[d]&&(f[d].destroy(),delete f[d])}};b.prototype.removeAll=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];b._glTextures[this.renderer.CONTEXT_UID]&&delete b._glTextures[this.renderer.CONTEXT_UID]}};
b.prototype.destroy=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];this.destroyTexture(b,!0);b.off("update",this.updateTexture,this);b.off("dispose",this.destroyTexture,this)}this._managedTextures=null};return b}();h.default=c},{"../../const":55,"../../utils":134,"./utils/RenderTarget":105,"pixi-gl-core":22}],93:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;k=c("../SystemRenderer");var d=g(k);k=c("./managers/MaskManager");var e=g(k);k=c("./managers/StencilManager");var b=g(k);k=c("./managers/FilterManager");var a=g(k);k=c("./utils/RenderTarget");var f=g(k);k=c("./utils/ObjectRenderer");var l=g(k);k=c("./TextureManager");var r=g(k);k=c("../../textures/BaseTexture");
var m=g(k);k=c("./TextureGarbageCollector");var q=g(k);k=c("./WebGLState");var y=g(k);k=c("./utils/mapWebGLDrawModesToPixi");var v=g(k);k=c("./utils/validateContext");var u=g(k);k=c("../../utils");var A=c("pixi-gl-core"),t=g(A),x=c("../../const"),z=0;c=function(c){function g(a,d,f){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");a=c.call(this,"WebGL",a,d,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==
typeof a&&"function"!==typeof a?this:a;a.legacy=a.options.legacy;a.legacy&&(t.default.VertexArrayObject.FORCE_NATIVE=!0);a.type=x.RENDERER_TYPE.WEBGL;a.handleContextLost=a.handleContextLost.bind(a);a.handleContextRestored=a.handleContextRestored.bind(a);a.view.addEventListener("webglcontextlost",a.handleContextLost,!1);a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1);a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==
a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference};a._backgroundColorRgba[3]=a.transparent?0:1;a.maskManager=new e.default(a);a.stencilManager=new b.default(a);a.emptyRenderer=new l.default(a);a.currentRenderer=a.emptyRenderer;a.textureManager=null;a.filterManager=null;a.initPlugins();a.options.context&&(0,u.default)(a.options.context);a.gl=a.options.context||t.default.createContext(a.view,a._contextOptions);a.CONTEXT_UID=z++;
a.state=new y.default(a.gl);a.renderingToScreen=!0;a.boundTextures=null;a._activeShader=null;a._activeVao=null;a._activeRenderTarget=null;a._initContext();a.drawModes=(0,v.default)(a.gl);a._nextTextureLocation=0;a.setBlendMode(0);return a}p(g,c);g.prototype._initContext=function(){var b=this.gl;b.isContextLost()&&b.getExtension("WEBGL_lose_context")&&b.getExtension("WEBGL_lose_context").restoreContext();var d=b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS);this._activeVao=this._activeShader=null;this.boundTextures=
Array(d);this.emptyTextures=Array(d);this.textureManager=new r.default(this);this.filterManager=new a.default(this);this.textureGC=new q.default(this);this.state.resetToDefault();this.rootRenderTarget=new f.default(b,this.width,this.height,null,this.resolution,!0);this.rootRenderTarget.clearColor=this._backgroundColorRgba;this.bindRenderTarget(this.rootRenderTarget);var c=new t.default.GLTexture.fromData(b,null,1,1),e={_glTextures:{}};e._glTextures[this.CONTEXT_UID]={};for(var l=0;l<d;l++){var g=
new m.default;g._glTextures[this.CONTEXT_UID]=c;this.boundTextures[l]=e;this.emptyTextures[l]=g;this.bindTexture(null,l)}this.emit("context",b);this.resize(this.screen.width,this.screen.height)};g.prototype.render=function(a,b,d,c,f){this.renderingToScreen=!b;this.emit("prerender");this.gl&&!this.gl.isContextLost()&&(this._nextTextureLocation=0,b||(this._lastObjectRendered=a),f||(f=a.parent,a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=f),this.bindRenderTexture(b,c),this.currentRenderer.start(),
(void 0!==d?d:this.clearBeforeRender)&&this._activeRenderTarget.clear(),a.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender"))};g.prototype.setObjectRenderer=function(a){this.currentRenderer!==a&&(this.currentRenderer.stop(),this.currentRenderer=a,this.currentRenderer.start())};g.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};g.prototype.resize=function(a,b){d.default.prototype.resize.call(this,a,b);this.rootRenderTarget.resize(a,
b);this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))};g.prototype.setBlendMode=function(a){this.state.setBlendMode(a)};g.prototype.clear=function(a){this._activeRenderTarget.clear(a)};g.prototype.setTransform=function(a){this._activeRenderTarget.transform=a};g.prototype.clearRenderTexture=function(a,b){(a=a.baseTexture._glRenderTargets[this.CONTEXT_UID])&&
a.clear(b);return this};g.prototype.bindRenderTexture=function(a,b){if(a){var d=a.baseTexture;d._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(d,0);this.unbindTexture(d);d=d._glRenderTargets[this.CONTEXT_UID];d.setFrame(a.frame)}else d=this.rootRenderTarget;d.transform=b;this.bindRenderTarget(d);return this};g.prototype.bindRenderTarget=function(a){a!==this._activeRenderTarget&&(this._activeRenderTarget=a,a.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=
a.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(a.stencilMaskStack));return this};g.prototype.bindShader=function(a,b){this._activeShader!==a&&(this._activeShader=a,a.bind(),!1!==b&&(a.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0)));return this};g.prototype.bindTexture=function(a,b,d){a=a||this.emptyTextures[b];a=a.baseTexture||a;a.touched=this.textureGC.count;if(d)b=b||0;else{for(d=0;d<this.boundTextures.length;d++)if(this.boundTextures[d]===a)return d;
void 0===b&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,b=this.boundTextures.length-this._nextTextureLocation-1)}d=this.gl;var c=a._glTextures[this.CONTEXT_UID];c?(this.boundTextures[b]=a,d.activeTexture(d.TEXTURE0+b),d.bindTexture(d.TEXTURE_2D,c.texture)):this.textureManager.updateTexture(a,b);return b};g.prototype.unbindTexture=function(a){var b=this.gl;a=a.baseTexture||a;for(var d=0;d<this.boundTextures.length;d++)this.boundTextures[d]===a&&(this.boundTextures[d]=
this.emptyTextures[d],b.activeTexture(b.TEXTURE0+d),b.bindTexture(b.TEXTURE_2D,this.emptyTextures[d]._glTextures[this.CONTEXT_UID].texture));return this};g.prototype.createVao=function(){return new t.default.VertexArrayObject(this.gl,this.state.attribState)};g.prototype.bindVao=function(a){if(this._activeVao===a)return this;a?a.bind():this._activeVao&&this._activeVao.unbind();this._activeVao=a;return this};g.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer);this.bindVao(null);
this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;for(var a=0;a<this.boundTextures.length;a++)this.boundTextures[a]=this.emptyTextures[a];this.rootRenderTarget.activate();this.state.resetToDefault();return this};g.prototype.handleContextLost=function(a){a.preventDefault()};g.prototype.handleContextRestored=function(){this.textureManager.removeAll();this.filterManager.destroy(!0);this._initContext()};g.prototype.destroy=function(a){this.destroyPlugins();this.view.removeEventListener("webglcontextlost",
this.handleContextLost);this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);this.textureManager.destroy();c.prototype.destroy.call(this,a);this.uid=0;this.maskManager.destroy();this.stencilManager.destroy();this.filterManager.destroy();this._contextOptions=this.handleContextRestored=this.handleContextLost=this.currentRenderer=this.textureManager=this.filterManager=this.maskManager=null;this.gl.useProgram(null);this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext();
this.gl=null};return g}(d.default);h.default=c;k.pluginTarget.mixin(c)},{"../../const":55,"../../textures/BaseTexture":121,"../../utils":134,"../SystemRenderer":85,"./TextureGarbageCollector":91,"./TextureManager":92,"./WebGLState":94,"./managers/FilterManager":99,"./managers/MaskManager":100,"./managers/StencilManager":101,"./utils/ObjectRenderer":103,"./utils/RenderTarget":105,"./utils/mapWebGLDrawModesToPixi":108,"./utils/validateContext":109,"pixi-gl-core":22}],94:[function(c,k,h){h.__esModule=
!0;var g=(c=c("./utils/mapWebGLBlendModesToPixi"))&&c.__esModule?c:{default:c};c=function(){function c(d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.activeState=new Uint8Array(16);this.defaultState=new Uint8Array(16);this.defaultState[0]=1;this.stackIndex=0;this.stack=[];this.gl=d;this.maxAttribs=d.getParameter(d.MAX_VERTEX_ATTRIBS);this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)};this.blendModes=(0,g.default)(d);
this.nativeVaoExtension=d.getExtension("OES_vertex_array_object")||d.getExtension("MOZ_OES_vertex_array_object")||d.getExtension("WEBKIT_OES_vertex_array_object")}c.prototype.push=function(){var d=this.stack[this.stackIndex];d||(d=this.stack[this.stackIndex]=new Uint8Array(16));++this.stackIndex;for(var c=0;c<this.activeState.length;c++)d[c]=this.activeState[c]};c.prototype.pop=function(){var d=this.stack[--this.stackIndex];this.setState(d)};c.prototype.setState=function(d){this.setBlend(d[0]);this.setDepthTest(d[1]);
this.setFrontFace(d[2]);this.setCullFace(d[3]);this.setBlendMode(d[4])};c.prototype.setBlend=function(d){d=d?1:0;this.activeState[0]!==d&&(this.activeState[0]=d,this.gl[d?"enable":"disable"](this.gl.BLEND))};c.prototype.setBlendMode=function(d){d!==this.activeState[4]&&(this.activeState[4]=d,d=this.blendModes[d],2===d.length?this.gl.blendFunc(d[0],d[1]):this.gl.blendFuncSeparate(d[0],d[1],d[2],d[3]))};c.prototype.setDepthTest=function(d){d=d?1:0;this.activeState[1]!==d&&(this.activeState[1]=d,this.gl[d?
"enable":"disable"](this.gl.DEPTH_TEST))};c.prototype.setCullFace=function(d){d=d?1:0;this.activeState[3]!==d&&(this.activeState[3]=d,this.gl[d?"enable":"disable"](this.gl.CULL_FACE))};c.prototype.setFrontFace=function(d){d=d?1:0;this.activeState[2]!==d&&(this.activeState[2]=d,this.gl.frontFace(this.gl[d?"CW":"CCW"]))};c.prototype.resetAttributes=function(){for(var d=0;d<this.attribState.tempAttribState.length;d++)this.attribState.tempAttribState[d]=0;for(d=0;d<this.attribState.attribState.length;d++)this.attribState.attribState[d]=
0;for(d=1;d<this.maxAttribs;d++)this.gl.disableVertexAttribArray(d)};c.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null);this.resetAttributes();for(var d=0;d<this.activeState.length;++d)this.activeState[d]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1);this.setState(this.defaultState)};return c}();h.default=c},{"./utils/mapWebGLBlendModesToPixi":107}],95:[function(c,k,h){h.__esModule=!0;var g=function(){function a(a,b){for(var d=
0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),p=(k=c("./extractUniformsFromSrc"))&&k.__esModule?k:{default:k},d=c("../../../utils"),e=c("../../../const"),b=(c=c("../../../settings"))&&c.__esModule?c:{default:c},a={};c=function(){function c(f,g,m){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.vertexSrc=
f||c.defaultVertexSrc;this.fragmentSrc=g||c.defaultFragmentSrc;this._blendMode=e.BLEND_MODES.NORMAL;this.uniformData=m||(0,p.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler");this.uniforms={};for(var l in this.uniformData)this.uniforms[l]=this.uniformData[l].value,this.uniformData[l].type&&(this.uniformData[l].type=this.uniformData[l].type.toLowerCase());this.glShaders={};a[this.vertexSrc+this.fragmentSrc]||(a[this.vertexSrc+this.fragmentSrc]=(0,d.uid)());this.glShaderKey=a[this.vertexSrc+
this.fragmentSrc];this.padding=4;this.resolution=b.default.FILTER_RESOLUTION;this.autoFit=this.enabled=!0}c.prototype.apply=function(a,b,d,c,f){a.applyFilter(this,b,d,c)};g(c,[{key:"blendMode",get:function(){return this._blendMode},set:function(a){this._blendMode=a}}],[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}"}},
{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}"}}]);
return c}();h.default=c},{"../../../const":55,"../../../settings":110,"../../../utils":134,"./extractUniformsFromSrc":96}],96:[function(c,k,h){function g(d){var c=/^(projectionMatrix|uSampler|filterArea|filterClamp)$/,b={};d=d.replace(/\s+/g," ").split(/\s*;\s*/);for(var a=0;a<d.length;a++){var f=d[a].trim();if(-1<f.indexOf("uniform")){var l=f.split(" ");f=l[1];var g=l[2],m=1;-1<g.indexOf("[")&&(l=g.split(/\[|]/),g=l[0],m*=Number(l[1]));g.match(c)||(b[g]={value:p(f,m),name:g,type:f})}}return b}h.__esModule=
!0;h.default=function(d,c,b){d=g(d,b);c=g(c,b);return Object.assign(d,c)};c=c("pixi-gl-core");var p=(c&&c.__esModule?c:{default:c}).default.shader.defaultValue},{"pixi-gl-core":22}],97:[function(c,k,h){h.__esModule=!0;h.calculateScreenSpaceMatrix=function(c,d,e){c=c.identity();c.translate(d.x/e.width,d.y/e.height);c.scale(e.width,e.height);return c};h.calculateNormalizedScreenSpaceMatrix=function(c,d,e){c=c.identity();c.translate(d.x/e.width,d.y/e.height);c.scale(e.width/d.width,e.height/d.height);
return c};h.calculateSpriteMatrix=function(c,d,e,b){var a=b._texture.orig;c=c.set(e.width,0,0,e.height,d.x,d.y);d=b.worldTransform.copy(g.Matrix.TEMP_MATRIX);d.invert();c.prepend(d);c.scale(1/a.width,1/a.height);c.translate(b.anchor.x,b.anchor.y);return c};var g=c("../../../math")},{"../../../math":79}],98:[function(c,k,h){function g(d,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,
{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}h.__esModule=!0;k=(k=c("../Filter"))&&k.__esModule?k:{default:k};var p=c("../../../../math");c("path");var d=(c=c("../../../../textures/TextureMatrix"))&&c.__esModule?c:{default:c};c=function(c){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d=new p.Matrix;var e=c.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",
"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;a.renderable=!1;e.maskSprite=a;e.maskMatrix=d;return e}g(b,c);b.prototype.apply=function(a,b,c){var f=this.maskSprite,e=this.maskSprite.texture;e.valid&&(e.transform||(e.transform=new d.default(e,0)),e.transform.update(),this.uniforms.mask=e,this.uniforms.otherMatrix=a.calculateSpriteMatrix(this.maskMatrix,f).prepend(e.transform.mapCoord),this.uniforms.alpha=
f.worldAlpha,this.uniforms.maskClamp=e.transform.uClampFrame,a.applyFilter(this,b,c))};return b}(k.default);h.default=c},{"../../../../math":79,"../../../../textures/TextureMatrix":125,"../Filter":95,path:1}],99:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}h.__esModule=!0;k=c("./WebGLManager");k=g(k);var e=c("../utils/RenderTarget"),b=g(e);e=c("../utils/Quad");var a=g(e),f=c("../../../math");e=c("../../../Shader");var l=g(e),r=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}(c("../filters/filterTransforms"));
c=c("bit-twiddle");var m=g(c),q=function(){function a(){d(this,a);this.target=this.renderTarget=null;this.resolution=1;this.sourceFrame=new f.Rectangle;this.destinationFrame=new f.Rectangle;this.filters=[]}a.prototype.clear=function(){this.renderTarget=this.target=this.filters=null};return a}();c=function(c){function f(b){d(this,f);var e=c.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:
e;e.gl=e.renderer.gl;e.quad=new a.default(e.gl,b.state.attribState);e.shaderCache={};e.pool={};e.filterData=null;e.managedFilters=[];e.renderer.on("prerender",e.onPrerender,e);e._screenWidth=b.view.width;e._screenHeight=b.view.height;return e}p(f,c);f.prototype.pushFilter=function(a,b){var d=this.renderer,c=this.filterData;if(!c){var f=new q;f.sourceFrame=f.destinationFrame=this.renderer._activeRenderTarget.size;f.renderTarget=d._activeRenderTarget;this.filterData=this.renderer._activeRenderTarget.filterData=
c={index:0,stack:[f]}}f=c.stack[++c.index];var e=c.stack[0].destinationFrame;f||(f=c.stack[c.index]=new q);var l=a.filterArea&&0===a.filterArea.x&&0===a.filterArea.y&&a.filterArea.width===d.screen.width&&a.filterArea.height===d.screen.height,m=b[0].resolution,g=b[0].padding|0,r=l?d.screen:a.filterArea||a.getBounds(!0),h=f.sourceFrame,p=f.destinationFrame;h.x=(r.x*m|0)/m;h.y=(r.y*m|0)/m;h.width=(r.width*m|0)/m;h.height=(r.height*m|0)/m;l||(c.stack[0].renderTarget.transform||b[0].autoFit&&h.fit(e),
h.pad(g));p.width=h.width;p.height=h.height;c=this.getPotRenderTarget(d.gl,h.width,h.height,m);f.target=a;f.filters=b;f.resolution=m;f.renderTarget=c;c.setFrame(p,h);d.bindRenderTarget(c);c.clear()};f.prototype.popFilter=function(){var a=this.filterData,b=a.stack[a.index-1],d=a.stack[a.index];this.quad.map(d.renderTarget.size,d.sourceFrame).upload();var c=d.filters;if(1===c.length)c[0].apply(this,d.renderTarget,b.renderTarget,!1,d),this.freePotRenderTarget(d.renderTarget);else{var f=d.renderTarget,
e=this.getPotRenderTarget(this.renderer.gl,d.sourceFrame.width,d.sourceFrame.height,d.resolution);e.setFrame(d.destinationFrame,d.sourceFrame);e.clear();var l;for(l=0;l<c.length-1;++l){c[l].apply(this,f,e,!0,d);var m=f;f=e;e=m}c[l].apply(this,f,b.renderTarget,!1,d);this.freePotRenderTarget(f);this.freePotRenderTarget(e)}d.clear();a.index--;0===a.index&&(this.filterData=null)};f.prototype.applyFilter=function(a,b,d,c){var f=this.renderer,e=f.gl,m=a.glShaders[f.CONTEXT_UID];m||(a.glShaderKey?(m=this.shaderCache[a.glShaderKey],
m||(m=new l.default(this.gl,a.vertexSrc,a.fragmentSrc),a.glShaders[f.CONTEXT_UID]=this.shaderCache[a.glShaderKey]=m,this.managedFilters.push(a))):(m=a.glShaders[f.CONTEXT_UID]=new l.default(this.gl,a.vertexSrc,a.fragmentSrc),this.managedFilters.push(a)),f.bindVao(null),this.quad.initVao(m));f.bindVao(this.quad.vao);f.bindRenderTarget(d);c&&(e.disable(e.SCISSOR_TEST),f.clear(),e.enable(e.SCISSOR_TEST));d===f.maskManager.scissorRenderTarget&&f.maskManager.pushScissorMask(null,f.maskManager.scissorData);
f.bindShader(m);d=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=d;this.syncUniforms(m,a);f.state.setBlendMode(a.blendMode);e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,b.texture.texture);this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0);e.bindTexture(e.TEXTURE_2D,d._glTextures[this.renderer.CONTEXT_UID].texture)};f.prototype.syncUniforms=function(a,b){var d=b.uniformData;b=b.uniforms;var c=1,f=void 0;if(a.uniforms.filterArea){f=this.filterData.stack[this.filterData.index];
var e=a.uniforms.filterArea;e[0]=f.renderTarget.size.width;e[1]=f.renderTarget.size.height;e[2]=f.sourceFrame.x;e[3]=f.sourceFrame.y;a.uniforms.filterArea=e}a.uniforms.filterClamp&&(f=f||this.filterData.stack[this.filterData.index],e=a.uniforms.filterClamp,e[0]=0,e[1]=0,e[2]=(f.sourceFrame.width-1)/f.renderTarget.size.width,e[3]=(f.sourceFrame.height-1)/f.renderTarget.size.height,a.uniforms.filterClamp=e);for(var l in d)f=d[l].type,"sampler2d"===f&&0!==b[l]?(b[l].baseTexture?a.uniforms[l]=this.renderer.bindTexture(b[l].baseTexture,
c):(a.uniforms[l]=c,f=this.renderer.gl,this.renderer.boundTextures[c]=this.renderer.emptyTextures[c],f.activeTexture(f.TEXTURE0+c),b[l].texture.bind()),c++):"mat3"===f?a.uniforms[l]=void 0!==b[l].a?b[l].toArray(!0):b[l]:"vec2"===f?void 0!==b[l].x?(f=a.uniforms[l]||new Float32Array(2),f[0]=b[l].x,f[1]=b[l].y,a.uniforms[l]=f):a.uniforms[l]=b[l]:"float"===f?a.uniforms.data[l].value!==d[l]&&(a.uniforms[l]=b[l]):a.uniforms[l]=b[l]};f.prototype.getRenderTarget=function(a,b){a=this.filterData.stack[this.filterData.index];
b=this.getPotRenderTarget(this.renderer.gl,a.sourceFrame.width,a.sourceFrame.height,b||a.resolution);b.setFrame(a.destinationFrame,a.sourceFrame);return b};f.prototype.returnRenderTarget=function(a){this.freePotRenderTarget(a)};f.prototype.calculateScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];return r.calculateScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size)};f.prototype.calculateNormalizedScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];
return r.calculateNormalizedScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size,b.destinationFrame)};f.prototype.calculateSpriteMatrix=function(a,b){var d=this.filterData.stack[this.filterData.index];return r.calculateSpriteMatrix(a,d.sourceFrame,d.renderTarget.size,b)};f.prototype.destroy=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=this.renderer,d=this.managedFilters;b.off("prerender",this.onPrerender,this);for(var c=0;c<d.length;c++)a||d[c].glShaders[b.CONTEXT_UID].destroy(),
delete d[c].glShaders[b.CONTEXT_UID];this.shaderCache={};a?this.pool={}:this.emptyPool()};f.prototype.getPotRenderTarget=function(a,d,c,f){var e="screen";d*=f;c*=f;if(d!==this._screenWidth||c!==this._screenHeight)d=m.default.nextPow2(d),c=m.default.nextPow2(c),e=(d&65535)<<16|c&65535;this.pool[e]||(this.pool[e]=[]);var l=this.pool[e].pop();if(!l){var q=this.renderer.boundTextures[0];a.activeTexture(a.TEXTURE0);l=new b.default(a,d,c,null,1);a.bindTexture(a.TEXTURE_2D,q._glTextures[this.renderer.CONTEXT_UID].texture)}l.resolution=
f;l.defaultFrame.width=l.size.width=d/f;l.defaultFrame.height=l.size.height=c/f;l.filterPoolKey=e;return l};f.prototype.emptyPool=function(){for(var a in this.pool){var b=this.pool[a];if(b)for(var d=0;d<b.length;d++)b[d].destroy(!0)}this.pool={}};f.prototype.freePotRenderTarget=function(a){this.pool[a.filterPoolKey].push(a)};f.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width;
this._screenHeight=this.renderer.view.height;var a=this.pool.screen;if(a)for(var b=0;b<a.length;b++)a[b].destroy(!0);this.pool.screen=[]}};return f}(k.default);h.default=c},{"../../../Shader":53,"../../../math":79,"../filters/filterTransforms":97,"../utils/Quad":104,"../utils/RenderTarget":105,"./WebGLManager":102,"bit-twiddle":9}],100:[function(c,k,h){function g(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=
Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}h.__esModule=!0;k=(k=c("./WebGLManager"))&&k.__esModule?k:{default:k};var p=(c=c("../filters/spriteMask/SpriteMaskFilter"))&&c.__esModule?c:{default:c};c=function(d){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b=d.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.scissor=!1;b.scissorData=null;b.scissorRenderTarget=null;b.enableScissor=!0;b.alphaMaskPool=[];b.alphaMaskIndex=0;return b}g(c,d);c.prototype.pushMask=function(b,a){if(a.texture)this.pushSpriteMask(b,a);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&a.isFastRect()){var d=a.worldTransform;d=Math.atan2(d.b,d.a);d=Math.round(180/Math.PI*d);d%90?this.pushStencilMask(a):
this.pushScissorMask(b,a)}else this.pushStencilMask(a)};c.prototype.popMask=function(b,a){a.texture?this.popSpriteMask(b,a):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(b,a):this.popStencilMask(b,a)};c.prototype.pushSpriteMask=function(b,a){var d=this.alphaMaskPool[this.alphaMaskIndex];d||(d=this.alphaMaskPool[this.alphaMaskIndex]=[new p.default(a)]);d[0].resolution=this.renderer.resolution;d[0].maskSprite=a;b.filterArea=a.getBounds(!0);this.renderer.filterManager.pushFilter(b,
d);this.alphaMaskIndex++};c.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter();this.alphaMaskIndex--};c.prototype.pushStencilMask=function(b){this.renderer.currentRenderer.stop();this.renderer.stencilManager.pushStencil(b)};c.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop();this.renderer.stencilManager.popStencil()};c.prototype.pushScissorMask=function(b,a){a.renderable=!0;b=this.renderer._activeRenderTarget;var d=a.getBounds();d.fit(b.size);a.renderable=
!1;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var c=this.renderer.resolution;this.renderer.gl.scissor(d.x*c,(b.root?b.size.height-d.y-d.height:d.y)*c,d.width*c,d.height*c);this.scissorRenderTarget=b;this.scissorData=a;this.scissor=!0};c.prototype.popScissorMask=function(){this.scissorData=this.scissorRenderTarget=null;this.scissor=!1;var b=this.renderer.gl;b.disable(b.SCISSOR_TEST)};return c}(k.default);h.default=c},{"../filters/spriteMask/SpriteMaskFilter":98,"./WebGLManager":102}],101:[function(c,
k,h){function g(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}h.__esModule=!0;var p=(c=c("./WebGLManager"))&&c.__esModule?c:{default:c};c=function(d){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
b=d.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.stencilMaskStack=null;return b}g(c,d);c.prototype.setMaskStack=function(b){this.stencilMaskStack=b;var a=this.renderer.gl;0===b.length?a.disable(a.STENCIL_TEST):a.enable(a.STENCIL_TEST)};c.prototype.pushStencil=function(b){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();
var a=this.renderer.gl,d=this.stencilMaskStack.length;0===d&&a.enable(a.STENCIL_TEST);this.stencilMaskStack.push(b);a.colorMask(!1,!1,!1,!1);a.stencilFunc(a.EQUAL,d,this._getBitwiseMask());a.stencilOp(a.KEEP,a.KEEP,a.INCR);this.renderer.plugins.graphics.render(b);this._useCurrent()};c.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var b=this.renderer.gl,a=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(b.disable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),
b.clearStencil(0)):(b.colorMask(!1,!1,!1,!1),b.stencilOp(b.KEEP,b.KEEP,b.DECR),this.renderer.plugins.graphics.render(a),this._useCurrent())};c.prototype._useCurrent=function(){var b=this.renderer.gl;b.colorMask(!0,!0,!0,!0);b.stencilFunc(b.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask());b.stencilOp(b.KEEP,b.KEEP,b.KEEP)};c.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1};c.prototype.destroy=function(){p.default.prototype.destroy.call(this);this.stencilMaskStack.stencilStack=
null};return c}(p.default);h.default=c},{"./WebGLManager":102}],102:[function(c,k,h){h.__esModule=!0;c=function(){function c(g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.renderer=g;this.renderer.on("context",this.onContextChange,this)}c.prototype.onContextChange=function(){};c.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this);this.renderer=null};return c}();h.default=c},{}],103:[function(c,k,h){function g(c,d){if("function"!==
typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}h.__esModule=!0;c=c("../managers/WebGLManager");c=function(c){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var e=c.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!e||"object"!==typeof e&&"function"!==typeof e?this:e}g(d,c);d.prototype.start=function(){};d.prototype.stop=function(){this.flush()};d.prototype.flush=function(){};d.prototype.render=function(d){};return d}((c&&c.__esModule?c:{default:c}).default);h.default=c},{"../managers/WebGLManager":102}],104:[function(c,k,h){h.__esModule=!0;var g=(k=c("pixi-gl-core"))&&k.__esModule?k:{default:k},p=(c=c("../../../utils/createIndicesForQuads"))&&c.__esModule?c:{default:c};c=function(){function d(c,b){if(!(this instanceof
d))throw new TypeError("Cannot call a class as a function");this.gl=c;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=new Float32Array(16);for(var a=0;4>a;a++)this.interleaved[4*a]=this.vertices[2*a],this.interleaved[4*a+1]=this.vertices[2*a+1],this.interleaved[4*a+2]=this.uvs[2*a],this.interleaved[4*a+3]=this.uvs[2*a+1];this.indices=(0,p.default)(1);this.vertexBuffer=g.default.GLBuffer.createVertexBuffer(c,this.interleaved,c.STATIC_DRAW);
this.indexBuffer=g.default.GLBuffer.createIndexBuffer(c,this.indices,c.STATIC_DRAW);this.vao=new g.default.VertexArrayObject(c,b)}d.prototype.initVao=function(d){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,d.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,d.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)};d.prototype.map=function(d,b){var a=0,c=0;this.uvs[0]=a;this.uvs[1]=c;this.uvs[2]=a+b.width/d.width;this.uvs[3]=c;this.uvs[4]=a+b.width/
d.width;this.uvs[5]=c+b.height/d.height;this.uvs[6]=a;this.uvs[7]=c+b.height/d.height;a=b.x;c=b.y;this.vertices[0]=a;this.vertices[1]=c;this.vertices[2]=a+b.width;this.vertices[3]=c;this.vertices[4]=a+b.width;this.vertices[5]=c+b.height;this.vertices[6]=a;this.vertices[7]=c+b.height;return this};d.prototype.upload=function(){for(var d=0;4>d;d++)this.interleaved[4*d]=this.vertices[2*d],this.interleaved[4*d+1]=this.vertices[2*d+1],this.interleaved[4*d+2]=this.uvs[2*d],this.interleaved[4*d+3]=this.uvs[2*
d+1];this.vertexBuffer.upload(this.interleaved);return this};d.prototype.destroy=function(){var d=this.gl;d.deleteBuffer(this.vertexBuffer);d.deleteBuffer(this.indexBuffer)};return d}();h.default=c},{"../../../utils/createIndicesForQuads":132,"pixi-gl-core":22}],105:[function(c,k,h){h.__esModule=!0;var g=c("../../../math"),p=c("../../../const"),d=(k=c("../../../settings"))&&k.__esModule?k:{default:k},e=c("pixi-gl-core");c=function(){function b(a,c,l,r,m,q){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.gl=a;this.texture=this.frameBuffer=null;this.clearColor=[0,0,0,0];this.size=new g.Rectangle(0,0,1,1);this.resolution=m||d.default.RESOLUTION;this.projectionMatrix=new g.Matrix;this.frame=this.transform=null;this.defaultFrame=new g.Rectangle;this.stencilBuffer=this.sourceFrame=this.destinationFrame=null;this.stencilMaskStack=[];this.filterData=null;this.filterPoolKey="";this.scaleMode=void 0!==r?r:d.default.SCALE_MODE;(this.root=q)?(this.frameBuffer=new e.GLFramebuffer(a,100,100),this.frameBuffer.framebuffer=
null):(this.frameBuffer=e.GLFramebuffer.createRGBA(a,100,100),this.scaleMode===p.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture);this.setFrame();this.resize(c,l)}b.prototype.clear=function(a){a=a||this.clearColor;this.frameBuffer.clear(a[0],a[1],a[2],a[3])};b.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()};b.prototype.setFrame=function(a,b){this.destinationFrame=
a||this.destinationFrame||this.defaultFrame;this.sourceFrame=b||this.sourceFrame||this.destinationFrame};b.prototype.activate=function(){var a=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,this.sourceFrame);this.transform&&this.projectionMatrix.append(this.transform);this.destinationFrame!==this.sourceFrame?(a.enable(a.SCISSOR_TEST),a.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*
this.resolution|0)):a.disable(a.SCISSOR_TEST);a.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)};b.prototype.calculateProjection=function(a,b){var d=this.projectionMatrix;b=b||a;d.identity();this.root?(d.a=1/a.width*2,d.d=-1/a.height*2,d.tx=-1-b.x*d.a,d.ty=1-b.y*d.d):(d.a=1/a.width*2,d.d=1/a.height*2,d.tx=-1-b.x*d.a,d.ty=-1-b.y*d.d)};b.prototype.resize=function(a,b){a|=0;b|=0;if(this.size.width!==
a||this.size.height!==b)this.size.width=a,this.size.height=b,this.defaultFrame.width=a,this.defaultFrame.height=b,this.frameBuffer.resize(a*this.resolution,b*this.resolution),this.calculateProjection(this.frame||this.size)};b.prototype.destroy=function(){this.frameBuffer.destroy();this.texture=this.frameBuffer=null};return b}();h.default=c},{"../../../const":55,"../../../math":79,"../../../settings":110,"pixi-gl-core":22}],106:[function(c,k,h){function g(d){for(var b="",a=0;a<d;++a)0<a&&(b+="\nelse "),
a<d-1&&(b+="if(test == "+a+".0){}");return b}h.__esModule=!0;h.default=function(c,b){var a=!b;if(0===c)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");a&&(b=document.createElement("canvas"),b.width=1,b.height=1,b=p.default.createContext(b));for(var f=b.createShader(b.FRAGMENT_SHADER);;){var e=d.replace(/%forloop%/gi,g(c));b.shaderSource(f,e);b.compileShader(f);if(b.getShaderParameter(f,b.COMPILE_STATUS))break;else c=c/2|0}a&&b.getExtension("WEBGL_lose_context")&&b.getExtension("WEBGL_lose_context").loseContext();
return c};var p=(c=c("pixi-gl-core"))&&c.__esModule?c:{default:c},d="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}"},{"pixi-gl-core":22}],107:[function(c,k,h){h.__esModule=!0;h.default=function(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];d[g.BLEND_MODES.NORMAL]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.ADD]=[c.ONE,c.DST_ALPHA];d[g.BLEND_MODES.MULTIPLY]=[c.DST_COLOR,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.SCREEN]=[c.ONE,
c.ONE_MINUS_SRC_COLOR];d[g.BLEND_MODES.OVERLAY]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.DARKEN]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.LIGHTEN]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.COLOR_DODGE]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.COLOR_BURN]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.HARD_LIGHT]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.SOFT_LIGHT]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.DIFFERENCE]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.EXCLUSION]=
[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.HUE]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.SATURATION]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.COLOR]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.LUMINOSITY]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.NORMAL_NPM]=[c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA];d[g.BLEND_MODES.ADD_NPM]=[c.SRC_ALPHA,c.DST_ALPHA,c.ONE,c.DST_ALPHA];d[g.BLEND_MODES.SCREEN_NPM]=[c.SRC_ALPHA,c.ONE_MINUS_SRC_COLOR,c.ONE,c.ONE_MINUS_SRC_COLOR];
return d};var g=c("../../../const")},{"../../../const":55}],108:[function(c,k,h){h.__esModule=!0;h.default=function(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d[g.DRAW_MODES.POINTS]=c.POINTS;d[g.DRAW_MODES.LINES]=c.LINES;d[g.DRAW_MODES.LINE_LOOP]=c.LINE_LOOP;d[g.DRAW_MODES.LINE_STRIP]=c.LINE_STRIP;d[g.DRAW_MODES.TRIANGLES]=c.TRIANGLES;d[g.DRAW_MODES.TRIANGLE_STRIP]=c.TRIANGLE_STRIP;d[g.DRAW_MODES.TRIANGLE_FAN]=c.TRIANGLE_FAN;return d};var g=c("../../../const")},{"../../../const":55}],
109:[function(c,k,h){h.__esModule=!0;h.default=function(c){c.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],110:[function(c,k,h){h.__esModule=!0;k=(k=c("./utils/maxRecommendedTextures"))&&k.__esModule?k:{default:k};c=(c=c("./utils/canUploadSameBuffer"))&&c.__esModule?c:{default:c};h.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,k.default)(32),SPRITE_BATCH_SIZE:4096,
RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,c.default)(),MESH_CANVAS_PADDING:0}},{"./utils/canUploadSameBuffer":131,"./utils/maxRecommendedTextures":136}],
111:[function(c,k,h){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var p=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);
Object.defineProperty(a,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),d=c("../math"),e=c("../utils"),b=c("../const"),a=(k=c("../textures/Texture"))&&k.__esModule?k:{default:k};c=(c=c("../display/Container"))&&c.__esModule?c:{default:c};var f=new d.Point;c=function(c){function l(f){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var e=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e._anchor=new d.ObservablePoint(e._onAnchorUpdate,e);e._texture=null;e._width=0;e._height=0;e._tint=null;e._tintRGB=null;e.tint=16777215;e.blendMode=b.BLEND_MODES.NORMAL;e.shader=null;e.cachedTint=16777215;e.texture=f||a.default.EMPTY;e.vertexData=new Float32Array(8);e.vertexTrimmedData=null;e._transformID=-1;e._textureID=-1;e._transformTrimmedID=-1;e._textureTrimmedID=-1;e.pluginName="sprite";return e}g(l,c);l.prototype._onTextureUpdate=function(){this._textureTrimmedID=
this._textureID=-1;this.cachedTint=16777215;this._width&&(this.scale.x=(0,e.sign)(this.scale.x)*this._width/this._texture.orig.width);this._height&&(this.scale.y=(0,e.sign)(this.scale.y)*this._height/this._texture.orig.height)};l.prototype._onAnchorUpdate=function(){this._transformTrimmedID=this._transformID=-1};l.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID;this._textureID=
this._texture._updateID;var a=this._texture,b=this.transform.worldTransform,d=b.a,c=b.b,f=b.c,e=b.d,l=b.tx;b=b.ty;var g=this.vertexData,r=a.trim,h=a.orig,p=this._anchor;if(r){var k=r.x-p._x*h.width;a=k+r.width;p=r.y-p._y*h.height;r=p+r.height}else k=-p._x*h.width,a=k+h.width,p=-p._y*h.height,r=p+h.height;g[0]=d*k+f*p+l;g[1]=e*p+c*k+b;g[2]=d*a+f*p+l;g[3]=e*p+c*a+b;g[4]=d*a+f*r+l;g[5]=e*r+c*a+b;g[6]=d*k+f*r+l;g[7]=e*r+c*k+b}};l.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=
new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var a=this.vertexTrimmedData,b=this._texture.orig,d=this._anchor,c=this.transform.worldTransform,f=c.a,e=c.b,l=c.c,g=c.d,r=c.tx;c=c.ty;var h=-d._x*b.width,p=h+b.width;d=-d._y*b.height;b=d+b.height;a[0]=f*h+l*d+r;a[1]=g*d+e*h+c;a[2]=f*p+l*d+r;a[3]=g*d+e*p+c;a[4]=f*p+l*b+
r;a[5]=g*b+e*p+c;a[6]=f*h+l*b+r;a[7]=g*b+e*h+c};l.prototype._renderWebGL=function(a){this.calculateVertices();a.setObjectRenderer(a.plugins[this.pluginName]);a.plugins[this.pluginName].render(this)};l.prototype._renderCanvas=function(a){a.plugins[this.pluginName].render(this)};l.prototype._calculateBounds=function(){var a=this._texture.trim,b=this._texture.orig;!a||a.width===b.width&&a.height===b.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),
this._bounds.addQuad(this.vertexTrimmedData))};l.prototype.getLocalBounds=function(a){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),a||(this._localBoundsRect||(this._localBoundsRect=new d.Rectangle),a=this._localBoundsRect),this._bounds.getRectangle(a)):c.prototype.getLocalBounds.call(this,
a)};l.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,f);var b=this._texture.orig.width;a=this._texture.orig.height;var d=-b*this.anchor.x;return f.x>=d&&f.x<d+b&&(b=-a*this.anchor.y,f.y>=b&&f.y<b+a)?!0:!1};l.prototype.destroy=function(a){c.prototype.destroy.call(this,a);this._texture.off("update",this._onTextureUpdate,this);this._anchor=null;("boolean"===typeof a?a:a&&a.texture)&&this._texture.destroy(!!("boolean"===typeof a?a:a&&a.baseTexture));this.shader=this._texture=null};
l.from=function(b){return new l(a.default.from(b))};l.fromFrame=function(a){var b=e.TextureCache[a];if(!b)throw Error('The frameId "'+a+'" does not exist in the texture cache');return new l(b)};l.fromImage=function(b,d,c){return new l(a.default.fromImage(b,d,c))};p(l,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){var b=(0,e.sign)(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a}},{key:"height",get:function(){return Math.abs(this.scale.y)*
this._texture.orig.height},set:function(a){var b=(0,e.sign)(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a}},{key:"anchor",get:function(){return this._anchor},set:function(a){this._anchor.copy(a)}},{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a;this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture!==a&&(this._texture=a,this.cachedTint=16777215,this._textureTrimmedID=
this._textureID=-1,a))if(a.baseTexture.hasLoaded)this._onTextureUpdate();else a.once("update",this._onTextureUpdate,this)}}]);return l}(c.default);h.default=c},{"../const":55,"../display/Container":57,"../math":79,"../textures/Texture":124,"../utils":134}],112:[function(c,k,h){h.__esModule=!0;k=(k=c("../../renderers/canvas/CanvasRenderer"))&&k.__esModule?k:{default:k};var g=c("../../const"),p=c("../../math"),d=(c=c("./CanvasTinter"))&&c.__esModule?c:{default:c},e=new p.Matrix;c=function(){function b(a){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");this.renderer=a}b.prototype.render=function(a){var b=a._texture,c=this.renderer,r=b._frame.width,m=b._frame.height,q=a.transform.worldTransform;if(!(0>=b.orig.width||0>=b.orig.height)&&b.baseTexture.source&&(c.setBlendMode(a.blendMode),b.valid)){c.context.globalAlpha=a.worldAlpha;var h=b.baseTexture.scaleMode===g.SCALE_MODES.LINEAR;c.smoothProperty&&c.context[c.smoothProperty]!==h&&(c.context[c.smoothProperty]=h);if(b.trim){h=b.trim.width/
2+b.trim.x-a.anchor.x*b.orig.width;var k=b.trim.height/2+b.trim.y-a.anchor.y*b.orig.height}else h=(.5-a.anchor.x)*b.orig.width,k=(.5-a.anchor.y)*b.orig.height;b.rotate&&(q.copy(e),q=e,p.GroupD8.matrixAppendRotationInv(q,b.rotate,h,k),k=h=0);h-=r/2;k-=m/2;c.roundPixels?(c.context.setTransform(q.a,q.b,q.c,q.d,q.tx*c.resolution|0,q.ty*c.resolution|0),h|=0,k|=0):c.context.setTransform(q.a,q.b,q.c,q.d,q.tx*c.resolution,q.ty*c.resolution);q=b.baseTexture.resolution;if(16777215!==a.tint){if(a.cachedTint!==
a.tint||a.tintedTexture.tintId!==a._texture._updateID)a.cachedTint=a.tint,a.tintedTexture=d.default.getTintedTexture(a,a.tint);c.context.drawImage(a.tintedTexture,0,0,r*q,m*q,h*c.resolution,k*c.resolution,r*c.resolution,m*c.resolution)}else c.context.drawImage(b.baseTexture.source,b._frame.x*q,b._frame.y*q,r*q,m*q,h*c.resolution,k*c.resolution,r*c.resolution,m*c.resolution)}};b.prototype.destroy=function(){this.renderer=null};return b}();h.default=c;k.default.registerPlugin("sprite",c)},{"../../const":55,
"../../math":79,"../../renderers/canvas/CanvasRenderer":86,"./CanvasTinter":113}],113:[function(c,k,h){h.__esModule=!0;var g=c("../../utils");c=(c=c("../../renderers/canvas/utils/canUseNewCanvasBlendModes"))&&c.__esModule?c:{default:c};var p={getTintedTexture:function(d,c){d=d._texture;c=p.roundColor(c);var b="#"+("00000"+(c|0).toString(16)).substr(-6);d.tintCache=d.tintCache||{};var a=d.tintCache[b];if(a){if(a.tintId===d._updateID)return d.tintCache[b];a=d.tintCache[b]}else a=p.canvas||document.createElement("canvas");
p.tintMethod(d,c,a);a.tintId=d._updateID;p.convertTintToImage?(c=new Image,c.src=a.toDataURL(),d.tintCache[b]=c):(d.tintCache[b]=a,p.canvas=null);return a},tintWithMultiply:function(d,c,b){var a=b.getContext("2d"),f=d._frame.clone(),e=d.baseTexture.resolution;f.x*=e;f.y*=e;f.width*=e;f.height*=e;b.width=Math.ceil(f.width);b.height=Math.ceil(f.height);a.save();a.fillStyle="#"+("00000"+(c|0).toString(16)).substr(-6);a.fillRect(0,0,f.width,f.height);a.globalCompositeOperation="multiply";a.drawImage(d.baseTexture.source,
f.x,f.y,f.width,f.height,0,0,f.width,f.height);a.globalCompositeOperation="destination-atop";a.drawImage(d.baseTexture.source,f.x,f.y,f.width,f.height,0,0,f.width,f.height);a.restore()},tintWithOverlay:function(d,c,b){var a=b.getContext("2d"),f=d._frame.clone(),e=d.baseTexture.resolution;f.x*=e;f.y*=e;f.width*=e;f.height*=e;b.width=Math.ceil(f.width);b.height=Math.ceil(f.height);a.save();a.globalCompositeOperation="copy";a.fillStyle="#"+("00000"+(c|0).toString(16)).substr(-6);a.fillRect(0,0,f.width,
f.height);a.globalCompositeOperation="destination-atop";a.drawImage(d.baseTexture.source,f.x,f.y,f.width,f.height,0,0,f.width,f.height);a.restore()},tintWithPerPixel:function(d,c,b){var a=b.getContext("2d"),f=d._frame.clone(),e=d.baseTexture.resolution;f.x*=e;f.y*=e;f.width*=e;f.height*=e;b.width=Math.ceil(f.width);b.height=Math.ceil(f.height);a.save();a.globalCompositeOperation="copy";a.drawImage(d.baseTexture.source,f.x,f.y,f.width,f.height,0,0,f.width,f.height);a.restore();b=(0,g.hex2rgb)(c);d=
b[0];c=b[1];b=b[2];f=a.getImageData(0,0,f.width,f.height);e=f.data;for(var h=0;h<e.length;h+=4)e[h+0]*=d,e[h+1]*=c,e[h+2]*=b;a.putImageData(f,0,0)},roundColor:function(d){var c=p.cacheStepsPerColorChannel;d=(0,g.hex2rgb)(d);d[0]=Math.min(255,d[0]/c*c);d[1]=Math.min(255,d[1]/c*c);d[2]=Math.min(255,d[2]/c*c);return(0,g.rgb2hex)(d)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,c.default)(),tintMethod:0};p.tintMethod=p.canUseMultiply?p.tintWithMultiply:p.tintWithPerPixel;h.default=
p},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":89,"../../utils":134}],114:[function(c,k,h){h.__esModule=!0;c=function(){function c(g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.vertices=new ArrayBuffer(g);this.float32View=new Float32Array(this.vertices);this.uint32View=new Uint32Array(this.vertices)}c.prototype.destroy=function(){this.colors=this.uvs=this.positions=this.vertices=null};return c}();h.default=c},{}],115:[function(c,k,h){function g(a){return a&&
a.__esModule?a:{default:a}}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;k=c("../../renderers/webgl/utils/ObjectRenderer");k=g(k);var d=c("../../renderers/webgl/WebGLRenderer");d=g(d);var e=c("../../utils/createIndicesForQuads"),
b=g(e);e=c("./generateMultiTextureShader");var a=g(e);e=c("../../renderers/webgl/utils/checkMaxIfStatmentsInShader");var f=g(e);e=c("./BatchBuffer");var l=g(e);e=c("../../settings");var r=g(e),m=c("../../utils");e=c("pixi-gl-core");var q=g(e);c=c("bit-twiddle");var y=g(c),v=0,u=0;c=function(d){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=d.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.vertSize=5;a.vertByteSize=4*a.vertSize;a.size=r.default.SPRITE_BATCH_SIZE;a.buffers=[];for(var f=1;f<=y.default.nextPow2(a.size);f*=2)a.buffers.push(new l.default(4*f*a.vertByteSize));a.indices=(0,b.default)(a.size);a.shader=null;a.currentIndex=0;a.groups=[];for(f=0;f<a.size;f++)a.groups[f]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};a.sprites=[];a.vertexBuffers=[];a.vaos=[];a.vaoMax=2;a.vertexCount=0;a.renderer.on("prerender",
a.onPrerender,a);return a}p(c,d);c.prototype.onContextChange=function(){var b=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS),r.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,f.default)(this.MAX_TEXTURES,b));this.shader=(0,a.default)(b,this.MAX_TEXTURES);this.indexBuffer=q.default.GLBuffer.createIndexBuffer(b,this.indices,b.STATIC_DRAW);this.renderer.bindVao(null);for(var d=this.shader.attributes,c=0;c<this.vaoMax;c++){var e=
this.vertexBuffers[c]=q.default.GLBuffer.createVertexBuffer(b,null,b.STREAM_DRAW),l=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(e,d.aVertexPosition,b.FLOAT,!1,this.vertByteSize,0).addAttribute(e,d.aTextureCoord,b.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(e,d.aColor,b.UNSIGNED_BYTE,!0,this.vertByteSize,12);d.aTextureId&&l.addAttribute(e,d.aTextureId,b.FLOAT,!1,this.vertByteSize,16);this.vaos[c]=l}this.vao=this.vaos[0];this.currentBlendMode=99999;this.boundTextures=Array(this.MAX_TEXTURES)};
c.prototype.onPrerender=function(){this.vertexCount=0};c.prototype.render=function(a){this.currentIndex>=this.size&&this.flush();a._texture._uvs&&(this.sprites[this.currentIndex++]=a)};c.prototype.flush=function(){if(0!==this.currentIndex){var a=this.renderer.gl,b=this.MAX_TEXTURES,d=y.default.nextPow2(this.currentIndex);d=y.default.log2(d);var c=this.buffers[d],f=this.sprites;d=this.groups;var e=c.float32View,l=c.uint32View,g=this.boundTextures,h=this.renderer.boundTextures,p=this.renderer.textureGC.count,
k=0,t=void 0,A=1,X=0,R=d[0],aa=m.premultiplyBlendMode[f[0]._texture.baseTexture.premultipliedAlpha?1:0][f[0].blendMode];R.textureCount=0;R.start=0;R.blend=aa;v++;var G;for(G=0;G<b;++G){var M=h[G];M._enabled===v?g[G]=this.renderer.emptyTextures[G]:(g[G]=M,M._virtalBoundId=G,M._enabled=v)}v++;for(G=0;G<this.currentIndex;++G){var W=f[G];f[G]=null;M=W._texture.baseTexture;var w=m.premultiplyBlendMode[Number(M.premultipliedAlpha)][W.blendMode];aa!==w&&(aa=w,t=null,X=b,v++);if(t!==M&&(t=M,M._enabled!==
v)){X===b&&(v++,R.size=G-R.start,X=0,R=d[A++],R.blend=aa,R.textureCount=0,R.start=G);M.touched=p;if(-1===M._virtalBoundId)for(w=0;w<b;++w){var J=(w+u)%b;var Q=g[J];if(Q._enabled!==v){u++;Q._virtalBoundId=-1;M._virtalBoundId=J;g[J]=M;break}}M._enabled=v;R.textureCount++;R.ids[X]=M._virtalBoundId;R.textures[X++]=M}w=W.vertexData;J=W._texture._uvs.uvsUint32;this.renderer.roundPixels?(Q=this.renderer.resolution,e[k]=(w[0]*Q|0)/Q,e[k+1]=(w[1]*Q|0)/Q,e[k+5]=(w[2]*Q|0)/Q,e[k+6]=(w[3]*Q|0)/Q,e[k+10]=(w[4]*
Q|0)/Q,e[k+11]=(w[5]*Q|0)/Q,e[k+15]=(w[6]*Q|0)/Q,e[k+16]=(w[7]*Q|0)/Q):(e[k]=w[0],e[k+1]=w[1],e[k+5]=w[2],e[k+6]=w[3],e[k+10]=w[4],e[k+11]=w[5],e[k+15]=w[6],e[k+16]=w[7]);l[k+2]=J[0];l[k+7]=J[1];l[k+12]=J[2];l[k+17]=J[3];w=Math.min(W.worldAlpha,1);W=1>w&&M.premultipliedAlpha?(0,m.premultiplyTint)(W._tintRGB,w):W._tintRGB+(255*w<<24);l[k+3]=l[k+8]=l[k+13]=l[k+18]=W;e[k+4]=e[k+9]=e[k+14]=e[k+19]=M._virtalBoundId;k+=20}R.size=G-R.start;r.default.CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(c.vertices,
0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,t=this.shader.attributes,G=this.vertexBuffers[this.vertexCount]=q.default.GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),f=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(G,t.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(G,t.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(G,t.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,12),t.aTextureId&&f.addAttribute(G,t.aTextureId,a.FLOAT,!1,this.vertByteSize,
16),this.vaos[this.vertexCount]=f),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(c.vertices,0,!1),this.vertexCount++);for(G=0;G<b;++G)h[G]._virtalBoundId=-1;for(G=0;G<A;++G){b=d[G];c=b.textureCount;for(f=0;f<c;f++)t=b.textures[f],h[b.ids[f]]!==t&&this.renderer.bindTexture(t,b.ids[f],!0),t._virtalBoundId=-1;this.renderer.state.setBlendMode(b.blend);a.drawElements(a.TRIANGLES,6*b.size,a.UNSIGNED_SHORT,12*b.start)}this.currentIndex=0}};c.prototype.start=
function(){this.renderer.bindShader(this.shader);r.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())};c.prototype.stop=function(){this.flush()};c.prototype.destroy=function(){for(var a=0;a<this.vaoMax;a++)this.vertexBuffers[a]&&this.vertexBuffers[a].destroy(),this.vaos[a]&&this.vaos[a].destroy();this.indexBuffer&&this.indexBuffer.destroy();this.renderer.off("prerender",this.onPrerender,this);d.prototype.destroy.call(this);
this.shader&&(this.shader.destroy(),this.shader=null);this.sprites=this.indices=this.indexBuffer=this.vaos=this.vertexBuffers=null;for(a=0;a<this.buffers.length;++a)this.buffers[a].destroy()};return c}(k.default);h.default=c;d.default.registerPlugin("sprite",c)},{"../../renderers/webgl/WebGLRenderer":93,"../../renderers/webgl/utils/ObjectRenderer":103,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":106,"../../settings":110,"../../utils":134,"../../utils/createIndicesForQuads":132,"./BatchBuffer":114,
"./generateMultiTextureShader":116,"bit-twiddle":9,"pixi-gl-core":22}],116:[function(c,k,h){function g(d){var b="\n\n";for(var a=0;a<d;a++)0<a&&(b+="\nelse "),a<d-1&&(b+="if(textureId == "+a+".0)"),b+="\n{",b+="\n\tcolor = texture2D(uSamplers["+a+"], vTextureCoord);",b+="\n}";return b+"\n\n"}h.__esModule=!0;h.default=function(c,b){var a=d;a=a.replace(/%count%/gi,b);a=a.replace(/%forloop%/gi,g(b));c=new p.default(c,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",
a);a=[];for(var f=0;f<b;f++)a[f]=f;c.bind();c.uniforms.uSamplers=a;return c};var p=(k=c("../../Shader"))&&k.__esModule?k:{default:k};c("path");var d="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}"},{"../../Shader":53,path:1}],117:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if("function"!==
typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var d=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,
d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();k=c("../sprites/Sprite");k=g(k);var e=c("../textures/Texture"),b=g(e),a=c("../math"),f=c("../utils"),l=c("../const");e=c("../settings");var r=g(e);e=c("./TextStyle");var m=g(e);e=c("./TextMetrics");var q=g(e);c=c("../utils/trimCanvas");var y=g(c),v={texture:!0,children:!1,baseTexture:!0};c=function(c){function e(d,f,l){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");l=l||document.createElement("canvas");l.width=3;l.height=
3;var m=b.default.fromCanvas(l,r.default.SCALE_MODE,"text");m.orig=new a.Rectangle;m.trim=new a.Rectangle;m=c.call(this,m);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;b.default.addToCache(m._texture,m._texture.baseTexture.textureCacheIds[0]);m.canvas=l;m.context=m.canvas.getContext("2d");m.resolution=r.default.RESOLUTION;m._text=null;m._style=null;m._styleListener=null;m._font="";m.text=d;m.style=
f;m.localStyleID=-1;return m}p(e,c);e.prototype.updateText=function(a){var b=this._style;this.localStyleID!==b.styleID&&(this.dirty=!0,this.localStyleID=b.styleID);if(this.dirty||!a){this._font=this._style.toFontString();var d=this.context,c=q.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),f=c.height;a=c.lines;var e=c.lineHeight,l=c.lineWidths,m=c.maxLineWidth,g=c.fontProperties;this.canvas.width=Math.ceil((Math.max(1,c.width)+2*b.padding)*this.resolution);this.canvas.height=
Math.ceil((Math.max(1,f)+2*b.padding)*this.resolution);d.scale(this.resolution,this.resolution);d.clearRect(0,0,this.canvas.width,this.canvas.height);d.font=this._font;d.strokeStyle=b.stroke;d.lineWidth=b.strokeThickness;d.textBaseline=b.textBaseline;d.lineJoin=b.lineJoin;d.miterLimit=b.miterLimit;if(b.dropShadow){d.fillStyle=b.dropShadowColor;d.globalAlpha=b.dropShadowAlpha;d.shadowBlur=b.dropShadowBlur;0<b.dropShadowBlur&&(d.shadowColor=b.dropShadowColor);for(var h=Math.cos(b.dropShadowAngle)*b.dropShadowDistance,
r=Math.sin(b.dropShadowAngle)*b.dropShadowDistance,p=0;p<a.length;p++)c=b.strokeThickness/2,f=b.strokeThickness/2+p*e+g.ascent,"right"===b.align?c+=m-l[p]:"center"===b.align&&(c+=(m-l[p])/2),b.fill&&(this.drawLetterSpacing(a[p],c+h+b.padding,f+r+b.padding),b.stroke&&b.strokeThickness&&(d.strokeStyle=b.dropShadowColor,this.drawLetterSpacing(a[p],c+h+b.padding,f+r+b.padding,!0),d.strokeStyle=b.stroke))}d.shadowBlur=0;d.globalAlpha=1;d.fillStyle=this._generateFillStyle(b,a);for(d=0;d<a.length;d++)c=
b.strokeThickness/2,f=b.strokeThickness/2+d*e+g.ascent,"right"===b.align?c+=m-l[d]:"center"===b.align&&(c+=(m-l[d])/2),b.stroke&&b.strokeThickness&&this.drawLetterSpacing(a[d],c+b.padding,f+b.padding,!0),b.fill&&this.drawLetterSpacing(a[d],c+b.padding,f+b.padding);this.updateTexture()}};e.prototype.drawLetterSpacing=function(a,b,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,f=this._style.letterSpacing;if(0===f)c?this.context.strokeText(a,b,d):this.context.fillText(a,b,d);else for(var e=
String.prototype.split.call(a,""),l=b,m=0,g;m<a.length;)g=e[m++],c?this.context.strokeText(g,l,d):this.context.fillText(g,l,d),l+=this.context.measureText(g).width+f};e.prototype.updateTexture=function(){var a=this.canvas;if(this._style.trim){var b=(0,y.default)(a);a.width=b.width;a.height=b.height;this.context.putImageData(b.data,0,0)}b=this._texture;var d=this._style;d=d.trim?0:d.padding;var c=b.baseTexture;c.hasLoaded=!0;c.resolution=this.resolution;c.realWidth=a.width;c.realHeight=a.height;c.width=
a.width/this.resolution;c.height=a.height/this.resolution;b.trim.width=b._frame.width=a.width/this.resolution;b.trim.height=b._frame.height=a.height/this.resolution;b.trim.x=-d;b.trim.y=-d;b.orig.width=b._frame.width-2*d;b.orig.height=b._frame.height-2*d;this._onTextureUpdate();c.emit("update",c);this.dirty=!1};e.prototype.renderWebGL=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0);this.updateText(!0);c.prototype.renderWebGL.call(this,a)};e.prototype._renderCanvas=
function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0);this.updateText(!0);c.prototype._renderCanvas.call(this,a)};e.prototype.getLocalBounds=function(a){this.updateText(!0);return c.prototype.getLocalBounds.call(this,a)};e.prototype._calculateBounds=function(){this.updateText(!0);this.calculateVertices();this._bounds.addQuad(this.vertexData)};e.prototype._onStyleChange=function(){this.dirty=!0};e.prototype._generateFillStyle=function(a,b){if(!Array.isArray(a.fill))return a.fill;
if(navigator.isCocoonJS)return a.fill[0];var d=this.canvas.width/this.resolution;var c=this.canvas.height/this.resolution;var f=a.fill.slice(),e=a.fillGradientStops.slice();if(!e.length){var m=f.length+1;for(var g=1;g<m;++g)e.push(g/m)}f.unshift(a.fill[0]);e.unshift(0);f.push(a.fill[a.fill.length-1]);e.push(1);if(a.fillGradientType===l.TEXT_GRADIENT.LINEAR_VERTICAL)for(a=this.context.createLinearGradient(d/2,0,d/2,c),d=(f.length+1)*b.length,g=c=0;g<b.length;g++){c+=1;for(var q=0;q<f.length;q++)m=
"number"===typeof e[q]?e[q]/b.length+g/b.length:c/d,a.addColorStop(m,f[q]),c++}else for(a=this.context.createLinearGradient(0,c/2,d,c/2),d=f.length+1,c=1,b=0;b<f.length;b++)m="number"===typeof e[b]?e[b]:c/d,a.addColorStop(m,f[b]),c++;return a};e.prototype.destroy=function(a){"boolean"===typeof a&&(a={children:a});a=Object.assign({},v,a);c.prototype.destroy.call(this,a);this._style=this.canvas=this.context=null};d(e,[{key:"width",get:function(){this.updateText(!0);return Math.abs(this.scale.x)*this._texture.orig.width},
set:function(a){this.updateText(!0);var b=(0,f.sign)(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a}},{key:"height",get:function(){this.updateText(!0);return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){this.updateText(!0);var b=(0,f.sign)(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a}},{key:"style",get:function(){return this._style},set:function(a){a=a||{};this._style=a instanceof m.default?a:new m.default(a);this.localStyleID=
-1;this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(a){a=String(""===a||null===a||void 0===a?" ":a);this._text!==a&&(this._text=a,this.dirty=!0)}}]);return e}(k.default);h.default=c},{"../const":55,"../math":79,"../settings":110,"../sprites/Sprite":111,"../textures/Texture":124,"../utils":134,"../utils/trimCanvas":139,"./TextMetrics":118,"./TextStyle":119}],118:[function(c,k,h){h.__esModule=!0;c=function(){function c(g,d,e,b,a,f,l,h,m){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.text=g;this.style=d;this.width=e;this.height=b;this.lines=a;this.lineWidths=f;this.lineHeight=l;this.maxLineWidth=h;this.fontProperties=m}c.measureText=function(g,d,e){var b=3<arguments.length&&void 0!==arguments[3]?arguments[3]:c._canvas;e=e||d.wordWrap;var a=d.toFontString(),f=c.measureFont(a),l=b.getContext("2d");l.font=a;b=(e?c.wordWrap(g,d,b):g).split(/(?:\r\n|\r|\n)/);a=Array(b.length);for(var h=0,m=0;m<b.length;m++){var q=l.measureText(b[m]).width+(b[m].length-1)*d.letterSpacing;a[m]=
q;h=Math.max(h,q)}l=h+d.strokeThickness;d.dropShadow&&(l+=d.dropShadowDistance);m=d.lineHeight||f.fontSize+d.strokeThickness;q=Math.max(m,f.fontSize+d.strokeThickness)+(b.length-1)*(m+d.leading);d.dropShadow&&(q+=d.dropShadowDistance);return new c(g,d,l,q,b,a,m+d.leading,h,f)};c.wordWrap=function(g,d){var e=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:c._canvas).getContext("2d"),b=0,a="",f="",l={},h=d.letterSpacing,m=d.whiteSpace,q=c.collapseSpaces(m);m=c.collapseNewlines(m);for(var p=
!q,k=d.wordWrapWidth+h,u=c.tokenize(g),A=0;A<u.length;A++){var t=u[A];if(c.isNewline(t)){if(!m){f+=c.addLine(a);p=!q;a="";b=0;continue}t=" "}if(q){var x=c.isBreakingSpace(t),z=c.isBreakingSpace(a[a.length-1]);if(x&&z)continue}x=c.getFromCache(t,h,l,e);if(x>k)if(""!==a&&(f+=c.addLine(a),a="",b=0),c.canBreakWords(t,d.breakWords))for(x=t.split(""),z=0;z<x.length;z++){for(var B=x[z],D=1;x[z+D];){var C=x[z+D];if(c.canBreakChars(B[B.length-1],C,t,z,d.breakWords))break;else B+=C;D++}z+=B.length-1;D=c.getFromCache(B,
h,l,e);D+b>k&&(f+=c.addLine(a),p=!1,a="",b=0);a+=B;b+=D}else 0<a.length&&(f+=c.addLine(a)),f+=c.addLine(t,A!==u.length-1),p=!1,a="",b=0;else if(x+b>k&&(p=!1,f+=c.addLine(a),a="",b=0),0<a.length||!c.isBreakingSpace(t)||p)a+=t,b+=x}return f+=c.addLine(a,!1)};c.addLine=function(g){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;g=c.trimRight(g);return d?g+"\n":g};c.getFromCache=function(c,d,e,b){var a=e[c];void 0===a&&(d*=c.length,a=b.measureText(c).width+d,e[c]=a);return a};c.collapseSpaces=
function(c){return"normal"===c||"pre-line"===c};c.collapseNewlines=function(c){return"normal"===c};c.trimRight=function(g){if("string"!==typeof g)return"";for(var d=g.length-1;0<=d&&c.isBreakingSpace(g[d]);d--)g=g.slice(0,-1);return g};c.isNewline=function(g){return"string"!==typeof g?!1:0<=c._newlines.indexOf(g.charCodeAt(0))};c.isBreakingSpace=function(g){return"string"!==typeof g?!1:0<=c._breakingSpaces.indexOf(g.charCodeAt(0))};c.tokenize=function(g){var d=[],e="";if("string"!==typeof g)return d;
for(var b=0;b<g.length;b++){var a=g[b];c.isBreakingSpace(a)||c.isNewline(a)?(""!==e&&(d.push(e),e=""),d.push(a)):e+=a}""!==e&&d.push(e);return d};c.canBreakWords=function(c,d){return d};c.canBreakChars=function(c,d,e,b,a){return!0};c.measureFont=function(g){if(c._fonts[g])return c._fonts[g];var d={},e=c._canvas,b=c._context;b.font=g;var a=c.METRICS_STRING+c.BASELINE_SYMBOL,f=Math.ceil(b.measureText(a).width),l=Math.ceil(b.measureText(c.BASELINE_SYMBOL).width),h=2*l;l=l*c.BASELINE_MULTIPLIER|0;e.width=
f;e.height=h;b.fillStyle="#f00";b.fillRect(0,0,f,h);b.font=g;b.textBaseline="alphabetic";b.fillStyle="#000";b.fillText(a,0,l);e=b.getImageData(0,0,f,h).data;b=e.length;f*=4;var m=0,q=!1;for(a=0;a<l;++a){for(var p=0;p<f;p+=4)if(255!==e[m+p]){q=!0;break}if(q)break;else m+=f}d.ascent=l-a;m=b-f;q=!1;for(a=h;a>l;--a){for(h=0;h<f;h+=4)if(255!==e[m+h]){q=!0;break}if(q)break;else m-=f}d.descent=a-l;d.fontSize=d.ascent+d.descent;return c._fonts[g]=d};c.clearMetrics=function(){var g=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:"";g?delete c._fonts[g]:c._fonts={}};return c}();h.default=c;h=document.createElement("canvas");h.width=h.height=10;c._canvas=h;c._context=h.getContext("2d");c._fonts={};c.METRICS_STRING="|\u00c9q";c.BASELINE_SYMBOL="M";c.BASELINE_MULTIPLIER=1.4;c._newlines=[10,13];c._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},{}],119:[function(c,k,h){function g(a){if("number"===typeof a)return(0,b.hex2string)(a);"string"===typeof a&&0===a.indexOf("0x")&&
(a=a.replace("0x","#"));return a}function p(a){if(Array.isArray(a)){for(var b=0;b<a.length;++b)a[b]=g(a[b]);return a}return g(a)}function d(a,b,d){for(var c in d)Array.isArray(b[c])?a[c]=b[c].slice():a[c]=b[c]}h.__esModule=!0;var e=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();k=c("../const");var b=c("../utils"),
a={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:k.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,
leading:0};c=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.styleID=0;this.reset();d(this,a,a)}b.prototype.clone=function(){var c={};d(c,this,a);return new b(c)};b.prototype.reset=function(){d(this,a,a)};b.prototype.toFontString=function(){var a="number"===typeof this.fontSize?this.fontSize+"px":this.fontSize,b=this.fontFamily;Array.isArray(this.fontFamily)||(b=this.fontFamily.split(","));for(var d=b.length-1;0<=d;d--){var c=b[d].trim();
/(["'])[^'"]+\1/.test(c)||(c='"'+c+'"');b[d]=c}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+a+" "+b.join(",")};e(b,[{key:"align",get:function(){return this._align},set:function(a){this._align!==a&&(this._align=a,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(a){this._breakWords!==a&&(this._breakWords=a,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(a){this._dropShadow!==a&&(this._dropShadow=a,
this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(a){this._dropShadowAlpha!==a&&(this._dropShadowAlpha=a,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(a){this._dropShadowAngle!==a&&(this._dropShadowAngle=a,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(a){this._dropShadowBlur!==a&&(this._dropShadowBlur=a,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},
set:function(a){a=p(a);this._dropShadowColor!==a&&(this._dropShadowColor=a,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(a){this._dropShadowDistance!==a&&(this._dropShadowDistance=a,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(a){a=p(a);this._fill!==a&&(this._fill=a,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(a){this._fillGradientType!==a&&(this._fillGradientType=
a,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(a){a:{var b=this._fillGradientStops;if(Array.isArray(b)&&Array.isArray(a)&&b.length===a.length){for(var d=0;d<b.length;++d)if(b[d]!==a[d]){b=!1;break a}b=!0}else b=!1}b||(this._fillGradientStops=a,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(a){this.fontFamily!==a&&(this._fontFamily=a,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},
set:function(a){this._fontSize!==a&&(this._fontSize=a,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(a){this._fontStyle!==a&&(this._fontStyle=a,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(a){this._fontVariant!==a&&(this._fontVariant=a,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(a){this._fontWeight!==a&&(this._fontWeight=a,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},
set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(a){this._lineHeight!==a&&(this._lineHeight=a,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(a){this._leading!==a&&(this._leading=a,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(a){this._lineJoin!==a&&(this._lineJoin=a,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},
set:function(a){this._miterLimit!==a&&(this._miterLimit=a,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(a){this._padding!==a&&(this._padding=a,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(a){a=p(a);this._stroke!==a&&(this._stroke=a,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(a){this._strokeThickness!==a&&(this._strokeThickness=a,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},
set:function(a){this._textBaseline!==a&&(this._textBaseline=a,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(a){this._trim!==a&&(this._trim=a,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(a){this._whiteSpace!==a&&(this._whiteSpace=a,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(a){this._wordWrap!==a&&(this._wordWrap=a,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},
set:function(a){this._wordWrapWidth!==a&&(this._wordWrapWidth=a,this.styleID++)}}]);return b}();h.default=c},{"../const":55,"../utils":134}],120:[function(c,k,h){function g(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}h.__esModule=!0;k=(k=c("./BaseTexture"))&&
k.__esModule?k:{default:k};var p=(c=c("../settings"))&&c.__esModule?c:{default:c};c=function(d){function c(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,f=arguments[2],e=arguments[3];if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var g=d.call(this,null,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==
typeof g?this:g;g.resolution=e||p.default.RESOLUTION;g.width=Math.ceil(b);g.height=Math.ceil(a);g.realWidth=g.width*g.resolution;g.realHeight=g.height*g.resolution;g.scaleMode=void 0!==f?f:p.default.SCALE_MODE;g.hasLoaded=!0;g._glRenderTargets={};g._canvasRenderTarget=null;g.valid=!1;return g}g(c,d);c.prototype.resize=function(b,a){b=Math.ceil(b);a=Math.ceil(a);if(b!==this.width||a!==this.height)this.valid=0<b&&0<a,this.width=b,this.height=a,this.realWidth=this.width*this.resolution,this.realHeight=
this.height*this.resolution,this.valid&&this.emit("update",this)};c.prototype.destroy=function(){d.prototype.destroy.call(this,!0);this.renderer=null};return c}(k.default);h.default=c},{"../settings":110,"./BaseTexture":121}],121:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var d=c("../utils");k=c("../settings");var e=g(k);k=c("eventemitter3");k=g(k);var b=c("../utils/determineCrossOrigin"),a=g(b);c=c("bit-twiddle");var f=g(c);c=function(b){function c(a,f,l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var m=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.uid=(0,d.uid)();m.touched=0;m.resolution=l||e.default.RESOLUTION;m.width=100;m.height=100;m.realWidth=100;m.realHeight=100;m.scaleMode=void 0!==f?f:e.default.SCALE_MODE;m.hasLoaded=!1;m.isLoading=!1;m.source=null;m.origSource=null;m.imageType=null;m.sourceScale=1;m.premultipliedAlpha=!0;m.imageUrl=null;m.isPowerOfTwo=!1;m.mipmap=e.default.MIPMAP_TEXTURES;m.wrapMode=e.default.WRAP_MODE;m._glTextures={};m._enabled=0;m._virtalBoundId=-1;m._destroyed=
!1;m.textureCacheIds=[];a&&m.loadSource(a);return m}p(c,b);c.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions());this.emit("update",this)};c.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution;this.height=this.realHeight/this.resolution;this.isPowerOfTwo=f.default.isPow2(this.realWidth)&&
f.default.isPow2(this.realHeight)};c.prototype.loadSource=function(a){var b=this.isLoading;this.isLoading=this.hasLoaded=!1;b&&this.source&&(this.source.onload=null,this.source.onerror=null);var d=!this.source;this.source=a;if((a.src&&a.complete||a.getContext)&&a.width&&a.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),d&&this.emit("loaded",this);else if(!a.getContext){this.isLoading=!0;var c=this;a.onload=function(){c._updateImageType();a.onload=null;
a.onerror=null;c.isLoading&&(c.isLoading=!1,c._sourceLoaded(),"svg"===c.imageType?c._loadSvgSource():c.emit("loaded",c))};a.onerror=function(){a.onload=null;a.onerror=null;c.isLoading&&(c.isLoading=!1,c.emit("error",c))};a.complete&&a.src&&(a.onload=null,a.onerror=null,"svg"===c.imageType?c._loadSvgSource():(this.isLoading=!1,a.width&&a.height?(this._sourceLoaded(),b&&this.emit("loaded",this)):b&&this.emit("error",this)))}};c.prototype._updateImageType=function(){if(this.imageUrl){var a=(0,d.decomposeDataUri)(this.imageUrl);
if(a&&"image"===a.mediaType){if(a=a.subType.split("+")[0],a=(0,d.getUrlFileExtension)("."+a),!a)throw Error("Invalid image type in data URI.");}else(a=(0,d.getUrlFileExtension)(this.imageUrl))||(a="png");this.imageType=a}};c.prototype._loadSvgSource=function(){if("svg"===this.imageType){var a=(0,d.decomposeDataUri)(this.imageUrl);a?this._loadSvgSourceUsingDataUri(a):this._loadSvgSourceUsingXhr()}};c.prototype._loadSvgSourceUsingDataUri=function(a){if("base64"===a.encoding){if(!atob)throw Error("Your browser doesn't support base64 conversions.");
a=atob(a.data)}else a=a.data;this._loadSvgSourceUsingString(a)};c.prototype._loadSvgSourceUsingXhr=function(){var a=this,b=new XMLHttpRequest;b.onload=function(){if(b.readyState!==b.DONE||200!==b.status)throw Error("Failed to load SVG using XHR.");a._loadSvgSourceUsingString(b.response)};b.onerror=function(){return a.emit("error",a)};b.open("GET",this.imageUrl,!0);b.send()};c.prototype._loadSvgSourceUsingString=function(a){var b=(0,d.getSvgSize)(a);a=b.width;b=b.height;if(!a||!b)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
this.realWidth=Math.round(a*this.sourceScale);this.realHeight=Math.round(b*this.sourceScale);this._updateDimensions();var f=document.createElement("canvas");f.width=this.realWidth;f.height=this.realHeight;f._pixiId="canvas_"+(0,d.uid)();f.getContext("2d").drawImage(this.source,0,0,a,b,0,0,this.realWidth,this.realHeight);this.origSource=this.source;this.source=f;c.addToCache(this,f._pixiId);this.isLoading=!1;this._sourceLoaded();this.emit("loaded",this)};c.prototype._sourceLoaded=function(){this.hasLoaded=
!0;this.update()};c.prototype.destroy=function(){this.imageUrl&&(delete d.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src=""));this.source=null;this.dispose();c.removeFromCache(this);this.textureCacheIds=null;this._destroyed=!0};c.prototype.dispose=function(){this.emit("dispose",this)};c.prototype.updateSourceImage=function(a){this.source.src=a;this.loadSource(this.source)};c.fromImage=function(b,f,e,l){var g=d.BaseTextureCache[b];if(!g){var m=new Image;void 0===
f&&0!==b.indexOf("data:")?m.crossOrigin=(0,a.default)(b):f&&(m.crossOrigin="string"===typeof f?f:"anonymous");g=new c(m,e);g.imageUrl=b;l&&(g.sourceScale=l);g.resolution=(0,d.getResolutionOfUrl)(b);m.src=b;c.addToCache(g,b)}return g};c.fromCanvas=function(a,b){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas";a._pixiId||(a._pixiId=f+"_"+(0,d.uid)());f=d.BaseTextureCache[a._pixiId];f||(f=new c(a,b),c.addToCache(f,a._pixiId));return f};c.from=function(a,b,f){if("string"===typeof a)return c.fromImage(a,
void 0,b,f);if(a instanceof HTMLImageElement){var e=a.src,l=d.BaseTextureCache[e];l||(l=new c(a,b),l.imageUrl=e,f&&(l.sourceScale=f),l.resolution=(0,d.getResolutionOfUrl)(e),c.addToCache(l,e));return l}return a instanceof HTMLCanvasElement?c.fromCanvas(a,b):a};c.addToCache=function(a,b){b&&(-1===a.textureCacheIds.indexOf(b)&&a.textureCacheIds.push(b),d.BaseTextureCache[b]&&console.warn("BaseTexture added to the cache with an id ["+b+"] that already had an entry"),d.BaseTextureCache[b]=a)};c.removeFromCache=
function(a){if("string"===typeof a){var b=d.BaseTextureCache[a];if(b){var c=b.textureCacheIds.indexOf(a);-1<c&&b.textureCacheIds.splice(c,1);delete d.BaseTextureCache[a];return b}}else if(a&&a.textureCacheIds){for(b=0;b<a.textureCacheIds.length;++b)delete d.BaseTextureCache[a.textureCacheIds[b]];a.textureCacheIds.length=0;return a}return null};return c}(k.default);h.default=c},{"../settings":110,"../utils":134,"../utils/determineCrossOrigin":133,"bit-twiddle":9,eventemitter3:199}],122:[function(c,
k,h){function g(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}h.__esModule=!0;var p=(k=c("./BaseRenderTexture"))&&k.__esModule?k:{default:k};c=c("./Texture");c=function(d){function c(b,a,f,e,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var l=null;if(!(b instanceof p.default)){var h=a;console.warn("Please use RenderTexture.create("+h+", "+f+") instead of the ctor directly.");l=b;a=null;b=new p.default(h,f,e,g)}b=d.call(this,b,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.legacyRenderer=l;b.valid=!0;b._updateUvs();return b}g(c,d);c.prototype.resize=function(b,a,d){b=Math.ceil(b);a=Math.ceil(a);this.valid=0<b&&0<a;this._frame.width=
this.orig.width=b;this._frame.height=this.orig.height=a;d||this.baseTexture.resize(b,a);this._updateUvs()};c.create=function(b,a,d,e){return new c(new p.default(b,a,d,e))};return c}((c&&c.__esModule?c:{default:c}).default);h.default=c},{"./BaseRenderTexture":120,"./Texture":124}],123:[function(c,k,h){h.__esModule=!0;var g=function(){function d(b,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}
return function(b,a,c){a&&d(b.prototype,a);c&&d(b,c);return b}}(),p=c("../"),d=c("../utils");c=function(){function c(b,a){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.baseTexture=b;this.textures={};this.data=a;this.resolution=this._updateResolution(d||this.baseTexture.imageUrl);this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null}g(c,
null,[{key:"BATCH_SIZE",get:function(){return 1E3}}]);c.prototype._updateResolution=function(b){var a=this.data.meta.scale;b=(0,d.getResolutionOfUrl)(b,null);null===b&&(b=void 0!==a?parseFloat(a):1);1!==b&&(this.baseTexture.resolution=b,this.baseTexture.update());return b};c.prototype.parse=function(b){this._batchIndex=0;this._callback=b;this._frameKeys.length<=c.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()};c.prototype._processFrames=function(b){for(var a=b,d=c.BATCH_SIZE,
e=this.baseTexture.sourceScale;a-b<d&&a<this._frameKeys.length;){var g=this._frameKeys[a],m=this._frames[g],h=m.frame;if(h){var k=null;var v=!1!==m.trimmed&&m.sourceSize?m.sourceSize:m.frame;var u=new p.Rectangle(0,0,Math.floor(v.w*e)/this.resolution,Math.floor(v.h*e)/this.resolution);v=m.rotated?new p.Rectangle(Math.floor(h.x*e)/this.resolution,Math.floor(h.y*e)/this.resolution,Math.floor(h.h*e)/this.resolution,Math.floor(h.w*e)/this.resolution):new p.Rectangle(Math.floor(h.x*e)/this.resolution,
Math.floor(h.y*e)/this.resolution,Math.floor(h.w*e)/this.resolution,Math.floor(h.h*e)/this.resolution);!1!==m.trimmed&&m.spriteSourceSize&&(k=new p.Rectangle(Math.floor(m.spriteSourceSize.x*e)/this.resolution,Math.floor(m.spriteSourceSize.y*e)/this.resolution,Math.floor(h.w*e)/this.resolution,Math.floor(h.h*e)/this.resolution));this.textures[g]=new p.Texture(this.baseTexture,v,u,k,m.rotated?2:0);p.Texture.addToCache(this.textures[g],g)}a++}};c.prototype._parseComplete=function(){var b=this._callback;
this._callback=null;this._batchIndex=0;b.call(this,this.textures)};c.prototype._nextBatch=function(){var b=this;this._processFrames(this._batchIndex*c.BATCH_SIZE);this._batchIndex++;setTimeout(function(){b._batchIndex*c.BATCH_SIZE<b._frameKeys.length?b._nextBatch():b._parseComplete()},0)};c.prototype.destroy=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,a;for(a in this.textures)this.textures[a].destroy();this.textures=this.data=this._frameKeys=this._frames=null;b&&this.baseTexture.destroy();
this.baseTexture=null};return c}();h.default=c},{"../":74,"../utils":134}],124:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function d(a){a.destroy=function(){};a.on=
function(){};a.once=function(){};a.emit=function(){}}h.__esModule=!0;var e=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();k=c("./BaseTexture");var b=g(k);k=c("./VideoBaseTexture");var a=g(k);k=c("./TextureUvs");var f=g(k);k=c("eventemitter3");k=g(k);var l=c("../math"),r=c("../utils");c=c("../settings");var m=
g(c),q=function(d){function c(a,b,f,e,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var m=d.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.noFrame=!1;b||(m.noFrame=!0,b=new l.Rectangle(0,0,1,1));a instanceof c&&(a=a.baseTexture);m.baseTexture=a;m._frame=b;m.trim=e;m.valid=!1;m.requiresUpdate=!1;m._uvs=null;m.orig=f||b;m._rotate=Number(g||0);if(!0===
g)m._rotate=2;else if(0!==m._rotate%2)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");if(a.hasLoaded)m.noFrame&&(b=new l.Rectangle(0,0,a.width,a.height),a.on("update",m.onBaseTextureUpdated,m)),m.frame=b;else a.once("loaded",m.onBaseTextureLoaded,m);m._updateID=0;m.transform=null;m.textureCacheIds=[];return m}p(c,d);c.prototype.update=function(){this.baseTexture.update()};c.prototype.onBaseTextureLoaded=function(a){this._updateID++;this.frame=this.noFrame?
new l.Rectangle(0,0,a.width,a.height):this._frame;this.baseTexture.on("update",this.onBaseTextureUpdated,this);this.emit("update",this)};c.prototype.onBaseTextureUpdated=function(a){this._updateID++;this._frame.width=a.width;this._frame.height=a.height;this.emit("update",this)};c.prototype.destroy=function(a){this.baseTexture&&(a&&(r.TextureCache[this.baseTexture.imageUrl]&&c.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,
this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null);this.orig=this.trim=this._uvs=this._frame=null;this.valid=!1;c.removeFromCache(this);this.textureCacheIds=null};c.prototype.clone=function(){return new c(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)};c.prototype._updateUvs=function(){this._uvs||(this._uvs=new f.default);this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++};c.fromImage=function(a,d,f,e){var l=r.TextureCache[a];
l||(l=new c(b.default.fromImage(a,d,f,e)),c.addToCache(l,a));return l};c.fromFrame=function(a){var b=r.TextureCache[a];if(!b)throw Error('The frameId "'+a+'" does not exist in the texture cache');return b};c.fromCanvas=function(a,d){return new c(b.default.fromCanvas(a,d,2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas"))};c.fromVideo=function(b,d){return"string"===typeof b?c.fromVideoUrl(b,d):new c(a.default.fromVideo(b,d))};c.fromVideoUrl=function(b,d){return new c(a.default.fromUrl(b,
d))};c.from=function(a){if("string"===typeof a){var d=r.TextureCache[a];return d?d:null!==a.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?c.fromVideoUrl(a):c.fromImage(a)}return a instanceof HTMLImageElement?new c(b.default.from(a)):a instanceof HTMLCanvasElement?c.fromCanvas(a,m.default.SCALE_MODE,"HTMLCanvasElement"):a instanceof HTMLVideoElement?c.fromVideo(a):a instanceof b.default?new c(a):a};c.fromLoader=function(a,d,f){a=new b.default(a,void 0,(0,r.getResolutionOfUrl)(d));var e=new c(a);a.imageUrl=
d;f||(f=d);b.default.addToCache(e.baseTexture,f);c.addToCache(e,f);f!==d&&(b.default.addToCache(e.baseTexture,d),c.addToCache(e,d));return e};c.addToCache=function(a,b){b&&(-1===a.textureCacheIds.indexOf(b)&&a.textureCacheIds.push(b),r.TextureCache[b]&&console.warn("Texture added to the cache with an id ["+b+"] that already had an entry"),r.TextureCache[b]=a)};c.removeFromCache=function(a){if("string"===typeof a){var b=r.TextureCache[a];if(b){var d=b.textureCacheIds.indexOf(a);-1<d&&b.textureCacheIds.splice(d,
1);delete r.TextureCache[a];return b}}else if(a&&a.textureCacheIds){for(b=0;b<a.textureCacheIds.length;++b)r.TextureCache[a.textureCacheIds[b]]===a&&delete r.TextureCache[a.textureCacheIds[b]];a.textureCacheIds.length=0;return a}return null};e(c,[{key:"frame",get:function(){return this._frame},set:function(a){this._frame=a;this.noFrame=!1;var b=a.x,d=a.y,c=a.width,f=a.height,e=b+c>this.baseTexture.width,l=d+f>this.baseTexture.height;if(e||l)throw Error("Texture Error: frame does not fit inside the base Texture dimensions: "+
("X: "+b+" + "+c+" = "+(b+c)+" > "+this.baseTexture.width+" "+(e&&l?"and":"or")+" "+("Y: "+d+" + "+f+" = "+(d+f)+" > "+this.baseTexture.height)));this.valid=c&&f&&this.baseTexture.hasLoaded;this.trim||this.rotate||(this.orig=a);this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(a){this._rotate=a;this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]);return c}(k.default);
h.default=q;q.EMPTY=new q(new b.default);d(q.EMPTY);d(q.EMPTY.baseTexture);q.WHITE=function(){var a=document.createElement("canvas");a.width=10;a.height=10;var d=a.getContext("2d");d.fillStyle="white";d.fillRect(0,0,10,10);return new q(new b.default(a))}();d(q.WHITE);d(q.WHITE.baseTexture)},{"../math":79,"../settings":110,"../utils":134,"./BaseTexture":121,"./TextureUvs":126,"./VideoBaseTexture":127,eventemitter3:199}],125:[function(c,k,h){h.__esModule=!0;var g=function(){function d(b,a){for(var d=
0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,a,c){a&&d(b.prototype,a);c&&d(b,c);return b}}(),p=(c=c("../math/Matrix"))&&c.__esModule?c:{default:c},d=new p.default;c=function(){function c(b,a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._texture=b;this.mapCoord=new p.default;this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);
this._lastTextureID=-1;this.clampOffset=0;this.clampMargin="undefined"===typeof a?.5:a}c.prototype.multiplyUvs=function(b,a){void 0===a&&(a=b);for(var d=this.mapCoord,c=0;c<b.length;c+=2){var e=b[c],g=b[c+1];a[c]=e*d.a+g*d.c+d.tx;a[c+1]=e*d.b+g*d.d+d.ty}return a};c.prototype.update=function(b){var a=this._texture;if(!a||!a.valid||!b&&this._lastTextureID===a._updateID)return!1;this._lastTextureID=a._updateID;b=a._uvs;this.mapCoord.set(b.x1-b.x0,b.y1-b.y0,b.x3-b.x0,b.y3-b.y0,b.x0,b.y0);b=a.orig;var c=
a.trim;c&&(d.set(b.width/c.width,0,0,b.height/c.height,-c.x/c.width,-c.y/c.height),this.mapCoord.append(d));b=a.baseTexture;c=this.uClampFrame;var e=this.clampMargin/b.resolution,g=this.clampOffset;c[0]=(a._frame.x+e+g)/b.width;c[1]=(a._frame.y+e+g)/b.height;c[2]=(a._frame.x+a._frame.width-e+g)/b.width;c[3]=(a._frame.y+a._frame.height-e+g)/b.height;this.uClampOffset[0]=g/b.realWidth;this.uClampOffset[1]=g/b.realHeight;return!0};g(c,[{key:"texture",get:function(){return this._texture},set:function(b){this._texture=
b;this._lastTextureID=-1}}]);return c}();h.default=c},{"../math/Matrix":76}],126:[function(c,k,h){h.__esModule=!0;var g=(c=c("../math/GroupD8"))&&c.__esModule?c:{default:c};c=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.y0=this.x0=0;this.x1=1;this.y1=0;this.y2=this.x2=1;this.x3=0;this.y3=1;this.uvsUint32=new Uint32Array(4)}c.prototype.set=function(d,c,b){var a=c.width,f=c.height;if(b){c=d.width/2/a;var e=d.height/2/f;a=d.x/a+c;d=d.y/
f+e;b=g.default.add(b,g.default.NW);this.x0=a+c*g.default.uX(b);this.y0=d+e*g.default.uY(b);b=g.default.add(b,2);this.x1=a+c*g.default.uX(b);this.y1=d+e*g.default.uY(b);b=g.default.add(b,2);this.x2=a+c*g.default.uX(b);this.y2=d+e*g.default.uY(b);b=g.default.add(b,2);this.x3=a+c*g.default.uX(b);this.y3=d+e*g.default.uY(b)}else this.x0=d.x/a,this.y0=d.y/f,this.x1=(d.x+d.width)/a,this.y1=d.y/f,this.x2=(d.x+d.width)/a,this.y2=(d.y+d.height)/f,this.x3=d.x/a,this.y3=(d.y+d.height)/f;this.uvsUint32[0]=(65535*
this.y0&65535)<<16|65535*this.x0&65535;this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535;this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535;this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535};return c}();h.default=c},{"../math/GroupD8":75}],127:[function(c,k,h){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function p(a,b){b||(b="video/"+a.substr(a.lastIndexOf(".")+1));var d=document.createElement("source");d.src=a;d.type=b;return d}h.__esModule=!0;var d=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),
e=(k=c("./BaseTexture"))&&k.__esModule?k:{default:k},b=c("../utils"),a=c("../ticker"),f=c("../const"),l=(c=c("../utils/determineCrossOrigin"))&&c.__esModule?c:{default:c};c=function(c){function m(a,b){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");if(!a)throw Error("No video source element specified.");(a.readyState===a.HAVE_ENOUGH_DATA||a.readyState===a.HAVE_FUTURE_DATA)&&a.width&&a.height&&(a.complete=!0);b=c.call(this,a,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.width=a.videoWidth;b.height=a.videoHeight;b._autoUpdate=!0;b._isAutoUpdating=!1;b.autoPlay=!0;b.update=b.update.bind(b);b._onCanPlay=b._onCanPlay.bind(b);a.addEventListener("play",b._onPlayStart.bind(b));a.addEventListener("pause",b._onPlayStop.bind(b));b.hasLoaded=!1;b.__loaded=!1;b._isSourceReady()?b._onCanPlay():(a.addEventListener("canplay",b._onCanPlay),a.addEventListener("canplaythrough",b._onCanPlay));return b}g(m,c);m.prototype._isSourcePlaying=
function(){var a=this.source;return 0<a.currentTime&&!1===a.paused&&!1===a.ended&&2<a.readyState};m.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState};m.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay();!this._isAutoUpdating&&this.autoUpdate&&(a.shared.add(this.update,this,f.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)};m.prototype._onPlayStop=function(){this._isAutoUpdating&&(a.shared.remove(this.update,this),this._isAutoUpdating=
!1)};m.prototype._onCanPlay=function(){this.hasLoaded=!0;this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())};m.prototype.destroy=function(){this._isAutoUpdating&&a.shared.remove(this.update,this);this.source&&
this.source._pixiId&&(e.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load());c.prototype.destroy.call(this)};m.fromVideo=function(a,d){a._pixiId||(a._pixiId="video_"+(0,b.uid)());var c=b.BaseTextureCache[a._pixiId];c||(c=new m(a,d),e.default.addToCache(c,a._pixiId));return c};m.fromUrl=function(a,b,d){var c=document.createElement("video");c.setAttribute("webkit-playsinline","");c.setAttribute("playsinline","");var f=Array.isArray(a)?
a[0].src||a[0]:a.src||a;void 0===d&&0!==f.indexOf("data:")?c.crossOrigin=(0,l.default)(f):d&&(c.crossOrigin="string"===typeof d?d:"anonymous");if(Array.isArray(a))for(d=0;d<a.length;++d)c.appendChild(p(a[d].src||a[d],a[d].mime));else c.appendChild(p(f,a.mime));c.load();return m.fromVideo(c,b)};d(m,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(b){b!==this._autoUpdate&&(this._autoUpdate=b,!this._autoUpdate&&this._isAutoUpdating?(a.shared.remove(this.update,this),this._isAutoUpdating=
!1):this._autoUpdate&&!this._isAutoUpdating&&(a.shared.add(this.update,this,f.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]);return m}(e.default);h.default=c;c.fromUrls=c.fromUrl},{"../const":55,"../ticker":130,"../utils":134,"../utils/determineCrossOrigin":133,"./BaseTexture":121}],128:[function(c,k,h){h.__esModule=!0;var g=function(){function b(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,
c)}}return function(a,d,c){d&&b(a.prototype,d);c&&b(a,c);return a}}(),p=(k=c("../settings"))&&k.__esModule?k:{default:k},d=c("../const"),e=(c=c("./TickerListener"))&&c.__esModule?c:{default:c};c=function(){function b(){var a=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._head=new e.default(null,null,Infinity);this._requestId=null;this._maxElapsedMS=100;this.autoStart=!1;this.deltaTime=1;this.elapsedMS=1/p.default.TARGET_FPMS;this.lastTime=-1;this.speed=
1;this.started=!1;this._tick=function(b){a._requestId=null;a.started&&(a.update(b),a.started&&null===a._requestId&&a._head.next&&(a._requestId=requestAnimationFrame(a._tick)))}}b.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};b.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)};b.prototype._startIfPossible=function(){this.started?
this._requestIfNeeded():this.autoStart&&this.start()};b.prototype.add=function(a,b){return this._addListener(new e.default(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:d.UPDATE_PRIORITY.NORMAL))};b.prototype.addOnce=function(a,b){return this._addListener(new e.default(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:d.UPDATE_PRIORITY.NORMAL,!0))};b.prototype._addListener=function(a){var b=this._head.next,d=this._head;if(b){for(;b;){if(a.priority>b.priority){a.connect(d);break}d=
b;b=b.next}a.previous||a.connect(d)}else a.connect(d);this._startIfPossible();return this};b.prototype.remove=function(a,b){for(var d=this._head.next;d;)d=d.match(a,b)?d.destroy():d.next;this._head.next||this._cancelIfNeeded();return this};b.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};b.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};b.prototype.destroy=function(){this.stop();for(var a=this._head.next;a;)a=a.destroy(!0);this._head.destroy();
this._head=null};b.prototype.update=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now();if(a>this.lastTime){var b=this.elapsedMS=a-this.lastTime;b>this._maxElapsedMS&&(b=this._maxElapsedMS);this.deltaTime=b*p.default.TARGET_FPMS*this.speed;b=this._head;for(var d=b.next;d;)d=d.emit(this.deltaTime);b.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=a};g(b,[{key:"FPS",get:function(){return 1E3/this.elapsedMS}},{key:"minFPS",get:function(){return 1E3/
this._maxElapsedMS},set:function(a){this._maxElapsedMS=1/Math.min(Math.max(0,a)/1E3,p.default.TARGET_FPMS)}}]);return b}();h.default=c},{"../const":55,"../settings":110,"./TickerListener":129}],129:[function(c,k,h){h.__esModule=!0;c=function(){function c(g){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,b=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.fn=g;this.context=d;this.priority=e;this.once=b;this.previous=this.next=null;this._destroyed=!1}c.prototype.match=function(c,d){return this.fn===c&&this.context===(d||null)};c.prototype.emit=function(c){this.fn&&(this.context?this.fn.call(this.context,c):this.fn(c));c=this.next;this.once&&this.destroy(!0);this._destroyed&&(this.next=null);return c};c.prototype.connect=function(c){this.previous=c;c.next&&(c.next.previous=this);this.next=c.next;c.next=this};c.prototype.destroy=function(){var c=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this._destroyed=!0;this.context=this.fn=null;this.previous&&(this.previous.next=this.next);this.next&&(this.next.previous=this.previous);var d=this.next;this.next=c?null:d;this.previous=null;return d};return c}();h.default=c},{}],130:[function(c,k,h){h.__esModule=!0;h.Ticker=h.shared=void 0;c=(c=c("./Ticker"))&&c.__esModule?c:{default:c};k=new c.default;k.autoStart=!0;k.destroy=function(){};h.shared=k;h.Ticker=c.default},{"./Ticker":128}],
131:[function(c,k,h){h.__esModule=!0;h.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},{}],132:[function(c,k,h){h.__esModule=!0;h.default=function(c){c*=6;for(var g=new Uint16Array(c),d=0,e=0;d<c;d+=6,e+=4)g[d+0]=e+0,g[d+1]=e+1,g[d+2]=e+2,g[d+3]=e+0,g[d+4]=e+2,g[d+5]=e+3;return g}},{}],133:[function(c,k,h){h.__esModule=!0;h.default=function(d){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===d.indexOf("data:"))return"";
c=c||window.location;p||(p=document.createElement("a"));p.href=d;d=g.default.parse(p.href);var b=!d.port&&""===c.port||d.port===c.port;return d.hostname===c.hostname&&b&&d.protocol===c.protocol?"":"anonymous"};var g=(c=c("url"))&&c.__esModule?c:{default:c},p=void 0},{url:7}],134:[function(c,k,h){function g(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}function p(a){return a&&a.__esModule?a:{default:a}}
h.__esModule=!0;h.premultiplyBlendMode=h.BaseTextureCache=h.TextureCache=h.earcut=h.mixins=h.pluginTarget=h.EventEmitter=h.removeItems=h.isMobile=void 0;h.uid=function(){return++m};h.hex2rgb=function(a,b){b=b||[];b[0]=(a>>16&255)/255;b[1]=(a>>8&255)/255;b[2]=(a&255)/255;return b};h.hex2string=function(a){a=a.toString(16);a="000000".substr(0,6-a.length)+a;return"#"+a};h.rgb2hex=function(a){return(255*a[0]<<16)+(255*a[1]<<8)+(255*a[2]|0)};h.getResolutionOfUrl=function(a,b){return(a=e.default.RETINA_PREFIX.exec(a))?
parseFloat(a[1]):void 0!==b?b:1};h.decomposeDataUri=function(a){if(a=d.DATA_URI.exec(a))return{mediaType:a[1]?a[1].toLowerCase():void 0,subType:a[2]?a[2].toLowerCase():void 0,charset:a[3]?a[3].toLowerCase():void 0,encoding:a[4]?a[4].toLowerCase():void 0,data:a[5]}};h.getUrlFileExtension=function(a){if(a=d.URL_FILE_EXTENSION.exec(a))return a[1].toLowerCase()};h.getSvgSize=function(a){a=d.SVG_SIZE.exec(a);var b={};a&&(b[a[1]]=Math.round(parseFloat(a[3])),b[a[5]]=Math.round(parseFloat(a[7])));return b};
h.skipHello=function(){q=!0};h.sayHello=function(a){q||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?window.console.log.apply(console,["\n %c %c %c PixiJS "+d.VERSION+" - \u2730 "+a+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;",
"color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("PixiJS "+d.VERSION+" - "+a+" - http://www.pixijs.com/"),q=!0)};h.isWebGLSupported=function(){var a={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var b=document.createElement("canvas"),d=b.getContext("webgl",a)||b.getContext("experimental-webgl",a),c=!(!d||!d.getContextAttributes().stencil);
if(d){var f=d.getExtension("WEBGL_lose_context");f&&f.loseContext()}return c}catch(D){return!1}};h.sign=function(a){return 0===a?0:0>a?-1:1};h.destroyTextureCache=function(){var a=void 0;for(a in y)y[a].destroy();for(a in v)v[a].destroy()};h.clearTextureCache=function(){var a=void 0;for(a in y)delete y[a];for(a in v)delete v[a]};h.correctBlendMode=function(a,b){return u[b?1:0][a]};h.premultiplyTint=function(a,b){return 1===b?(255*b<<24)+a:0===b?0:(255*b<<24)+(((a>>16&255)*b+.5|0)<<16)+(((a>>8&255)*
b+.5|0)<<8)+((a&255)*b+.5|0)};h.premultiplyRgba=function(a,b,d,c){d=d||new Float32Array(4);c||void 0===c?(d[0]=a[0]*b,d[1]=a[1]*b,d[2]=a[2]*b):(d[0]=a[0],d[1]=a[1],d[2]=a[2]);d[3]=b;return d};h.premultiplyTintToRgba=function(a,b,d,c){d=d||new Float32Array(4);d[0]=(a>>16&255)/255;d[1]=(a>>8&255)/255;d[2]=(a&255)/255;if(c||void 0===c)d[0]*=b,d[1]*=b,d[2]*=b;d[3]=b;return d};var d=c("../const");k=c("../settings");var e=p(k);k=c("eventemitter3");k=p(k);var b=c("./pluginTarget");b=p(b);var a=c("./mixin");
a=g(a);var f=c("ismobilejs");f=g(f);var l=c("remove-array-items");l=p(l);var r=c("./mapPremultipliedBlendModes");r=p(r);c=c("earcut");c=p(c);var m=0,q=!1;h.isMobile=f;h.removeItems=l.default;h.EventEmitter=k.default;h.pluginTarget=b.default;h.mixins=a;h.earcut=c.default;var y=h.TextureCache=Object.create(null),v=h.BaseTextureCache=Object.create(null),u=h.premultiplyBlendMode=(0,r.default)()},{"../const":55,"../settings":110,"./mapPremultipliedBlendModes":135,"./mixin":137,"./pluginTarget":138,earcut:10,
eventemitter3:199,ismobilejs:11,"remove-array-items":200}],135:[function(c,k,h){h.__esModule=!0;h.default=function(){for(var c=[],d=[],e=0;32>e;e++)c[e]=e,d[e]=e;c[g.BLEND_MODES.NORMAL_NPM]=g.BLEND_MODES.NORMAL;c[g.BLEND_MODES.ADD_NPM]=g.BLEND_MODES.ADD;c[g.BLEND_MODES.SCREEN_NPM]=g.BLEND_MODES.SCREEN;d[g.BLEND_MODES.NORMAL]=g.BLEND_MODES.NORMAL_NPM;d[g.BLEND_MODES.ADD]=g.BLEND_MODES.ADD_NPM;d[g.BLEND_MODES.SCREEN]=g.BLEND_MODES.SCREEN_NPM;e=[];e.push(d);e.push(c);return e};var g=c("../const")},{"../const":55}],
136:[function(c,k,h){h.__esModule=!0;h.default=function(c){return g.default.tablet||g.default.phone?4:c};var g=(c=c("ismobilejs"))&&c.__esModule?c:{default:c}},{ismobilejs:11}],137:[function(c,k,h){function g(d,c){if(d&&c)for(var b=Object.keys(c),a=0;a<b.length;++a){var f=b[a];Object.defineProperty(d,f,Object.getOwnPropertyDescriptor(c,f))}}h.__esModule=!0;h.mixin=g;h.delayMixin=function(d,c){p.push(d,c)};h.performMixins=function(){for(var d=0;d<p.length;d+=2)g(p[d],p[d+1]);p.length=0};var p=[]},
{}],138:[function(c,k,h){function g(c){c.__plugins={};c.registerPlugin=function(d,e){c.__plugins[d]=e};c.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var d in c.__plugins)this.plugins[d]=new c.__plugins[d](this)};c.prototype.destroyPlugins=function(){for(var d in this.plugins)this.plugins[d].destroy(),this.plugins[d]=null;this.plugins=null}}h.__esModule=!0;h.default={mixin:function(c){g(c)}}},{}],139:[function(c,k,h){h.__esModule=!0;h.default=function(c){var g=c.width,d=c.height;
c=c.getContext("2d");d=c.getImageData(0,0,g,d).data;var e=d.length,b=null,a=null,f=null,l=null,h;for(h=0;h<e;h+=4)if(0!==d[h+3]){var m=h/4%g;var q=~~(h/4/g);null===b&&(b=q);null===a?a=m:m<a&&(a=m);null===f?f=m+1:f<m&&(f=m+1);null===l?l=q:l<q&&(l=q)}g=f-a;d=l-b+1;c=c.getImageData(a,b,g,d);return{height:d,width:g,data:c}}},{}],140:[function(c,k,h){function g(d){if(!p[d]){var c=Error().stack;"undefined"===typeof c?console.warn("Deprecation Warning: ",d):(c=c.split("\n").splice(3).join("\n"),console.groupCollapsed?
(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",d),console.warn(c),console.groupEnd()):(console.warn("Deprecation Warning: ",d),console.warn(c)));p[d]=!0}}h.__esModule=!0;h.default=function(d){var c=d.mesh,b=d.particles,a=d.extras,f=d.filters,l=d.prepare,h=d.loaders,m=d.interaction;Object.defineProperties(d,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.");
}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.");}},Stage:{get:function(){g("You do not need to use a PIXI Stage any more, you can simply render any container.");return d.Container}},DisplayObjectContainer:{get:function(){g("DisplayObjectContainer has been shortened to Container, please use Container from now on.");return d.Container}},Strip:{get:function(){g("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");
return c.Mesh}},Rope:{get:function(){g("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");return c.Rope}},ParticleContainer:{get:function(){g("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.");return b.ParticleContainer}},MovieClip:{get:function(){g("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.");return a.AnimatedSprite}},TilingSprite:{get:function(){g("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.");
return a.TilingSprite}},BitmapText:{get:function(){g("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.");return a.BitmapText}},blendModes:{get:function(){g("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");return d.BLEND_MODES}},scaleModes:{get:function(){g("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");return d.SCALE_MODES}},BaseTextureCache:{get:function(){g("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.");
return d.utils.BaseTextureCache}},TextureCache:{get:function(){g("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.");return d.utils.TextureCache}},math:{get:function(){g("The math namespace is deprecated, please access members already accessible on PIXI.");return d}},AbstractFilter:{get:function(){g("AstractFilter has been renamed to Filter, please use PIXI.Filter");return d.Filter}},TransformManual:{get:function(){g("TransformManual has been renamed to TransformBase, please update your pixi-spine");
return d.TransformBase}},TARGET_FPMS:{get:function(){g("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");return d.settings.TARGET_FPMS},set:function(a){g("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");d.settings.TARGET_FPMS=a}},FILTER_RESOLUTION:{get:function(){g("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");return d.settings.FILTER_RESOLUTION},set:function(a){g("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");
d.settings.FILTER_RESOLUTION=a}},RESOLUTION:{get:function(){g("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");return d.settings.RESOLUTION},set:function(a){g("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");d.settings.RESOLUTION=a}},MIPMAP_TEXTURES:{get:function(){g("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");return d.settings.MIPMAP_TEXTURES},set:function(a){g("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");
d.settings.MIPMAP_TEXTURES=a}},SPRITE_BATCH_SIZE:{get:function(){g("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");return d.settings.SPRITE_BATCH_SIZE},set:function(a){g("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");d.settings.SPRITE_BATCH_SIZE=a}},SPRITE_MAX_TEXTURES:{get:function(){g("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");return d.settings.SPRITE_MAX_TEXTURES},
set:function(a){g("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");d.settings.SPRITE_MAX_TEXTURES=a}},RETINA_PREFIX:{get:function(){g("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");return d.settings.RETINA_PREFIX},set:function(a){g("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");d.settings.RETINA_PREFIX=a}},DEFAULT_RENDER_OPTIONS:{get:function(){g("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS");
return d.settings.RENDER_OPTIONS}}});for(var q=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],p=function(a){var b=q[a];Object.defineProperty(d[b.parent],"DEFAULT",{get:function(){g("PIXI."+b.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+b.target));return d.settings[b.target]},set:function(a){g("PIXI."+
b.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+b.target));d.settings[b.target]=a}})},k=0;k<q.length;k++)p(k);Object.defineProperties(d.settings,{PRECISION:{get:function(){g("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");return d.settings.PRECISION_FRAGMENT},set:function(a){g("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");d.settings.PRECISION_FRAGMENT=a}}});a.AnimatedSprite&&Object.defineProperties(a,
{MovieClip:{get:function(){g("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.");return a.AnimatedSprite}}});a&&Object.defineProperties(a,{TextureTransform:{get:function(){g("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on.");return d.TextureMatrix}}});d.DisplayObject.prototype.generateTexture=function(a,b,d){g("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");
return a.generateTexture(this,b,d)};d.Graphics.prototype.generateTexture=function(a,b){g("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture");return this.generateCanvasTexture(a,b)};d.GroupD8.isSwapWidthHeight=function(a){g("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical");return d.GroupD8.isVertical(a)};d.RenderTexture.prototype.render=function(a,b,d,c){this.legacyRenderer.render(a,this,d,b,!c);g("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")};
d.RenderTexture.prototype.getImage=function(a){g("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");return this.legacyRenderer.extract.image(a)};d.RenderTexture.prototype.getBase64=function(a){g("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");return this.legacyRenderer.extract.base64(a)};d.RenderTexture.prototype.getCanvas=function(a){g("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");
return this.legacyRenderer.extract.canvas(a)};d.RenderTexture.prototype.getPixels=function(a){g("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");return this.legacyRenderer.pixels(a)};d.Sprite.prototype.setTexture=function(a){this.texture=a;g("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")};a.BitmapText&&(a.BitmapText.prototype.setText=function(a){this.text=a;g("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});
d.Text.prototype.setText=function(a){this.text=a;g("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")};d.Text.calculateFontProperties=function(a){g("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont");return d.TextMetrics.measureFont(a)};Object.defineProperties(d.Text,{fontPropertiesCache:{get:function(){g("Text.fontPropertiesCache is deprecated");return d.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){g("Text.fontPropertiesCanvas is deprecated");
return d.TextMetrics._canvas}},fontPropertiesContext:{get:function(){g("Text.fontPropertiesContext is deprecated");return d.TextMetrics._context}}});d.Text.prototype.setStyle=function(a){this.style=a;g("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")};d.Text.prototype.determineFontProperties=function(a){g("determineFontProperties is now deprecated, please use TextMetrics.measureFont method");return d.TextMetrics.measureFont(a)};d.Text.getFontStyle=function(a){g("getFontStyle is now deprecated, please use TextStyle.toFontString() instead");
a=a||{};a instanceof d.TextStyle||(a=new d.TextStyle(a));return a.toFontString()};Object.defineProperties(d.TextStyle.prototype,{font:{get:function(){g("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+("number"===typeof this._fontSize?this._fontSize+"px":this._fontSize)+" "+this._fontFamily},set:function(a){g("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");
1<a.indexOf("italic")?this._fontStyle="italic":-1<a.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal";-1<a.indexOf("small-caps")?this._fontVariant="small-caps":this._fontVariant="normal";a=a.split(" ");var b=-1;this._fontSize=26;for(var d=0;d<a.length;++d)if(a[d].match(/(px|pt|em|%)/)){b=d;this._fontSize=a[d];break}this._fontWeight="normal";for(d=0;d<b;++d)if(a[d].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=a[d];break}if(-1<b&&b<a.length-
1){this._fontFamily="";for(b+=1;b<a.length;++b)this._fontFamily+=a[b]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}});d.Texture.prototype.setFrame=function(a){this.frame=a;g("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")};d.Texture.addTextureToCache=function(a,b){d.Texture.addToCache(a,b);g("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")};d.Texture.removeTextureFromCache=
function(a){g("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache");d.BaseTexture.removeFromCache(a);return d.Texture.removeFromCache(a)};Object.defineProperties(f,{AbstractFilter:{get:function(){g("AstractFilter has been renamed to Filter, please use PIXI.Filter");return d.AbstractFilter}},SpriteMaskFilter:{get:function(){g("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");
return d.SpriteMaskFilter}},VoidFilter:{get:function(){g("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter");return f.AlphaFilter}}});d.utils.uuid=function(){g("utils.uuid() is deprecated, please use utils.uid() from now on.");return d.utils.uid()};d.utils.canUseNewCanvasBlendModes=function(){g("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");return d.CanvasTinter.canUseMultiply};var u=!0;Object.defineProperty(d.utils,
"_saidHello",{set:function(a){a&&(g("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello());u=a},get:function(){return u}});l.BasePrepare&&(l.BasePrepare.prototype.register=function(a,b){g("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook");a&&this.registerFindHook(a);b&&this.registerUploadHook(b);return this});l.canvas&&Object.defineProperty(l.canvas,"UPLOADS_PER_FRAME",
{set:function(){g("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){g("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});l.webgl&&Object.defineProperty(l.webgl,"UPLOADS_PER_FRAME",{set:function(){g("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},
get:function(){g("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});if(h.Loader){var A=h.Resource;l=h.Loader;Object.defineProperties(A.prototype,{isJson:{get:function(){g("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.");return this.type===A.TYPE.JSON}},isXml:{get:function(){g("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.");return this.type===A.TYPE.XML}},isImage:{get:function(){g("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.");
return this.type===A.TYPE.IMAGE}},isAudio:{get:function(){g("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.");return this.type===A.TYPE.AUDIO}},isVideo:{get:function(){g("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.");return this.type===A.TYPE.VIDEO}}});Object.defineProperties(l.prototype,{before:{get:function(){g("The before() method is deprecated, please use pre().");return this.pre}},after:{get:function(){g("The after() method is deprecated, please use use().");
return this.use}}})}m.interactiveTarget&&Object.defineProperty(m.interactiveTarget,"defaultCursor",{set:function(a){g("Property defaultCursor has been replaced with 'cursor'. ");this.cursor=a},get:function(){g("Property defaultCursor has been replaced with 'cursor'. ");return this.cursor}});m.InteractionManager&&(Object.defineProperty(m.InteractionManager,"defaultCursorStyle",{set:function(a){g("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");this.cursorStyles.default=
a},get:function(){g("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");return this.cursorStyles.default}}),Object.defineProperty(m.InteractionManager,"currentCursorStyle",{set:function(a){g("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.");this.currentCursorMode=a},get:function(){g("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.");return this.currentCursorMode}}))};
var p={}},{}],141:[function(c,k,h){h.__esModule=!0;var g=function(d){if(d&&d.__esModule)return d;var c={};if(null!=d)for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(c[b]=d[b]);c.default=d;return c}(c("../../core")),p=new g.Rectangle;c=function(){function d(c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.renderer=c;c.extract=this}d.prototype.image=function(d){var b=new Image;b.src=this.base64(d);return b};d.prototype.base64=function(d){return this.canvas(d).toDataURL()};
d.prototype.canvas=function(d){var b=this.renderer,a=void 0,c=void 0;d&&(c=d instanceof g.RenderTexture?d:b.generateTexture(d));c?(d=c.baseTexture._canvasRenderTarget.context,a=c.baseTexture._canvasRenderTarget.resolution,b=c.frame):(d=b.rootContext,b=p,b.width=this.renderer.width,b.height=this.renderer.height);var e=b.width*a,h=b.height*a;c=new g.CanvasRenderTarget(e,h);a=d.getImageData(b.x*a,b.y*a,e,h);c.context.putImageData(a,0,0);return c.canvas};d.prototype.pixels=function(d){var b=this.renderer,
a=void 0;var c=void 0;d&&(c=d instanceof g.RenderTexture?d:b.generateTexture(d));c?(d=c.baseTexture._canvasRenderTarget.context,a=c.baseTexture._canvasRenderTarget.resolution,c=c.frame):(d=b.rootContext,c=p,c.width=b.width,c.height=b.height);return d.getImageData(0,0,c.width*a,c.height*a).data};d.prototype.destroy=function(){this.renderer=this.renderer.extract=null};return d}();h.default=c;g.CanvasRenderer.registerPlugin("extract",c)},{"../../core":74}],142:[function(c,k,h){h.__esModule=!0;var g=
c("./webgl/WebGLExtract");Object.defineProperty(h,"webgl",{enumerable:!0,get:function(){return(g&&g.__esModule?g:{default:g}).default}});var p=c("./canvas/CanvasExtract");Object.defineProperty(h,"canvas",{enumerable:!0,get:function(){return(p&&p.__esModule?p:{default:p}).default}})},{"./canvas/CanvasExtract":141,"./webgl/WebGLExtract":143}],143:[function(c,k,h){h.__esModule=!0;var g=function(d){if(d&&d.__esModule)return d;var c={};if(null!=d)for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&
(c[b]=d[b]);c.default=d;return c}(c("../../core")),p=new g.Rectangle;c=function(){function d(c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.renderer=c;c.extract=this}d.prototype.image=function(d){var b=new Image;b.src=this.base64(d);return b};d.prototype.base64=function(d){return this.canvas(d).toDataURL()};d.prototype.canvas=function(d){var b=this.renderer,a=void 0,c=!1;d&&(d instanceof g.RenderTexture?a=d:(a=this.renderer.generateTexture(d),c=!0));if(a){var e=
a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];var h=e.resolution;var m=a.frame;d=!1}else e=this.renderer.rootRenderTarget,h=e.resolution,d=!0,m=p,m.width=e.size.width,m.height=e.size.height;var q=m.width*h,k=m.height*h,v=new g.CanvasRenderTarget(q,k);e&&(b.bindRenderTarget(e),e=new Uint8Array(4*q*k),b=b.gl,b.readPixels(m.x*h,m.y*h,q,k,b.RGBA,b.UNSIGNED_BYTE,e),b=v.context.getImageData(0,0,q,k),b.data.set(e),v.context.putImageData(b,0,0),d&&(v.context.scale(1,-1),v.context.drawImage(v.canvas,
0,-k)));c&&a.destroy(!0);return v.canvas};d.prototype.pixels=function(d){var b=this.renderer,a=void 0,c=!1;d&&(d instanceof g.RenderTexture?a=d:(a=this.renderer.generateTexture(d),c=!0));if(a){var e=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];d=e.resolution;var h=a.frame}else e=this.renderer.rootRenderTarget,d=e.resolution,h=p,h.width=e.size.width,h.height=e.size.height;var m=h.width*d,q=h.height*d,k=new Uint8Array(4*m*q);e&&(b.bindRenderTarget(e),b=b.gl,b.readPixels(h.x*d,h.y*d,m,q,
b.RGBA,b.UNSIGNED_BYTE,k));c&&a.destroy(!0);return k};d.prototype.destroy=function(){this.renderer=this.renderer.extract=null};return d}();h.default=c;g.WebGLRenderer.registerPlugin("extract",c)},{"../../core":74}],144:[function(c,k,h){function g(d,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?
Object.setPrototypeOf(d,b):d.__proto__=b)}h.__esModule=!0;var p=function(){function d(b,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,a,c){a&&d(b.prototype,a);c&&d(b,c);return b}}(),d=function(d){if(d&&d.__esModule)return d;var b={};if(null!=d)for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(b[a]=d[a]);b.default=d;return b}(c("../core"));c=function(c){function b(a,
f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e=c.call(this,a[0]instanceof d.Texture?a[0]:a[0].texture);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e._textures=null;e._durations=null;e.textures=a;e._autoUpdate=!1!==f;e.animationSpeed=1;e.loop=!0;e.onComplete=null;e.onFrameChange=null;e.onLoop=null;e._currentTime=0;e.playing=!1;return e}g(b,c);b.prototype.stop=
function(){this.playing&&(this.playing=!1,this._autoUpdate&&d.ticker.shared.remove(this.update,this))};b.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&d.ticker.shared.add(this.update,this,d.UPDATE_PRIORITY.HIGH))};b.prototype.gotoAndStop=function(a){this.stop();var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture()};b.prototype.gotoAndPlay=function(a){var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture();
this.play()};b.prototype.update=function(a){var b=this.animationSpeed*a,d=this.currentFrame;if(null!==this._durations){var c=this._currentTime%1*this._durations[this.currentFrame];for(c+=b/60*1E3;0>c;)this._currentTime--,c+=this._durations[this.currentFrame];a=Math.sign(this.animationSpeed*a);for(this._currentTime=Math.floor(this._currentTime);c>=this._durations[this.currentFrame];)c-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=c/this._durations[this.currentFrame]}else this._currentTime+=
b;if(0>this._currentTime&&!this.loop){if(this.gotoAndStop(0),this.onComplete)this.onComplete()}else if(this._currentTime>=this._textures.length&&!this.loop){if(this.gotoAndStop(this._textures.length-1),this.onComplete)this.onComplete()}else if(d!==this.currentFrame){if(this.loop&&this.onLoop)if(0<this.animationSpeed&&this.currentFrame<d)this.onLoop();else if(0>this.animationSpeed&&this.currentFrame>d)this.onLoop();this.updateTexture()}};b.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame];
this._textureID=-1;this.cachedTint=16777215;if(this.onFrameChange)this.onFrameChange(this.currentFrame)};b.prototype.destroy=function(a){this.stop();c.prototype.destroy.call(this,a)};b.fromFrames=function(a){for(var c=[],e=0;e<a.length;++e)c.push(d.Texture.fromFrame(a[e]));return new b(c)};b.fromImages=function(a){for(var c=[],e=0;e<a.length;++e)c.push(d.Texture.fromImage(a[e]));return new b(c)};p(b,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},
set:function(a){if(a[0]instanceof d.Texture)this._textures=a,this._durations=null;else{this._textures=[];this._durations=[];for(var b=0;b<a.length;b++)this._textures.push(a[b].texture),this._durations.push(a[b].time)}this.gotoAndStop(0);this.updateTexture()}},{key:"currentFrame",get:function(){var a=Math.floor(this._currentTime)%this._textures.length;0>a&&(a+=this._textures.length);return a}}]);return b}(d.Sprite);h.default=c},{"../core":74}],145:[function(c,k,h){function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var d=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=
!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}(c("../core")),b=(k=c("../core/math/ObservablePoint"))&&k.__esModule?k:{default:k},a=c("../core/utils"),f=(c=c("../core/settings"))&&c.__esModule?c:{default:c};c=function(c){function l(a){var d=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:{};if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var f=g(this,c.call(this));f._textWidth=0;f._textHeight=0;f._glyphs=[];f._font={tint:void 0!==d.tint?d.tint:16777215,align:d.align||"left",name:null,size:0};f.font=d.font;f._text=a;f._maxWidth=0;f._maxLineHeight=0;f._letterSpacing=0;f._anchor=new b.default(function(){f.dirty=!0},f,0,0);f.dirty=!1;f.updateText();return f}p(l,c);l.prototype.updateText=function(){for(var a=l.fonts[this._font.name],
b=this._font.size/a.size,d=new e.Point,c=[],f=[],g=this.text.replace(/(?:\r\n|\r)/g,"\n"),h=g.length,r=this._maxWidth*a.size/this._font.size,p=null,k=0,D=0,C=0,H=-1,E=0,F=0,N=0,I=0;I<h;I++){var O=g.charCodeAt(I),P=g.charAt(I);/(?:\s)/.test(P)&&(H=I,E=k);if("\r"===P||"\n"===P)f.push(k),D=Math.max(D,k),++C,++F,d.x=0,d.y+=a.lineHeight,p=null;else if(P=a.chars[O])p&&P.kerning[p]&&(d.x+=P.kerning[p]),c.push({texture:P.texture,line:C,charCode:O,position:new e.Point(d.x+P.xOffset+this._letterSpacing/2,d.y+
P.yOffset)}),d.x+=P.xAdvance+this._letterSpacing,k=d.x,N=Math.max(N,P.yOffset+P.texture.height),p=O,-1!==H&&0<r&&d.x>r&&(++F,e.utils.removeItems(c,1+H-F,1+I-H),I=H,H=-1,f.push(E),D=Math.max(D,E),C++,d.x=0,d.y+=a.lineHeight,p=null)}g=g.charAt(g.length-1);"\r"!==g&&"\n"!==g&&(/(?:\s)/.test(g)&&(k=E),f.push(k),D=Math.max(D,k));k=[];for(E=0;E<=C;E++)g=0,"right"===this._font.align?g=D-f[E]:"center"===this._font.align&&(g=(D-f[E])/2),k.push(g);f=c.length;C=this.tint;for(E=0;E<f;E++)(g=this._glyphs[E])?
g.texture=c[E].texture:(g=new e.Sprite(c[E].texture),this._glyphs.push(g)),g.position.x=(c[E].position.x+k[c[E].line])*b,g.position.y=c[E].position.y*b,g.scale.x=g.scale.y=b,g.tint=C,g.parent||this.addChild(g);for(c=f;c<this._glyphs.length;++c)this.removeChild(this._glyphs[c]);this._textWidth=D*b;this._textHeight=(d.y+a.lineHeight)*b;if(0!==this.anchor.x||0!==this.anchor.y)for(a=0;a<f;a++)this._glyphs[a].x-=this._textWidth*this.anchor.x,this._glyphs[a].y-=this._textHeight*this.anchor.y;this._maxLineHeight=
N*b};l.prototype.updateTransform=function(){this.validate();this.containerUpdateTransform()};l.prototype.getLocalBounds=function(){this.validate();return c.prototype.getLocalBounds.call(this)};l.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)};l.registerFont=function(b,d){var c={},g=b.getElementsByTagName("info")[0],m=b.getElementsByTagName("common")[0],h=b.getElementsByTagName("page"),q=(0,a.getResolutionOfUrl)(h[0].getAttribute("file"),f.default.RESOLUTION),r={};c.font=
g.getAttribute("face");c.size=parseInt(g.getAttribute("size"),10);c.lineHeight=parseInt(m.getAttribute("lineHeight"),10)/q;c.chars={};d instanceof e.Texture&&(d=[d]);for(g=0;g<h.length;g++){m=h[g].getAttribute("id");var p=h[g].getAttribute("file");r[m]=d instanceof Array?d[g]:d[p]}d=b.getElementsByTagName("char");for(h=0;h<d.length;h++){g=d[h];m=parseInt(g.getAttribute("id"),10);p=g.getAttribute("page")||0;var k=new e.Rectangle(parseInt(g.getAttribute("x"),10)/q+r[p].frame.x/q,parseInt(g.getAttribute("y"),
10)/q+r[p].frame.y/q,parseInt(g.getAttribute("width"),10)/q,parseInt(g.getAttribute("height"),10)/q);c.chars[m]={xOffset:parseInt(g.getAttribute("xoffset"),10)/q,yOffset:parseInt(g.getAttribute("yoffset"),10)/q,xAdvance:parseInt(g.getAttribute("xadvance"),10)/q,kerning:{},texture:new e.Texture(r[p].baseTexture,k),page:p}}b=b.getElementsByTagName("kerning");for(r=0;r<b.length;r++)g=b[r],d=parseInt(g.getAttribute("first"),10)/q,h=parseInt(g.getAttribute("second"),10)/q,g=parseInt(g.getAttribute("amount"),
10)/q,c.chars[h]&&(c.chars[h].kerning[d]=g);return l.fonts[c.font]=c};d(l,[{key:"tint",get:function(){return this._font.tint},set:function(a){this._font.tint="number"===typeof a&&0<=a?a:16777215;this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(a){this._font.align=a||"left";this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(a){"number"===typeof a?this._anchor.set(a):this._anchor.copy(a)}},{key:"font",get:function(){return this._font},set:function(a){a&&
("string"===typeof a?(a=a.split(" "),this._font.name=1===a.length?a[0]:a.slice(1).join(" "),this._font.size=2<=a.length?parseInt(a[0],10):l.fonts[this._font.name].size):(this._font.name=a.name,this._font.size="number"===typeof a.size?a.size:parseInt(a.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(a){a=a.toString()||" ";this._text!==a&&(this._text=a,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(a){this._maxWidth!==a&&(this._maxWidth=
a,this.dirty=!0)}},{key:"maxLineHeight",get:function(){this.validate();return this._maxLineHeight}},{key:"textWidth",get:function(){this.validate();return this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.dirty=!0)}},{key:"textHeight",get:function(){this.validate();return this._textHeight}}]);return l}(e.Container);h.default=c;c.fonts={}},{"../core":74,"../core/math/ObservablePoint":77,"../core/settings":110,
"../core/utils":134}],146:[function(c,k,h){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var p=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in
c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),d=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}(c("../core")),e=(c=c("../core/sprites/canvas/CanvasTinter"))&&c.__esModule?c:{default:c},b=new d.Point;c=function(a){function c(b){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,e=2<arguments.length&&void 0!==arguments[2]?
arguments[2]:100;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var g=a.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.tileTransform=new d.TransformStatic;g._width=f;g._height=e;g._canvasPattern=null;g.uvTransform=b.transform||new d.TextureMatrix(b);g.pluginName="tilingSprite";g.uvRespectAnchor=!1;return g}g(c,a);c.prototype._onTextureUpdate=function(){this.uvTransform&&
(this.uvTransform.texture=this._texture);this.cachedTint=16777215};c.prototype._renderWebGL=function(a){var b=this._texture;b&&b.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),a.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this))};c.prototype._renderCanvas=function(a){var b=this._texture;if(b.baseTexture.hasLoaded){var c=a.context,f=this.worldTransform,g=a.resolution,l=b.baseTexture,h=l.resolution,p=this.tilePosition.x/this.tileScale.x%
b._frame.width*h,k=this.tilePosition.y/this.tileScale.y%b._frame.height*h;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var x=new d.CanvasRenderTarget(b._frame.width,b._frame.height,h);16777215!==this.tint?(this.tintedTexture=e.default.getTintedTexture(this,this.tint),x.context.drawImage(this.tintedTexture,0,0)):x.context.drawImage(l.source,-b._frame.x*h,-b._frame.y*h);this.cachedTint=this.tint;this._canvasPattern=x.context.createPattern(x.canvas,
"repeat")}c.globalAlpha=this.worldAlpha;c.setTransform(f.a*g,f.b*g,f.c*g,f.d*g,f.tx*g,f.ty*g);a.setBlendMode(this.blendMode);c.fillStyle=this._canvasPattern;c.scale(this.tileScale.x/h,this.tileScale.y/h);a=this.anchor.x*-this._width;b=this.anchor.y*-this._height;this.uvRespectAnchor?(c.translate(p,k),c.fillRect(-p+a,-k+b,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h)):(c.translate(p+a,k+b),c.fillRect(-p,-k,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h))}};c.prototype._calculateBounds=
function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))};c.prototype.getLocalBounds=function(b){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),b||(this._localBoundsRect||(this._localBoundsRect=new d.Rectangle),
b=this._localBoundsRect),this._bounds.getRectangle(b)):a.prototype.getLocalBounds.call(this,b)};c.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,b);var d=this._width;a=this._height;var c=-d*this.anchor._x;return b.x>=c&&b.x<c+d&&(d=-a*this.anchor._y,b.y>=d&&b.y<d+a)?!0:!1};c.prototype.destroy=function(b){a.prototype.destroy.call(this,b);this.uvTransform=this.tileTransform=null};c.from=function(a,b,f){return new c(d.Texture.from(a),b,f)};c.fromFrame=function(a,b,f){var e=d.utils.TextureCache[a];
if(!e)throw Error('The frameId "'+a+'" does not exist in the texture cache '+this);return new c(e,b,f)};c.fromImage=function(a,b,f,e,g){return new c(d.Texture.fromImage(a,e,g),b,f)};p(c,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(a){this.uvTransform.clampMargin=a;this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(a){this.tileTransform.scale.copy(a)}},{key:"tilePosition",get:function(){return this.tileTransform.position},
set:function(a){this.tileTransform.position.copy(a)}},{key:"width",get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}}]);return c}(d.Sprite);h.default=c},{"../core":74,"../core/sprites/canvas/CanvasTinter":113}],147:[function(c,k,h){var g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}(c("../core")),
p=(k=c("../core/textures/Texture"))&&k.__esModule?k:{default:k},d=(k=c("../core/textures/BaseTexture"))&&k.__esModule?k:{default:k},e=c("../core/utils");c=g.DisplayObject;var b=new g.Matrix;c.prototype._cacheAsBitmap=!1;c.prototype._cacheData=!1;var a=function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.sprite=this.originalFilterArea=this.originalMask=this.originalDestroy=this.originalHitTest=this.originalUpdateTransform=this.originalGetLocalBounds=this.originalCalculateBounds=
this.originalRenderCanvas=this.originalRenderWebGL=this.textureCacheId=null};Object.defineProperties(c.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(b){this._cacheAsBitmap!==b&&((this._cacheAsBitmap=b)?(this._cacheData||(this._cacheData=new a),b=this._cacheData,b.originalRenderWebGL=this.renderWebGL,b.originalRenderCanvas=this.renderCanvas,b.originalUpdateTransform=this.updateTransform,b.originalCalculateBounds=this._calculateBounds,b.originalGetLocalBounds=this.getLocalBounds,
b.originalDestroy=this.destroy,b.originalContainsPoint=this.containsPoint,b.originalMask=this._mask,b.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(b=this._cacheData,b.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=b.originalRenderWebGL,this.renderCanvas=b.originalRenderCanvas,this._calculateBounds=b.originalCalculateBounds,this.getLocalBounds=b.originalGetLocalBounds,this.destroy=
b.originalDestroy,this.updateTransform=b.originalUpdateTransform,this.containsPoint=b.originalContainsPoint,this._mask=b.originalMask,this.filterArea=b.originalFilterArea))}}});c.prototype._renderCachedWebGL=function(a){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObject(a),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(a))};c.prototype._initCachedDisplayObject=function(a){if(!this._cacheData||
!this._cacheData.sprite){var c=this.alpha;this.alpha=1;a.currentRenderer.flush();var h=this.getLocalBounds().clone();this._filters&&h.pad(this._filters[0].padding);var l=a._activeRenderTarget,k=a.filterManager.filterStack,v=g.RenderTexture.create(h.width|0,h.height|0),u="cacheAsBitmap_"+(0,e.uid)();this._cacheData.textureCacheId=u;d.default.addToCache(v.baseTexture,u);p.default.addToCache(v,u);b.tx=-h.x;b.ty=-h.y;this.transform.worldTransform.identity();this.renderWebGL=this._cacheData.originalRenderWebGL;
a.render(this,v,!0,b,!0);a.bindRenderTarget(l);a.filterManager.filterStack=k;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;this.filterArea=this._mask=null;l=new g.Sprite(v);l.transform.worldTransform=this.transform.worldTransform;l.anchor.x=-(h.x/h.width);l.anchor.y=-(h.y/h.height);l.alpha=c;l._bounds=this._bounds;this._calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=l;this.transform._parentID=
-1;this.parent?this.updateTransform():(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null);this.containsPoint=l.containsPoint.bind(l)}};c.prototype._renderCachedCanvas=function(a){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObjectCanvas(a),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(a))};c.prototype._initCachedDisplayObjectCanvas=function(a){if(!this._cacheData||!this._cacheData.sprite){var c=this.getLocalBounds(),
h=this.alpha;this.alpha=1;var l=a.context,k=g.RenderTexture.create(c.width|0,c.height|0),v="cacheAsBitmap_"+(0,e.uid)();this._cacheData.textureCacheId=v;d.default.addToCache(k.baseTexture,v);p.default.addToCache(k,v);this.transform.localTransform.copy(b);b.invert();b.tx-=c.x;b.ty-=c.y;this.renderCanvas=this._cacheData.originalRenderCanvas;a.render(this,k,!0,b,!1);a.context=l;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this.filterArea=this._mask=null;
l=new g.Sprite(k);l.transform.worldTransform=this.transform.worldTransform;l.anchor.x=-(c.x/c.width);l.anchor.y=-(c.y/c.height);l._bounds=this._bounds;l.alpha=h;this.parent?this.updateTransform():(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null);this.updateTransform=this.displayObjectUpdateTransform;this._cacheData.sprite=l;this.containsPoint=l.containsPoint.bind(l)}};c.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()};c.prototype._getCachedLocalBounds=
function(){return this._cacheData.sprite.getLocalBounds()};c.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0);this._cacheData.sprite=null;d.default.removeFromCache(this._cacheData.textureCacheId);p.default.removeFromCache(this._cacheData.textureCacheId);this._cacheData.textureCacheId=null};c.prototype._cacheAsBitmapDestroy=function(a){this.cacheAsBitmap=!1;this.destroy(a)}},{"../core":74,"../core/textures/BaseTexture":121,"../core/textures/Texture":124,
"../core/utils":134}],148:[function(c,k,h){c=function(c){if(c&&c.__esModule)return c;var g={};if(null!=c)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(g[d]=c[d]);g.default=c;return g}(c("../core"));c.DisplayObject.prototype.name=null;c.Container.prototype.getChildByName=function(c){for(var g=0;g<this.children.length;g++)if(this.children[g].name===c)return this.children[g];return null}},{"../core":74}],149:[function(c,k,h){var g=function(c){if(c&&c.__esModule)return c;var d={};if(null!=
c)for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(d[e]=c[e]);d.default=c;return d}(c("../core"));g.DisplayObject.prototype.getGlobalPosition=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new g.Point,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.parent?this.parent.toGlobal(this.position,c,d):(c.x=this.position.x,c.y=this.position.y);return c}},{"../core":74}],150:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}h.__esModule=
!0;h.BitmapText=h.TilingSpriteRenderer=h.TilingSprite=h.AnimatedSprite=void 0;var p=c("./AnimatedSprite");Object.defineProperty(h,"AnimatedSprite",{enumerable:!0,get:function(){return g(p).default}});var d=c("./TilingSprite");Object.defineProperty(h,"TilingSprite",{enumerable:!0,get:function(){return g(d).default}});var e=c("./webgl/TilingSpriteRenderer");Object.defineProperty(h,"TilingSpriteRenderer",{enumerable:!0,get:function(){return g(e).default}});var b=c("./BitmapText");Object.defineProperty(h,
"BitmapText",{enumerable:!0,get:function(){return g(b).default}});c("./cacheAsBitmap");c("./getChildByName");c("./getGlobalPosition")},{"./AnimatedSprite":144,"./BitmapText":145,"./TilingSprite":146,"./cacheAsBitmap":147,"./getChildByName":148,"./getGlobalPosition":149,"./webgl/TilingSpriteRenderer":151}],151:[function(c,k,h){function g(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,
{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}h.__esModule=!0;var p=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a.default=b;return a}(c("../../core")),d=c("../../core/const");c("path");var e=new p.Matrix;c=function(b){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");c=b.call(this,
c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.shader=null;c.simpleShader=null;c.quad=null;return c}g(a,b);a.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=new p.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n");this.simpleShader=new p.Shader(a,
"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n");
this.renderer.bindVao(null);this.quad=new p.Quad(a,this.renderer.state.attribState);this.quad.initVao(this.shader)};a.prototype.render=function(a){var b=this.renderer,c=this.quad;b.bindVao(c.vao);var f=c.vertices;f[0]=f[6]=a._width*-a.anchor.x;f[1]=f[3]=a._height*-a.anchor.y;f[2]=f[4]=a._width*(1-a.anchor.x);f[5]=f[7]=a._height*(1-a.anchor.y);a.uvRespectAnchor&&(f=c.uvs,f[0]=f[6]=-a.anchor.x,f[1]=f[3]=-a.anchor.y,f[2]=f[4]=1-a.anchor.x,f[5]=f[7]=1-a.anchor.y);c.upload();f=a._texture;var g=f.baseTexture,
h=a.tileTransform.localTransform,k=a.uvTransform,u=g.isPowerOfTwo&&f.frame.width===g.width&&f.frame.height===g.height;u&&(g._glTextures[b.CONTEXT_UID]?u=g.wrapMode!==d.WRAP_MODES.CLAMP:g.wrapMode===d.WRAP_MODES.CLAMP&&(g.wrapMode=d.WRAP_MODES.REPEAT));var A=u?this.simpleShader:this.shader;b.bindShader(A);var t=f.width,x=f.height,z=a._width,B=a._height;e.set(h.a*t/z,h.b*t/B,h.c*x/z,h.d*x/B,h.tx/z,h.ty/B);e.invert();u?e.prepend(k.mapCoord):(A.uniforms.uMapCoord=k.mapCoord.toArray(!0),A.uniforms.uClampFrame=
k.uClampFrame,A.uniforms.uClampOffset=k.uClampOffset);A.uniforms.uTransform=e.toArray(!0);A.uniforms.uColor=p.utils.premultiplyTintToRgba(a.tint,a.worldAlpha,A.uniforms.uColor,g.premultipliedAlpha);A.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);A.uniforms.uSampler=b.bindTexture(f);b.setBlendMode(p.utils.correctBlendMode(a.blendMode,g.premultipliedAlpha));c.vao.draw(this.renderer.gl.TRIANGLES,6,0)};return a}(p.ObjectRenderer);h.default=c;p.WebGLRenderer.registerPlugin("tilingSprite",
c)},{"../../core":74,"../../core/const":55,path:1}],152:[function(c,k,h){function g(c,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}h.__esModule=!0;var p=function(){function c(c,b){for(var a=0;a<b.length;a++){var d=b[a];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(d,b,a){b&&c(d.prototype,b);a&&c(d,a);return d}}();k=function(c){if(c&&c.__esModule)return c;var d={};if(null!=c)for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(d[b]=c[b]);d.default=c;return d}(c("../../core"));c("path");c=function(c){function d(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");
var a=c.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.alpha=b;a.glShaderKey="alpha";return a}g(d,c);p(d,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(b){this.uniforms.uAlpha=b}}]);return d}(k.Filter);h.default=c},{"../../core":74,path:1}],153:[function(c,k,h){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,
writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var p=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),d=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=
a;return b}(c("../../core")),e=(k=c("./BlurXFilter"))&&k.__esModule?k:{default:k},b=(c=c("./BlurYFilter"))&&c.__esModule?c:{default:c};c=function(a){function c(f,g,h,q){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var l=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");l=!l||"object"!==typeof l&&"function"!==typeof l?this:l;l.blurXFilter=new e.default(f,g,h,q);l.blurYFilter=new b.default(f,g,h,q);l.padding=
0;l.resolution=h||d.settings.RESOLUTION;l.quality=g||4;l.blur=f||8;return l}g(c,a);c.prototype.apply=function(a,b,c){var d=a.getRenderTarget(!0);this.blurXFilter.apply(a,b,d,!0);this.blurYFilter.apply(a,d,c,!1);a.returnRenderTarget(d)};p(c,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},
set:function(a){this.blurXFilter.quality=this.blurYFilter.quality=a}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},
set:function(a){this.blurYFilter._blendMode=a}}]);return c}(d.Filter);h.default=c},{"../../core":74,"./BlurXFilter":154,"./BlurYFilter":155}],154:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}h.__esModule=!0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(c("../../core"));k=c("./generateBlurVertSource");var b=g(k);k=c("./generateBlurFragSource");
var a=g(k);c=c("./getMaxBlurKernelSize");var f=g(c);c=function(c){function g(d,f,h,l){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");l=l||5;var m=(0,b.default)(l,!0);l=(0,a.default)(l);m=c.call(this,m,l);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.resolution=h||e.settings.RESOLUTION;m._quality=0;m.quality=f||4;m.strength=d||8;m.firstRun=!0;return m}p(g,c);
g.prototype.apply=function(c,d,e,g){if(this.firstRun){var h=c.renderer.gl;h=(0,f.default)(h);this.vertexSrc=(0,b.default)(h,!0);this.fragmentSrc=(0,a.default)(h);this.firstRun=!1}this.uniforms.strength=1/e.size.width*(e.size.width/d.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)c.applyFilter(this,d,e,g);else{for(var l=h=c.getRenderTarget(!0),m=0;m<this.passes-1;m++){c.applyFilter(this,d,l,!0);var q=l;l=d;d=q}c.applyFilter(this,d,e,g);c.returnRenderTarget(h)}};
d(g,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=2*Math.abs(a);this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this.passes=this._quality=a}}]);return g}(e.Filter);h.default=c},{"../../core":74,"./generateBlurFragSource":156,"./generateBlurVertSource":157,"./getMaxBlurKernelSize":158}],155:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=function(a){if(a&&a.__esModule)return a;var b={};
if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(c("../../core"));k=c("./generateBlurVertSource");var b=g(k);k=c("./generateBlurFragSource");var a=g(k);c=c("./getMaxBlurKernelSize");var f=g(c);c=function(c){function g(d,f,h,l){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");l=l||5;var m=(0,b.default)(l,!1);l=(0,a.default)(l);m=c.call(this,m,l);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.resolution=h||e.settings.RESOLUTION;m._quality=0;m.quality=f||4;m.strength=d||8;m.firstRun=!0;return m}p(g,c);g.prototype.apply=function(c,d,e,g){if(this.firstRun){var h=c.renderer.gl;h=(0,f.default)(h);this.vertexSrc=(0,b.default)(h,!1);this.fragmentSrc=(0,a.default)(h);this.firstRun=!1}this.uniforms.strength=1/e.size.height*(e.size.height/d.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)c.applyFilter(this,
d,e,g);else{for(var l=h=c.getRenderTarget(!0),m=0;m<this.passes-1;m++){c.applyFilter(this,d,l,!0);var q=l;l=d;d=q}c.applyFilter(this,d,e,g);c.returnRenderTarget(h)}};d(g,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=2*Math.abs(a);this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this.passes=this._quality=a}}]);return g}(e.Filter);h.default=c},{"../../core":74,"./generateBlurFragSource":156,"./generateBlurVertSource":157,"./getMaxBlurKernelSize":158}],
156:[function(c,k,h){h.__esModule=!0;h.default=function(c){for(var d=g[c],b=d.length,a=p,f="",h,k=0;k<c;k++){var m="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",k);h=k;k>=b&&(h=c-k-1);m=m.replace("%value%",d[h]);f+=m;f+="\n"}a=a.replace("%blur%",f);return a=a.replace("%size%",c)};var g={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,
.009255,.027867,.065666,.121117,.174868,.197641],15:[4.89E-4,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},p="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}"},{}],157:[function(c,k,h){h.__esModule=!0;h.default=function(c,d){var e=Math.ceil(c/2),b=g,a="";d=d?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";
for(var f=0;f<c;f++){var h=d.replace("%index%",f);h=h.replace("%sampleIndex%",f-(e-1)+".0");a+=h;a+="\n"}b=b.replace("%blur%",a);return b=b.replace("%size%",c)};var g="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}"},{}],158:[function(c,k,h){h.__esModule=!0;h.default=function(c){c=
c.getParameter(c.MAX_VARYING_VECTORS);for(var g=15;g>c;)g-=2;return g}},{}],159:[function(c,k,h){function g(c,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}h.__esModule=!0;var p=function(){function c(c,b){for(var a=0;a<b.length;a++){var d=b[a];
d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(d,b,a){b&&c(d.prototype,b);a&&c(d,a);return d}}();k=function(c){if(c&&c.__esModule)return c;var d={};if(null!=c)for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(d[b]=c[b]);d.default=c;return d}(c("../../core"));c("path");c=function(c){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var b=c.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];b.alpha=1;return b}g(d,c);d.prototype._loadMatrix=function(b){var a=b;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(a,this.uniforms.m,b),a=this._colorMatrix(a));this.uniforms.m=a};d.prototype._multiply=function(b,a,c){b[0]=a[0]*c[0]+a[1]*c[5]+a[2]*c[10]+a[3]*c[15];b[1]=
a[0]*c[1]+a[1]*c[6]+a[2]*c[11]+a[3]*c[16];b[2]=a[0]*c[2]+a[1]*c[7]+a[2]*c[12]+a[3]*c[17];b[3]=a[0]*c[3]+a[1]*c[8]+a[2]*c[13]+a[3]*c[18];b[4]=a[0]*c[4]+a[1]*c[9]+a[2]*c[14]+a[3]*c[19]+a[4];b[5]=a[5]*c[0]+a[6]*c[5]+a[7]*c[10]+a[8]*c[15];b[6]=a[5]*c[1]+a[6]*c[6]+a[7]*c[11]+a[8]*c[16];b[7]=a[5]*c[2]+a[6]*c[7]+a[7]*c[12]+a[8]*c[17];b[8]=a[5]*c[3]+a[6]*c[8]+a[7]*c[13]+a[8]*c[18];b[9]=a[5]*c[4]+a[6]*c[9]+a[7]*c[14]+a[8]*c[19]+a[9];b[10]=a[10]*c[0]+a[11]*c[5]+a[12]*c[10]+a[13]*c[15];b[11]=a[10]*c[1]+a[11]*
c[6]+a[12]*c[11]+a[13]*c[16];b[12]=a[10]*c[2]+a[11]*c[7]+a[12]*c[12]+a[13]*c[17];b[13]=a[10]*c[3]+a[11]*c[8]+a[12]*c[13]+a[13]*c[18];b[14]=a[10]*c[4]+a[11]*c[9]+a[12]*c[14]+a[13]*c[19]+a[14];b[15]=a[15]*c[0]+a[16]*c[5]+a[17]*c[10]+a[18]*c[15];b[16]=a[15]*c[1]+a[16]*c[6]+a[17]*c[11]+a[18]*c[16];b[17]=a[15]*c[2]+a[16]*c[7]+a[17]*c[12]+a[18]*c[17];b[18]=a[15]*c[3]+a[16]*c[8]+a[17]*c[13]+a[18]*c[18];b[19]=a[15]*c[4]+a[16]*c[9]+a[17]*c[14]+a[18]*c[19]+a[19];return b};d.prototype._colorMatrix=function(b){b=
new Float32Array(b);b[4]/=255;b[9]/=255;b[14]/=255;b[19]/=255;return b};d.prototype.brightness=function(b,a){this._loadMatrix([b,0,0,0,0,0,b,0,0,0,0,0,b,0,0,0,0,0,1,0],a)};d.prototype.greyscale=function(b,a){this._loadMatrix([b,b,b,0,0,b,b,b,0,0,b,b,b,0,0,0,0,0,1,0],a)};d.prototype.blackAndWhite=function(b){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],b)};d.prototype.hue=function(b,a){b=(b||0)/180*Math.PI;var c=Math.cos(b);b=Math.sin(b);var d=Math.sqrt,e=1/3;d=d(e);this._loadMatrix([c+
(1-c)*e,e*(1-c)-d*b,e*(1-c)+d*b,0,0,e*(1-c)+d*b,c+e*(1-c),e*(1-c)-d*b,0,0,e*(1-c)-d*b,e*(1-c)+d*b,c+e*(1-c),0,0,0,0,0,1,0],a)};d.prototype.contrast=function(b,a){b=(b||0)+1;var c=-.5*(b-1);this._loadMatrix([b,0,0,0,c,0,b,0,0,c,0,0,b,0,c,0,0,0,1,0],a)};d.prototype.saturate=function(){var b=2*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)/3+1,a=-.5*(b-1);this._loadMatrix([b,a,a,0,0,a,b,a,0,0,a,a,b,0,0,0,0,0,1,0],arguments[1])};d.prototype.desaturate=function(){this.saturate(-1)};d.prototype.negative=
function(b){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],b)};d.prototype.sepia=function(b){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],b)};d.prototype.technicolor=function(b){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,
0,0,0,1,0],b)};d.prototype.polaroid=function(b){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],b)};d.prototype.toBGR=function(b){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],b)};d.prototype.kodachrome=function(b){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,
0,35.62982807460946,0,0,0,1,0],b)};d.prototype.browni=function(b){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],b)};d.prototype.vintage=function(b){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,
0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],b)};d.prototype.colorTone=function(b,a,c,d,e){c=c||16770432;d=d||3375104;var f=(c>>16&255)/255,g=(c>>8&255)/255;c=(c&255)/255;var h=(d>>16&255)/255,l=(d>>8&255)/255;d=(d&255)/255;this._loadMatrix([.3,.59,.11,0,0,f,g,c,b||.2,0,h,l,d,a||.15,0,f-h,g-l,c-d,0,0],e)};d.prototype.night=function(b,a){b=b||.1;this._loadMatrix([-2*b,-b,0,0,0,-b,0,b,0,0,0,b,2*b,0,0,0,0,0,1,0],a)};d.prototype.predator=function(b,
a){this._loadMatrix([11.224130630493164*b,-4.794486999511719*b,-2.8746118545532227*b,0*b,.40342438220977783*b,-3.6330697536468506*b,9.193157196044922*b,-2.951810836791992*b,0*b,-1.316135048866272*b,-3.2184197902679443*b,-4.2375030517578125*b,7.476448059082031*b,0*b,.8044459223747253*b,0,0,0,1,0],a)};d.prototype.lsd=function(b){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],b)};d.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)};p(d,[{key:"matrix",
get:function(){return this.uniforms.m},set:function(b){this.uniforms.m=b}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(b){this.uniforms.uAlpha=b}}]);return d}(k.Filter);h.default=c;c.prototype.grayscale=c.prototype.greyscale},{"../../core":74,path:1}],160:[function(c,k,h){function g(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}h.__esModule=!0;var p=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,d){a&&c(b.prototype,a);d&&c(b,d);return b}}(),d=function(c){if(c&&c.__esModule)return c;var b={};if(null!=c)for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=
c[a]);b.default=c;return b}(c("../../core"));c("path");c=function(c){function b(a,f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e=new d.Matrix;a.renderable=!1;var g=c.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}",
"varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.maskSprite=a;g.maskMatrix=e;g.uniforms.mapSampler=a._texture;g.uniforms.filterMatrix=e;g.uniforms.scale={x:1,y:1};if(null===f||void 0===f)f=20;g.scale=new d.Point(f,f);return g}g(b,c);b.prototype.apply=function(a,b,c){this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x;this.uniforms.scale.y=this.scale.y;a.applyFilter(this,b,c)};p(b,[{key:"map",get:function(){return this.uniforms.mapSampler},
set:function(a){this.uniforms.mapSampler=a}}]);return b}(d.Filter);h.default=c},{"../../core":74,path:1}],161:[function(c,k,h){function g(c,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}h.__esModule=!0;k=function(c){if(c&&c.__esModule)return c;
var d={};if(null!=c)for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(d[e]=c[e]);d.default=c;return d}(c("../../core"));c("path");c=function(c){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var e=c.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",
'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n');
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?this:e}g(d,c);return d}(k.Filter);h.default=c},{"../../core":74,path:1}],162:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}h.__esModule=!0;var p=c("./fxaa/FXAAFilter");Object.defineProperty(h,"FXAAFilter",{enumerable:!0,get:function(){return g(p).default}});var d=c("./noise/NoiseFilter");Object.defineProperty(h,"NoiseFilter",{enumerable:!0,
get:function(){return g(d).default}});var e=c("./displacement/DisplacementFilter");Object.defineProperty(h,"DisplacementFilter",{enumerable:!0,get:function(){return g(e).default}});var b=c("./blur/BlurFilter");Object.defineProperty(h,"BlurFilter",{enumerable:!0,get:function(){return g(b).default}});var a=c("./blur/BlurXFilter");Object.defineProperty(h,"BlurXFilter",{enumerable:!0,get:function(){return g(a).default}});var f=c("./blur/BlurYFilter");Object.defineProperty(h,"BlurYFilter",{enumerable:!0,
get:function(){return g(f).default}});var l=c("./colormatrix/ColorMatrixFilter");Object.defineProperty(h,"ColorMatrixFilter",{enumerable:!0,get:function(){return g(l).default}});var r=c("./alpha/AlphaFilter");Object.defineProperty(h,"AlphaFilter",{enumerable:!0,get:function(){return g(r).default}})},{"./alpha/AlphaFilter":152,"./blur/BlurFilter":153,"./blur/BlurXFilter":154,"./blur/BlurYFilter":155,"./colormatrix/ColorMatrixFilter":159,"./displacement/DisplacementFilter":160,"./fxaa/FXAAFilter":161,
"./noise/NoiseFilter":163}],163:[function(c,k,h){function g(c,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}h.__esModule=!0;var p=function(){function c(c,b){for(var a=0;a<b.length;a++){var d=b[a];d.enumerable=d.enumerable||!1;d.configurable=!0;
"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(d,b,a){b&&c(d.prototype,b);a&&c(d,a);return d}}();k=function(c){if(c&&c.__esModule)return c;var d={};if(null!=c)for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(d[b]=c[b]);d.default=c;return d}(c("../../core"));c("path");c=function(c){function d(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random();if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");
var f=c.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.noise=b;f.seed=a;return f}g(d,c);p(d,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(b){this.uniforms.uNoise=b}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(b){this.uniforms.uSeed=b}}]);return d}(k.Filter);h.default=c},{"../../core":74,path:1}],164:[function(c,k,h){(function(g){function k(a){if(a&&a.__esModule)return a;
var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}h.__esModule=!0;h.loader=h.prepare=h.particles=h.mesh=h.loaders=h.interaction=h.filters=h.extras=h.extract=h.accessibility=void 0;var d=c("./polyfill");Object.keys(d).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(h,a,{enumerable:!0,get:function(){return d[a]}})});var e=c("./core");Object.keys(e).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(h,
a,{enumerable:!0,get:function(){return e[a]}})});var b=c("./deprecation");b=b&&b.__esModule?b:{default:b};var a=c("./accessibility");a=k(a);var f=c("./extract");f=k(f);var l=c("./extras");l=k(l);var r=c("./filters");r=k(r);var m=c("./interaction");m=k(m);var q=c("./loaders");q=k(q);var y=c("./mesh");y=k(y);var v=c("./particles");v=k(v);var u=c("./prepare");u=k(u);e.utils.mixins.performMixins();var A=q.shared||null;h.accessibility=a;h.extract=f;h.extras=l;h.filters=r;h.interaction=m;h.loaders=q;h.mesh=
y;h.particles=v;h.prepare=u;h.loader=A;"function"===typeof b.default&&(0,b.default)(h);g.PIXI=h}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./accessibility":51,"./core":74,"./deprecation":140,"./extract":142,"./extras":150,"./filters":162,"./interaction":169,"./loaders":172,"./mesh":181,"./particles":184,"./polyfill":191,"./prepare":195}],165:[function(c,k,h){h.__esModule=!0;var g=function(){function c(c,b){for(var a=0;a<
b.length;a++){var d=b[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(d,b,a){b&&c(d.prototype,b);a&&c(d,a);return d}}(),p=function(c){if(c&&c.__esModule)return c;var d={};if(null!=c)for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(d[b]=c[b]);d.default=c;return d}(c("../core"));c=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.global=new p.Point;
this.identifier=this.originalEvent=this.target=null;this.isPrimary=!1;this.tiltY=this.tiltX=this.height=this.width=this.buttons=this.button=0;this.pointerType=null;this.tangentialPressure=this.twist=this.rotationAngle=this.pressure=0}c.prototype.getLocalPosition=function(c,b,a){return c.worldTransform.applyInverse(a||this.global,b)};c.prototype.copyEvent=function(c){c.isPrimary&&(this.isPrimary=!0);this.button=c.button;this.buttons=Number.isInteger(c.buttons)?c.buttons:c.which;this.width=c.width;
this.height=c.height;this.tiltX=c.tiltX;this.tiltY=c.tiltY;this.pointerType=c.pointerType;this.pressure=c.pressure;this.rotationAngle=c.rotationAngle;this.twist=c.twist||0;this.tangentialPressure=c.tangentialPressure||0};c.prototype.reset=function(){this.isPrimary=!1};g(c,[{key:"pointerId",get:function(){return this.identifier}}]);return c}();h.default=c},{"../core":74}],166:[function(c,k,h){h.__esModule=!0;c=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.stopped=!1;this.data=this.type=this.currentTarget=this.target=null}c.prototype.stopPropagation=function(){this.stopped=!0};c.prototype.reset=function(){this.stopped=!1;this.target=this.currentTarget=null};return c}();h.default=c},{}],167:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(a){if(a&&a.__esModule)return a;
var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(c("../core"));k=c("./InteractionData");var b=g(k);k=c("./InteractionEvent");var a=g(k);k=c("./InteractionTrackingData");var f=g(k);k=c("eventemitter3");k=g(k);c=c("./interactiveTarget");c=g(c);e.utils.mixins.delayMixin(e.DisplayObject.prototype,c.default);var l={target:null,data:{global:null}};c=function(c){function g(d,f){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");
var h=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;f=f||{};h.renderer=d;h.autoPreventDefault=void 0!==f.autoPreventDefault?f.autoPreventDefault:!0;h.interactionFrequency=f.interactionFrequency||10;h.mouse=new b.default;h.mouse.identifier=1;h.mouse.global.set(-999999);h.activeInteractionData={};h.activeInteractionData[1]=h.mouse;h.interactionDataPool=[];h.eventData=new a.default;h.interactionDOMElement=
null;h.moveWhenInside=!1;h.eventsAdded=!1;h.mouseOverRenderer=!1;h.supportsTouchEvents="ontouchstart"in window;h.supportsPointerEvents=!!window.PointerEvent;h.onPointerUp=h.onPointerUp.bind(h);h.processPointerUp=h.processPointerUp.bind(h);h.onPointerCancel=h.onPointerCancel.bind(h);h.processPointerCancel=h.processPointerCancel.bind(h);h.onPointerDown=h.onPointerDown.bind(h);h.processPointerDown=h.processPointerDown.bind(h);h.onPointerMove=h.onPointerMove.bind(h);h.processPointerMove=h.processPointerMove.bind(h);
h.onPointerOut=h.onPointerOut.bind(h);h.processPointerOverOut=h.processPointerOverOut.bind(h);h.onPointerOver=h.onPointerOver.bind(h);h.cursorStyles={default:"inherit",pointer:"pointer"};h.currentCursorMode=null;h.cursor=null;h._tempPoint=new e.Point;h.resolution=1;h.setTargetElement(h.renderer.view,h.renderer.resolution);return h}p(g,c);g.prototype.hitTest=function(a,b){l.target=null;l.data.global=a;b||(b=this.renderer._lastObjectRendered);this.processInteractive(l,b,null,!0);return l.target};g.prototype.setTargetElement=
function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents();this.interactionDOMElement=a;this.resolution=b;this.addEvents()};g.prototype.addEvents=function(){this.interactionDOMElement&&(e.ticker.shared.add(this.update,this,e.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=
"none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",
this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),
this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)};g.prototype.removeEvents=function(){this.interactionDOMElement&&(e.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=
""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",
this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,
!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)};g.prototype.update=function(a){this._deltaTime+=a;if(!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{this.cursor=null;for(var b in this.activeInteractionData)this.activeInteractionData.hasOwnProperty(b)&&
(a=this.activeInteractionData[b],a.originalEvent&&"touch"!==a.pointerType&&(a=this.configureInteractionEventForDOMEvent(this.eventData,a.originalEvent,a),this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)));this.setCursorMode(this.cursor)}};g.prototype.setCursorMode=function(a){a=a||"default";if(this.currentCursorMode!==a){this.currentCursorMode=a;var b=this.cursorStyles[a];if(b)switch("undefined"===typeof b?"undefined":d(b)){case "string":this.interactionDOMElement.style.cursor=
b;break;case "function":b(a);break;case "object":Object.assign(this.interactionDOMElement.style,b)}else"string"!==typeof a||Object.prototype.hasOwnProperty.call(this.cursorStyles,a)||(this.interactionDOMElement.style.cursor=a)}};g.prototype.dispatchEvent=function(a,b,c){if(!c.stopped&&(c.currentTarget=a,c.type=b,a.emit(b,c),a[b]))a[b](c)};g.prototype.mapPositionToPoint=function(a,b,c){var d=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,
height:0};var f=navigator.isCocoonJS?this.resolution:1/this.resolution;a.x=this.interactionDOMElement.width/d.width*(b-d.left)*f;a.y=this.interactionDOMElement.height/d.height*(c-d.top)*f};g.prototype.processInteractive=function(a,b,c,d,f){if(!b||!b.visible)return!1;var e=a.data.global;f=b.interactive||f;var g=!1,h=f,l=!0;b.hitArea?(d&&(b.worldTransform.applyInverse(e,this._tempPoint),b.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?g=!0:l=d=!1),h=!1):b._mask&&d&&!b._mask.containsPoint(e)&&
(l=d=!1);if(l&&b.interactiveChildren&&b.children){l=b.children;for(var m=l.length-1;0<=m;m--){var q=l[m],k=this.processInteractive(a,q,c,d,h);k&&q.parent&&(h=!1,k&&(a.target&&(d=!1),g=!0))}}f&&(d&&!a.target&&!b.hitArea&&b.containsPoint&&b.containsPoint(e)&&(g=!0),b.interactive&&(g&&!a.target&&(a.target=b),c&&c(a,b,!!g)));return g};g.prototype.onPointerDown=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a);this.autoPreventDefault&&b[0].isNormalized&&
a.preventDefault();for(var c=b.length,d=0;d<c;d++){var f=b[d],e=this.getInteractionDataForPointerId(f);e=this.configureInteractionEventForDOMEvent(this.eventData,f,e);e.data.originalEvent=a;this.processInteractive(e,this.renderer._lastObjectRendered,this.processPointerDown,!0);this.emit("pointerdown",e);"touch"===f.pointerType?this.emit("touchstart",e):("mouse"===f.pointerType||"pen"===f.pointerType)&&this.emit(2===f.button?"rightdown":"mousedown",this.eventData)}}};g.prototype.processPointerDown=
function(a,b,c){var d=a.data,e=a.data.identifier;if(c)if(b.trackedPointers[e]||(b.trackedPointers[e]=new f.default(e)),this.dispatchEvent(b,"pointerdown",a),"touch"===d.pointerType)this.dispatchEvent(b,"touchstart",a);else if("mouse"===d.pointerType||"pen"===d.pointerType)(c=2===d.button)?b.trackedPointers[e].rightDown=!0:b.trackedPointers[e].leftDown=!0,this.dispatchEvent(b,c?"rightdown":"mousedown",a)};g.prototype.onPointerComplete=function(a,b,c){for(var d=this.normalizeToPointerData(a),f=d.length,
e=a.target!==this.interactionDOMElement?"outside":"",g=0;g<f;g++){var h=d[g],l=this.getInteractionDataForPointerId(h),m=this.configureInteractionEventForDOMEvent(this.eventData,h,l);m.data.originalEvent=a;this.processInteractive(m,this.renderer._lastObjectRendered,c,b||!e);this.emit(b?"pointercancel":"pointerup"+e,m);"mouse"===h.pointerType||"pen"===h.pointerType?this.emit(2===h.button?"rightup"+e:"mouseup"+e,m):"touch"===h.pointerType&&(this.emit(b?"touchcancel":"touchend"+e,m),this.releaseInteractionDataForPointerId(h.pointerId,
l))}};g.prototype.onPointerCancel=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType)this.onPointerComplete(a,!0,this.processPointerCancel)};g.prototype.processPointerCancel=function(a,b){var c=a.data,d=a.data.identifier;void 0!==b.trackedPointers[d]&&(delete b.trackedPointers[d],this.dispatchEvent(b,"pointercancel",a),"touch"===c.pointerType&&this.dispatchEvent(b,"touchcancel",a))};g.prototype.onPointerUp=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType)this.onPointerComplete(a,
!1,this.processPointerUp)};g.prototype.processPointerUp=function(a,b,c){var d=a.data,e=a.data.identifier,g=b.trackedPointers[e],h="touch"===d.pointerType,l="mouse"===d.pointerType||"pen"===d.pointerType,m=!1;if(l){d=2===d.button;var q=f.default.FLAGS;q=d?q.RIGHT_DOWN:q.LEFT_DOWN;q=void 0!==g&&g.flags&q;c?(this.dispatchEvent(b,d?"rightup":"mouseup",a),q&&(this.dispatchEvent(b,d?"rightclick":"click",a),m=!0)):q&&this.dispatchEvent(b,d?"rightupoutside":"mouseupoutside",a);g&&(d?g.rightDown=!1:g.leftDown=
!1)}c?(this.dispatchEvent(b,"pointerup",a),h&&this.dispatchEvent(b,"touchend",a),g&&(l&&!m||this.dispatchEvent(b,"pointertap",a),h&&(this.dispatchEvent(b,"tap",a),g.over=!1))):g&&(this.dispatchEvent(b,"pointerupoutside",a),h&&this.dispatchEvent(b,"touchendoutside",a));g&&g.none&&delete b.trackedPointers[e]};g.prototype.onPointerMove=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a);if("mouse"===b[0].pointerType||"pen"===b[0].pointerType)this.didMove=
!0,this.cursor=null;for(var c=b.length,d=0;d<c;d++){var f=b[d],e=this.getInteractionDataForPointerId(f);e=this.configureInteractionEventForDOMEvent(this.eventData,f,e);e.data.originalEvent=a;this.processInteractive(e,this.renderer._lastObjectRendered,this.processPointerMove,"touch"===f.pointerType?this.moveWhenInside:!0);this.emit("pointermove",e);"touch"===f.pointerType&&this.emit("touchmove",e);"mouse"!==f.pointerType&&"pen"!==f.pointerType||this.emit("mousemove",e)}"mouse"===b[0].pointerType&&
this.setCursorMode(this.cursor)}};g.prototype.processPointerMove=function(a,b,c){var d=a.data,f="touch"===d.pointerType;(d="mouse"===d.pointerType||"pen"===d.pointerType)&&this.processPointerOverOut(a,b,c);if(!this.moveWhenInside||c)this.dispatchEvent(b,"pointermove",a),f&&this.dispatchEvent(b,"touchmove",a),d&&this.dispatchEvent(b,"mousemove",a)};g.prototype.onPointerOut=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){a=this.normalizeToPointerData(a)[0];"mouse"===a.pointerType&&
(this.mouseOverRenderer=!1,this.setCursorMode(null));var b=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,b);c.data.originalEvent=a;this.processInteractive(c,this.renderer._lastObjectRendered,this.processPointerOverOut,!1);this.emit("pointerout",c);"mouse"===a.pointerType||"pen"===a.pointerType?this.emit("mouseout",c):this.releaseInteractionDataForPointerId(b.identifier)}};g.prototype.processPointerOverOut=function(a,b,c){var d=a.data,e=a.data.identifier;
d="mouse"===d.pointerType||"pen"===d.pointerType;var g=b.trackedPointers[e];c&&!g&&(g=b.trackedPointers[e]=new f.default(e));void 0!==g&&(c&&this.mouseOverRenderer?(g.over||(g.over=!0,this.dispatchEvent(b,"pointerover",a),d&&this.dispatchEvent(b,"mouseover",a)),d&&null===this.cursor&&(this.cursor=b.cursor)):g.over&&(g.over=!1,this.dispatchEvent(b,"pointerout",this.eventData),d&&this.dispatchEvent(b,"mouseout",a),g.none&&delete b.trackedPointers[e]))};g.prototype.onPointerOver=function(a){a=this.normalizeToPointerData(a)[0];
var b=this.getInteractionDataForPointerId(a);b=this.configureInteractionEventForDOMEvent(this.eventData,a,b);b.data.originalEvent=a;"mouse"===a.pointerType&&(this.mouseOverRenderer=!0);this.emit("pointerover",b);"mouse"!==a.pointerType&&"pen"!==a.pointerType||this.emit("mouseover",b)};g.prototype.getInteractionDataForPointerId=function(a){var c=a.pointerId;if(1===c||"mouse"===a.pointerType)var d=this.mouse;else this.activeInteractionData[c]?d=this.activeInteractionData[c]:(d=this.interactionDataPool.pop()||
new b.default,d.identifier=c,this.activeInteractionData[c]=d);d.copyEvent(a);return d};g.prototype.releaseInteractionDataForPointerId=function(a){var b=this.activeInteractionData[a];b&&(delete this.activeInteractionData[a],b.reset(),this.interactionDataPool.push(b))};g.prototype.configureInteractionEventForDOMEvent=function(a,b,c){a.data=c;this.mapPositionToPoint(c.global,b.clientX,b.clientY);navigator.isCocoonJS&&"touch"===b.pointerType&&(c.global.x/=this.resolution,c.global.y/=this.resolution);
"touch"===b.pointerType&&(b.globalX=c.global.x,b.globalY=c.global.y);c.originalEvent=b;a.reset();return a};g.prototype.normalizeToPointerData=function(a){var b=[];if(this.supportsTouchEvents&&a instanceof TouchEvent)for(var c=0,d=a.changedTouches.length;c<d;c++){var f=a.changedTouches[c];"undefined"===typeof f.button&&(f.button=a.touches.length?1:0);"undefined"===typeof f.buttons&&(f.buttons=a.touches.length?1:0);"undefined"===typeof f.isPrimary&&(f.isPrimary=1===a.touches.length&&"touchstart"===
a.type);"undefined"===typeof f.width&&(f.width=f.radiusX||1);"undefined"===typeof f.height&&(f.height=f.radiusY||1);"undefined"===typeof f.tiltX&&(f.tiltX=0);"undefined"===typeof f.tiltY&&(f.tiltY=0);"undefined"===typeof f.pointerType&&(f.pointerType="touch");"undefined"===typeof f.pointerId&&(f.pointerId=f.identifier||0);"undefined"===typeof f.pressure&&(f.pressure=f.force||.5);f.twist=0;f.tangentialPressure=0;"undefined"===typeof f.layerX&&(f.layerX=f.offsetX=f.clientX);"undefined"===typeof f.layerY&&
(f.layerY=f.offsetY=f.clientY);f.isNormalized=!0;b.push(f)}else a instanceof MouseEvent&&!(this.supportsPointerEvents&&a instanceof window.PointerEvent)&&("undefined"===typeof a.isPrimary&&(a.isPrimary=!0),"undefined"===typeof a.width&&(a.width=1),"undefined"===typeof a.height&&(a.height=1),"undefined"===typeof a.tiltX&&(a.tiltX=0),"undefined"===typeof a.tiltY&&(a.tiltY=0),"undefined"===typeof a.pointerType&&(a.pointerType="mouse"),"undefined"===typeof a.pointerId&&(a.pointerId=1),"undefined"===typeof a.pressure&&
(a.pressure=.5),a.twist=0,a.tangentialPressure=0,a.isNormalized=!0),b.push(a);return b};g.prototype.destroy=function(){this.removeEvents();this.removeAllListeners();this._tempPoint=this.onPointerOver=this.processPointerOverOut=this.onPointerOut=this.processPointerMove=this.onPointerMove=this.processPointerCancel=this.onPointerCancel=this.processPointerUp=this.onPointerUp=this.processPointerDown=this.onPointerDown=this.interactionDOMElement=this.eventData=this.mouse=this.renderer=null};return g}(k.default);
h.default=c;e.WebGLRenderer.registerPlugin("interaction",c);e.CanvasRenderer.registerPlugin("interaction",c)},{"../core":74,"./InteractionData":165,"./InteractionEvent":166,"./InteractionTrackingData":168,"./interactiveTarget":170,eventemitter3:199}],168:[function(c,k,h){h.__esModule=!0;var g=function(){function c(c,e){for(var b=0;b<e.length;b++){var a=e[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(c,a.key,a)}}return function(d,e,b){e&&c(d.prototype,
e);b&&c(d,b);return d}}();c=function(){function c(d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._pointerId=d;this._flags=c.FLAGS.NONE}c.prototype._doSet=function(c,e){this._flags=e?this._flags|c:this._flags&~c};g(c,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(c){this._flags=c}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!==
(this._flags&this.constructor.FLAGS.OVER)},set:function(c){this._doSet(this.constructor.FLAGS.OVER,c)}},{key:"rightDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(c){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,c)}},{key:"leftDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(c){this._doSet(this.constructor.FLAGS.LEFT_DOWN,c)}}]);return c}();h.default=c;c.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},
{}],169:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}h.__esModule=!0;var p=c("./InteractionData");Object.defineProperty(h,"InteractionData",{enumerable:!0,get:function(){return g(p).default}});var d=c("./InteractionManager");Object.defineProperty(h,"InteractionManager",{enumerable:!0,get:function(){return g(d).default}});var e=c("./interactiveTarget");Object.defineProperty(h,"interactiveTarget",{enumerable:!0,get:function(){return g(e).default}});var b=c("./InteractionTrackingData");
Object.defineProperty(h,"InteractionTrackingData",{enumerable:!0,get:function(){return g(b).default}});var a=c("./InteractionEvent");Object.defineProperty(h,"InteractionEvent",{enumerable:!0,get:function(){return g(a).default}})},{"./InteractionData":165,"./InteractionEvent":166,"./InteractionManager":167,"./InteractionTrackingData":168,"./interactiveTarget":170}],170:[function(c,k,h){h.__esModule=!0;h.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===
this.cursor},set buttonMode(c){c?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){void 0===this._trackedPointers&&(this._trackedPointers={});return this._trackedPointers},_trackedPointers:void 0}},{}],171:[function(c,k,h){function g(b,a){b.bitmapFont=e.BitmapText.registerFont(b.data,a)}h.__esModule=!0;h.parse=g;h.default=function(){return function(b,a){if(b.data&&b.type===d.Resource.TYPE.XML)if(0===b.data.getElementsByTagName("page").length||0===
b.data.getElementsByTagName("info").length||null===b.data.getElementsByTagName("info")[0].getAttribute("face"))a();else{var c=b.isDataUrl?"":p.dirname(b.url);b.isDataUrl&&("."===c&&(c=""),this.baseUrl&&c&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(c+="/"));(c=c.replace(this.baseUrl,""))&&"/"!==c.charAt(c.length-1)&&(c+="/");for(var e=b.data.getElementsByTagName("page"),h={},m=function(c){h[c.metadata.pageFile]=c.texture;Object.keys(h).length===e.length&&(g(b,h),a())},k=0;k<e.length;++k){var y=
e[k].getAttribute("file"),v=c+y,u=!1,A;for(A in this.resources)if(this.resources[A].url===v){this.resources[A].metadata.pageFile=y;m(this.resources[A]);u=!0;break}u||(y={crossOrigin:b.crossOrigin,loadType:d.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:y},b.metadata.imageMetadata),parentResource:b},this.add(v,y,m))}}else a()}};var p=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a.default=b;return a}(c("path")),
d=c("resource-loader"),e=c("../extras")},{"../extras":150,path:1,"resource-loader":205}],172:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}h.__esModule=!0;h.shared=h.Resource=h.textureParser=h.getResourcePath=h.spritesheetParser=h.parseBitmapFontData=h.bitmapFontParser=h.Loader=void 0;var p=c("./bitmapFontParser");Object.defineProperty(h,"bitmapFontParser",{enumerable:!0,get:function(){return g(p).default}});Object.defineProperty(h,"parseBitmapFontData",{enumerable:!0,get:function(){return p.parse}});
var d=c("./spritesheetParser");Object.defineProperty(h,"spritesheetParser",{enumerable:!0,get:function(){return g(d).default}});Object.defineProperty(h,"getResourcePath",{enumerable:!0,get:function(){return d.getResourcePath}});var e=c("./textureParser");Object.defineProperty(h,"textureParser",{enumerable:!0,get:function(){return g(e).default}});var b=c("resource-loader");Object.defineProperty(h,"Resource",{enumerable:!0,get:function(){return b.Resource}});k=c("../core/Application");k=g(k);c=c("./loader");
var a=g(c);h.Loader=a.default;var f=new a.default;f.destroy=function(){};h.shared=f;h=k.default.prototype;h._loader=null;Object.defineProperty(h,"loader",{get:function(){this._loader||(this._loader=this._options.sharedLoader?f:new a.default);return this._loader}});h._parentDestroy=h.destroy;h.destroy=function(a,b){this._loader&&(this._loader.destroy(),this._loader=null);this._parentDestroy(a,b)}},{"../core/Application":52,"./bitmapFontParser":171,"./loader":173,"./spritesheetParser":174,"./textureParser":175,
"resource-loader":205}],173:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});
b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;k=c("resource-loader");k=g(k);var e=c("resource-loader/lib/middlewares/parsing/blob"),b=c("eventemitter3"),a=g(b);b=c("./textureParser");b=g(b);var f=c("./spritesheetParser");f=g(f);c=c("./bitmapFontParser");c=g(c);var l=function(b){function c(d,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var e=p(this,b.call(this,d,f));a.default.call(e);for(d=0;d<c._pixiMiddleware.length;++d)e.use(c._pixiMiddleware[d]());
e.onStart.add(function(a){return e.emit("start",a)});e.onProgress.add(function(a,b){return e.emit("progress",a,b)});e.onError.add(function(a,b,c){return e.emit("error",a,b,c)});e.onLoad.add(function(a,b){return e.emit("load",a,b)});e.onComplete.add(function(a,b){return e.emit("complete",a,b)});return e}d(c,b);c.addPixiMiddleware=function(a){c._pixiMiddleware.push(a)};c.prototype.destroy=function(){this.removeAllListeners();this.reset()};return c}(k.default);h.default=l;for(var r in a.default.prototype)l.prototype[r]=
a.default.prototype[r];l._pixiMiddleware=[e.blobMiddlewareFactory,b.default,f.default,c.default];h=k.default.Resource;h.setExtensionXhrType("fnt",h.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":171,"./spritesheetParser":174,"./textureParser":175,eventemitter3:199,"resource-loader":205,"resource-loader/lib/middlewares/parsing/blob":206}],174:[function(c,k,h){function g(b,a){return b.isDataUrl?b.data.meta.image:d.default.resolve(b.url.replace(a,""),b.data.meta.image)}h.__esModule=!0;h.default=
function(){return function(b,a){var c=b.name+"_image";if(b.data&&b.type===p.Resource.TYPE.JSON&&b.data.frames&&!this.resources[c]){var d={crossOrigin:b.crossOrigin,metadata:b.metadata.imageMetadata,parentResource:b},h=g(b,this.baseUrl);this.add(c,h,d,function(c){if(c.error)a(c.error);else{var d=new e.Spritesheet(c.texture.baseTexture,b.data,b.url);d.parse(function(){b.spritesheet=d;b.textures=d.textures;a()})}})}else a()}};h.getResourcePath=g;var p=c("resource-loader"),d=(k=c("url"))&&k.__esModule?
k:{default:k},e=c("../core")},{"../core":74,"resource-loader":205,url:7}],175:[function(c,k,h){h.__esModule=!0;h.default=function(){return function(c,e){c.data&&c.type===g.Resource.TYPE.IMAGE&&(c.texture=p.default.fromLoader(c.data,c.url,c.name));e()}};var g=c("resource-loader"),p=(c=c("../core/textures/Texture"))&&c.__esModule?c:{default:c}},{"../core/textures/Texture":124,"resource-loader":205}],176:[function(c,k,h){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var p=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),d=function(a){if(a&&a.__esModule)return a;var b={};
if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(c("../core")),e=(c=c("../core/textures/Texture"))&&c.__esModule?c:{default:c},b=new d.Point,a=new d.Polygon;c=function(c){function f(a,b,g,h,l){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var m=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m._texture=
a||e.default.EMPTY;m.uvs=g||new Float32Array([0,0,1,0,1,1,0,1]);m.vertices=b||new Float32Array([0,0,100,0,100,100,0,100]);m.indices=h||new Uint16Array([0,1,3,2]);m.dirty=0;m.indexDirty=0;m.vertexDirty=0;m.autoUpdate=!0;m.blendMode=d.BLEND_MODES.NORMAL;m.canvasPadding=d.settings.MESH_CANVAS_PADDING;m.drawMode=l||f.DRAW_MODES.TRIANGLE_MESH;m.shader=null;m.tintRgb=new Float32Array([1,1,1]);m._glDatas={};m._uvTransform=new d.TextureMatrix(m._texture);m.uploadUvTransform=!1;m.pluginName="mesh";return m}
g(f,c);f.prototype._renderWebGL=function(a){this.refresh();a.setObjectRenderer(a.plugins[this.pluginName]);a.plugins[this.pluginName].render(this)};f.prototype._renderCanvas=function(a){this.refresh();a.plugins[this.pluginName].render(this)};f.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture;this.refresh()};f.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)};f.prototype.refresh=function(a){this.autoUpdate&&this.vertexDirty++;
this._uvTransform.update(a)&&this._refresh()};f.prototype._refresh=function(){};f.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)};f.prototype.containsPoint=function(c){if(!this.getBounds().contains(c.x,c.y))return!1;this.worldTransform.applyInverse(c,b);c=this.vertices;for(var d=a.points,e=this.indices,g=this.indices.length,h=this.drawMode===f.DRAW_MODES.TRIANGLES?3:1,l=0;l+2<g;l+=h){var k=2*e[l],p=2*e[l+1],r=2*e[l+2];d[0]=c[k];
d[1]=c[k+1];d[2]=c[p];d[3]=c[p+1];d[4]=c[r];d[5]=c[r+1];if(a.contains(b.x,b.y))return!0}return!1};f.prototype.destroy=function(a){for(var b in this._glDatas){var d=this._glDatas[b];d.destroy?d.destroy():(d.vertexBuffer&&(d.vertexBuffer.destroy(),d.vertexBuffer=null),d.indexBuffer&&(d.indexBuffer.destroy(),d.indexBuffer=null),d.uvBuffer&&(d.uvBuffer.destroy(),d.uvBuffer=null),d.vao&&(d.vao.destroy(),d.vao=null))}this._glDatas=null;c.prototype.destroy.call(this,a)};p(f,[{key:"texture",get:function(){return this._texture},
set:function(a){if(this._texture!==a&&(this._texture=a))if(a.baseTexture.hasLoaded)this._onTextureUpdate();else a.once("update",this._onTextureUpdate,this)}},{key:"tint",get:function(){return d.utils.rgb2hex(this.tintRgb)},set:function(a){this.tintRgb=d.utils.hex2rgb(a,this.tintRgb)}}]);return f}(d.Container);h.default=c;c.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":74,"../core/textures/Texture":124}],177:[function(c,k,h){function g(c,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+
typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}h.__esModule=!0;var p=function(){function c(c,b){for(var a=0;a<b.length;a++){var d=b[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(d,b,a){b&&c(d.prototype,b);a&&c(d,a);return d}}();c=c("./Plane");c=function(c){function d(b,a,f,e,g){if(!(this instanceof
d))throw new TypeError("Cannot call a class as a function");var h=c.call(this,b,4,4);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h._origWidth=b.orig.width;h._origHeight=b.orig.height;h._width=h._origWidth;h._height=h._origHeight;h._leftWidth="undefined"!==typeof a?a:10;h._rightWidth="undefined"!==typeof e?e:10;h._topHeight="undefined"!==typeof f?f:10;h._bottomHeight="undefined"!==typeof g?g:
10;h.refresh(!0);return h}g(d,c);d.prototype.updateHorizontalVertices=function(){var b=this.vertices,a=this._topHeight+this._bottomHeight;a=this._height>a?1:this._height/a;b[9]=b[11]=b[13]=b[15]=this._topHeight*a;b[17]=b[19]=b[21]=b[23]=this._height-this._bottomHeight*a;b[25]=b[27]=b[29]=b[31]=this._height};d.prototype.updateVerticalVertices=function(){var b=this.vertices,a=this._leftWidth+this._rightWidth;a=this._width>a?1:this._width/a;b[2]=b[10]=b[18]=b[26]=this._leftWidth*a;b[4]=b[12]=b[20]=b[28]=
this._width-this._rightWidth*a;b[6]=b[14]=b[22]=b[30]=this._width};d.prototype._renderCanvas=function(b){var a=b.context;a.globalAlpha=this.worldAlpha;b.setBlendMode(this.blendMode);var c=this.worldTransform,d=b.resolution;b.roundPixels?a.setTransform(c.a*d,c.b*d,c.c*d,c.d*d,c.tx*d|0,c.ty*d|0):a.setTransform(c.a*d,c.b*d,c.c*d,c.d*d,c.tx*d,c.ty*d);d=this._texture.baseTexture;b=d.source;c=d.width*d.resolution;d=d.height*d.resolution;this.drawSegment(a,b,c,d,0,1,10,11);this.drawSegment(a,b,c,d,2,3,12,
13);this.drawSegment(a,b,c,d,4,5,14,15);this.drawSegment(a,b,c,d,8,9,18,19);this.drawSegment(a,b,c,d,10,11,20,21);this.drawSegment(a,b,c,d,12,13,22,23);this.drawSegment(a,b,c,d,16,17,26,27);this.drawSegment(a,b,c,d,18,19,28,29);this.drawSegment(a,b,c,d,20,21,30,31)};d.prototype.drawSegment=function(b,a,c,d,e,g,h,k){var f=this.uvs,l=this.vertices,m=(f[h]-f[e])*c,p=(f[k]-f[g])*d;h=l[h]-l[e];k=l[k]-l[g];1>m&&(m=1);1>p&&(p=1);1>h&&(h=1);1>k&&(k=1);b.drawImage(a,f[e]*c,f[g]*d,m,p,l[e],l[g],h,k)};d.prototype._refresh=
function(){c.prototype._refresh.call(this);var b=this.uvs,a=this._texture;this._origWidth=a.orig.width;this._origHeight=a.orig.height;a=1/this._origWidth;var d=1/this._origHeight;b[0]=b[8]=b[16]=b[24]=0;b[1]=b[3]=b[5]=b[7]=0;b[6]=b[14]=b[22]=b[30]=1;b[25]=b[27]=b[29]=b[31]=1;b[2]=b[10]=b[18]=b[26]=a*this._leftWidth;b[4]=b[12]=b[20]=b[28]=1-a*this._rightWidth;b[9]=b[11]=b[13]=b[15]=d*this._topHeight;b[17]=b[19]=b[21]=b[23]=1-d*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();
this.dirty++;this.multiplyUvs()};p(d,[{key:"width",get:function(){return this._width},set:function(b){this._width=b;this._refresh()}},{key:"height",get:function(){return this._height},set:function(b){this._height=b;this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(b){this._leftWidth=b;this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(b){this._rightWidth=b;this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},
set:function(b){this._topHeight=b;this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(b){this._bottomHeight=b;this._refresh()}}]);return d}((c&&c.__esModule?c:{default:c}).default);h.default=c},{"./Plane":178}],178:[function(c,k,h){function g(c,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,
configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}h.__esModule=!0;var p=(c=c("./Mesh"))&&c.__esModule?c:{default:c};c=function(c){function d(b,a,f){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");b=c.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b._ready=!0;b.verticesX=a||10;b.verticesY=f||10;b.drawMode=p.default.DRAW_MODES.TRIANGLES;
b.refresh();return b}g(d,c);d.prototype._refresh=function(){var b=this._texture,a=this.verticesX*this.verticesY,c=[],d=[],e=[],g=this.verticesX-1,h=this.verticesY-1,k=b.width/g;b=b.height/h;for(var p=0;p<a;p++){var u=p%this.verticesX,A=p/this.verticesX|0;c.push(u*k,A*b);d.push(u/g,A/h)}a=g*h;for(h=0;h<a;h++)k=h%g,b=h/g|0,p=b*this.verticesX+k+1,u=(b+1)*this.verticesX+k,A=(b+1)*this.verticesX+k+1,e.push(b*this.verticesX+k,p,u),e.push(p,A,u);this.vertices=new Float32Array(c);this.uvs=new Float32Array(d);
this.colors=new Float32Array([]);this.indices=new Uint16Array(e);this.dirty++;this.indexDirty++;this.multiplyUvs()};d.prototype._onTextureUpdate=function(){p.default.prototype._onTextureUpdate.call(this);this._ready&&this.refresh()};return d}(p.default);h.default=c},{"./Mesh":176}],179:[function(c,k,h){function g(c,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,
enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}h.__esModule=!0;c=c("./Mesh");c=function(c){function d(e,b){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");e=c.call(this,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.points=b;e.vertices=new Float32Array(4*b.length);e.uvs=new Float32Array(4*b.length);
e.colors=new Float32Array(2*b.length);e.indices=new Uint16Array(2*b.length);e.autoUpdate=!0;e.refresh();return e}g(d,c);d.prototype._refresh=function(){var c=this.points;if(!(1>c.length)&&this._texture._uvs){this.vertices.length/4!==c.length&&(this.vertices=new Float32Array(4*c.length),this.uvs=new Float32Array(4*c.length),this.colors=new Float32Array(2*c.length),this.indices=new Uint16Array(2*c.length));var b=this.uvs,a=this.indices,d=this.colors;b[0]=0;b[1]=0;b[2]=0;b[3]=1;d[0]=1;d[1]=1;a[0]=0;
a[1]=1;c=c.length;for(var g=1;g<c;g++){var h=4*g,m=g/(c-1);b[h]=m;b[h+1]=0;b[h+2]=m;b[h+3]=1;h=2*g;d[h]=1;d[h+1]=1;h=2*g;a[h]=h;a[h+1]=h+1}this.dirty++;this.indexDirty++;this.multiplyUvs();this.refreshVertices()}};d.prototype.refreshVertices=function(){var c=this.points;if(!(1>c.length))for(var b=c[0],a,d,g=this.vertices,h=c.length,m=0;m<h;m++){var k=c[m],p=4*m;a=m<c.length-1?c[m+1]:k;d=-(a.x-b.x);b=a.y-b.y;a=Math.sqrt(b*b+d*d);var v=this._texture.height/2;b/=a;d/=a;b*=v;d*=v;g[p]=k.x+b;g[p+1]=k.y+
d;g[p+2]=k.x-b;g[p+3]=k.y-d;b=k}};d.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices();this.containerUpdateTransform()};return d}((c&&c.__esModule?c:{default:c}).default);h.default=c},{"./Mesh":176}],180:[function(c,k,h){h.__esModule=!0;k=function(c){if(c&&c.__esModule)return c;var d={};if(null!=c)for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(d[e]=c[e]);d.default=c;return d}(c("../../core"));var g=(c=c("../Mesh"))&&c.__esModule?c:{default:c};c=function(){function c(d){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");this.renderer=d}c.prototype.render=function(c){var d=this.renderer,b=d.context,a=c.worldTransform,f=d.resolution;d.roundPixels?b.setTransform(a.a*f,a.b*f,a.c*f,a.d*f,a.tx*f|0,a.ty*f|0):b.setTransform(a.a*f,a.b*f,a.c*f,a.d*f,a.tx*f,a.ty*f);d.context.globalAlpha=c.worldAlpha;d.setBlendMode(c.blendMode);c.drawMode===g.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(c):this._renderTriangles(c)};c.prototype._renderTriangleMesh=function(c){for(var d=
c.vertices.length/2,b=0;b<d-2;b++){var a=2*b;this._renderDrawTriangle(c,a,a+2,a+4)}};c.prototype._renderTriangles=function(c){for(var d=c.indices,b=d.length,a=0;a<b;a+=3)this._renderDrawTriangle(c,2*d[a],2*d[a+1],2*d[a+2])};c.prototype._renderDrawTriangle=function(c,e,b,a){var d=this.renderer.context,g=c.uvs,h=c.vertices,m=c._texture;if(m.valid){m=m.baseTexture;var k=m.source,p=m.width,v=m.height;if(c.uploadUvTransform){var u=c._uvTransform.mapCoord;var A=(g[e]*u.a+g[e+1]*u.c+u.tx)*m.width;var t=
(g[b]*u.a+g[b+1]*u.c+u.tx)*m.width;var x=(g[a]*u.a+g[a+1]*u.c+u.tx)*m.width;var z=(g[e]*u.b+g[e+1]*u.d+u.ty)*m.height;var B=(g[b]*u.b+g[b+1]*u.d+u.ty)*m.height;g=(g[a]*u.b+g[a+1]*u.d+u.ty)*m.height}else A=g[e]*m.width,t=g[b]*m.width,x=g[a]*m.width,z=g[e+1]*m.height,B=g[b+1]*m.height,g=g[a+1]*m.height;u=h[e];var D=h[b],C=h[a];e=h[e+1];b=h[b+1];a=h[a+1];var H=c.canvasPadding/this.renderer.resolution;if(0<H){h=H/Math.abs(c.worldTransform.a);c=H/Math.abs(c.worldTransform.d);H=(u+D+C)/3;var E=(e+b+a)/
3,F=u-H,N=e-E,I=Math.sqrt(F*F+N*N);u=H+F/I*(I+h);e=E+N/I*(I+c);F=D-H;N=b-E;I=Math.sqrt(F*F+N*N);D=H+F/I*(I+h);b=E+N/I*(I+c);F=C-H;N=a-E;I=Math.sqrt(F*F+N*N);C=H+F/I*(I+h);a=E+N/I*(I+c)}d.save();d.beginPath();d.moveTo(u,e);d.lineTo(D,b);d.lineTo(C,a);d.closePath();d.clip();c=A*B+z*x+t*g-B*x-z*t-A*g;d.transform((u*B+z*C+D*g-B*C-z*D-u*g)/c,(e*B+z*a+b*g-B*a-z*b-e*g)/c,(A*D+u*x+t*C-D*x-u*t-A*C)/c,(A*b+e*x+t*a-b*x-e*t-A*a)/c,(A*B*C+z*D*x+u*t*g-u*B*x-z*t*C-A*D*g)/c,(A*B*a+z*b*x+e*t*g-e*B*x-z*t*a-A*b*g)/
c);d.drawImage(k,0,0,p*m.resolution,v*m.resolution,0,0,p,v);d.restore();this.renderer.invalidateBlendMode()}};c.prototype.renderMeshFlat=function(c){var d=this.renderer.context;c=c.vertices;var b=c.length/2;d.beginPath();for(var a=1;a<b-2;++a){var f=2*a,g=c[f+2],h=c[f+3],m=c[f+4],k=c[f+5];d.moveTo(c[f],c[f+1]);d.lineTo(g,h);d.lineTo(m,k)}d.fillStyle="#FF0000";d.fill();d.closePath()};c.prototype.destroy=function(){this.renderer=null};return c}();h.default=c;k.CanvasRenderer.registerPlugin("mesh",c)},
{"../../core":74,"../Mesh":176}],181:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}h.__esModule=!0;var p=c("./Mesh");Object.defineProperty(h,"Mesh",{enumerable:!0,get:function(){return g(p).default}});var d=c("./webgl/MeshRenderer");Object.defineProperty(h,"MeshRenderer",{enumerable:!0,get:function(){return g(d).default}});var e=c("./canvas/CanvasMeshRenderer");Object.defineProperty(h,"CanvasMeshRenderer",{enumerable:!0,get:function(){return g(e).default}});var b=c("./Plane");
Object.defineProperty(h,"Plane",{enumerable:!0,get:function(){return g(b).default}});var a=c("./NineSlicePlane");Object.defineProperty(h,"NineSlicePlane",{enumerable:!0,get:function(){return g(a).default}});var f=c("./Rope");Object.defineProperty(h,"Rope",{enumerable:!0,get:function(){return g(f).default}})},{"./Mesh":176,"./NineSlicePlane":177,"./Plane":178,"./Rope":179,"./canvas/CanvasMeshRenderer":180,"./webgl/MeshRenderer":182}],182:[function(c,k,h){function g(a,b){if("function"!==typeof b&&null!==
b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var p=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(c("../../core")),d=(k=c("pixi-gl-core"))&&k.__esModule?k:{default:k},
e=(k=c("../Mesh"))&&k.__esModule?k:{default:k};c("path");var b=p.Matrix.IDENTITY;c=function(a){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b=a.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.shader=null;return b}g(c,a);c.prototype.onContextChange=function(){this.shader=new p.Shader(this.renderer.gl,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
"varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")};c.prototype.render=function(a){var c=this.renderer,f=c.gl,g=a._texture;if(g.valid){var h=a._glDatas[c.CONTEXT_UID];h||(c.bindVao(null),h={shader:this.shader,vertexBuffer:d.default.GLBuffer.createVertexBuffer(f,a.vertices,f.STREAM_DRAW),uvBuffer:d.default.GLBuffer.createVertexBuffer(f,a.uvs,f.STREAM_DRAW),indexBuffer:d.default.GLBuffer.createIndexBuffer(f,
a.indices,f.STATIC_DRAW),vao:null,dirty:a.dirty,indexDirty:a.indexDirty,vertexDirty:a.vertexDirty},h.vao=(new d.default.VertexArrayObject(f)).addIndex(h.indexBuffer).addAttribute(h.vertexBuffer,h.shader.attributes.aVertexPosition,f.FLOAT,!1,8,0).addAttribute(h.uvBuffer,h.shader.attributes.aTextureCoord,f.FLOAT,!1,8,0),a._glDatas[c.CONTEXT_UID]=h);c.bindVao(h.vao);a.dirty!==h.dirty&&(h.dirty=a.dirty,h.uvBuffer.upload(a.uvs));a.indexDirty!==h.indexDirty&&(h.indexDirty=a.indexDirty,h.indexBuffer.upload(a.indices));
a.vertexDirty!==h.vertexDirty&&(h.vertexDirty=a.vertexDirty,h.vertexBuffer.upload(a.vertices));c.bindShader(h.shader);h.shader.uniforms.uSampler=c.bindTexture(g);c.state.setBlendMode(p.utils.correctBlendMode(a.blendMode,g.baseTexture.premultipliedAlpha));h.shader.uniforms.uTransform&&(h.shader.uniforms.uTransform=a.uploadUvTransform?a._uvTransform.mapCoord.toArray(!0):b.toArray(!0));h.shader.uniforms.translationMatrix=a.worldTransform.toArray(!0);h.shader.uniforms.uColor=p.utils.premultiplyRgba(a.tintRgb,
a.worldAlpha,h.shader.uniforms.uColor,g.baseTexture.premultipliedAlpha);h.vao.draw(a.drawMode===e.default.DRAW_MODES.TRIANGLE_MESH?f.TRIANGLE_STRIP:f.TRIANGLES,a.indices.length,0)}};return c}(p.ObjectRenderer);h.default=c;p.WebGLRenderer.registerPlugin("mesh",c)},{"../../core":74,"../Mesh":176,path:1,"pixi-gl-core":22}],183:[function(c,k,h){function g(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&
a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}h.__esModule=!0;var p=function(){function b(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}(),d=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(a[c]=b[c]);a.default=b;return a}(c("../core")),e=c("../core/utils");c=function(b){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,e=arguments[1],g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var k=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");k=
!k||"object"!==typeof k&&"function"!==typeof k?this:k;16384<g&&(g=16384);g>c&&(g=c);k._properties=[!1,!0,!1,!1,!1];k._maxSize=c;k._batchSize=g;k._glBuffers={};k._bufferUpdateIDs=[];k._updateID=0;k.interactiveChildren=!1;k.blendMode=d.BLEND_MODES.NORMAL;k.autoResize=h;k.roundPixels=!0;k.baseTexture=null;k.setProperties(e);k._tint=0;k.tintRgb=new Float32Array(4);k.tint=16777215;return k}g(a,b);a.prototype.setProperties=function(a){a&&(this._properties[0]="vertices"in a||"scale"in a?!!a.vertices||!!a.scale:
this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="tint"in a||"alpha"in a?!!a.tint||!!a.alpha:this._properties[4])};a.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};a.prototype.renderWebGL=function(a){var b=this;if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){if(!this.baseTexture&&
(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded))this.baseTexture.once("update",function(){return b.onChildrenChange(0)});a.setObjectRenderer(a.plugins.particle);a.plugins.particle.render(this)}};a.prototype.onChildrenChange=function(a){for(a=Math.floor(a/this._batchSize);this._bufferUpdateIDs.length<a;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[a]=++this._updateID};a.prototype.renderCanvas=function(a){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&
this.renderable){var b=a.context,c=this.worldTransform,d=!0;a.setBlendMode(this.blendMode);b.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(var f=0;f<this.children.length;++f){var e=this.children[f];if(e.visible){var g=e._texture.frame;b.globalAlpha=this.worldAlpha*e.alpha;if(0===e.rotation%(2*Math.PI)){d&&(b.setTransform(c.a,c.b,c.c,c.d,c.tx*a.resolution,c.ty*a.resolution),d=!1);var h=e.anchor.x*-g.width*e.scale.x+e.position.x+.5;var k=e.anchor.y*-g.height*e.scale.y+e.position.y+
.5;var p=g.width*e.scale.x;var x=g.height*e.scale.y}else d||(d=!0),e.displayObjectUpdateTransform(),h=e.worldTransform,a.roundPixels?b.setTransform(h.a,h.b,h.c,h.d,h.tx*a.resolution|0,h.ty*a.resolution|0):b.setTransform(h.a,h.b,h.c,h.d,h.tx*a.resolution,h.ty*a.resolution),h=e.anchor.x*-g.width+.5,k=e.anchor.y*-g.height+.5,p=g.width,x=g.height;var z=e._texture.baseTexture.resolution;b.drawImage(e._texture.baseTexture.source,g.x*z,g.y*z,g.width*z,g.height*z,h*a.resolution,k*a.resolution,p*a.resolution,
x*a.resolution)}}}};a.prototype.destroy=function(a){b.prototype.destroy.call(this,a);if(this._buffers)for(a=0;a<this._buffers.length;++a)this._buffers[a].destroy();this._bufferUpdateIDs=this._buffers=this._properties=null};p(a,[{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a;(0,e.hex2rgb)(a,this.tintRgb)}}]);return a}(d.Container);h.default=c},{"../core":74,"../core/utils":134}],184:[function(c,k,h){h.__esModule=!0;var g=c("./ParticleContainer");Object.defineProperty(h,
"ParticleContainer",{enumerable:!0,get:function(){return(g&&g.__esModule?g:{default:g}).default}});var p=c("./webgl/ParticleRenderer");Object.defineProperty(h,"ParticleRenderer",{enumerable:!0,get:function(){return(p&&p.__esModule?p:{default:p}).default}})},{"./ParticleContainer":183,"./webgl/ParticleRenderer":186}],185:[function(c,k,h){h.__esModule=!0;var g=(k=c("pixi-gl-core"))&&k.__esModule?k:{default:k},p=(c=c("../../core/utils/createIndicesForQuads"))&&c.__esModule?c:{default:c};c=function(){function c(d,
b,a,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.gl=d;this.size=f;this.dynamicProperties=[];this.staticProperties=[];for(d=0;d<b.length;++d)f=b[d],f={attribute:f.attribute,size:f.size,uploadFunction:f.uploadFunction,unsignedByte:f.unsignedByte,offset:f.offset},a[d]?this.dynamicProperties.push(f):this.staticProperties.push(f);this.staticStride=0;this.staticDataUint32=this.staticData=this.staticBuffer=null;this.dynamicStride=0;this.dynamicDataUint32=this.dynamicData=
this.dynamicBuffer=null;this._updateID=0;this.initBuffers()}c.prototype.initBuffers=function(){var c=this.gl,b=0;this.indices=(0,p.default)(this.size);this.indexBuffer=g.default.GLBuffer.createIndexBuffer(c,this.indices,c.STATIC_DRAW);for(var a=this.dynamicStride=0;a<this.dynamicProperties.length;++a){var d=this.dynamicProperties[a];d.offset=b;b+=d.size;this.dynamicStride+=d.size}b=new ArrayBuffer(this.size*this.dynamicStride*16);this.dynamicData=new Float32Array(b);this.dynamicDataUint32=new Uint32Array(b);
this.dynamicBuffer=g.default.GLBuffer.createVertexBuffer(c,b,c.STREAM_DRAW);for(a=this.staticStride=b=0;a<this.staticProperties.length;++a)d=this.staticProperties[a],d.offset=b,b+=d.size,this.staticStride+=d.size;b=new ArrayBuffer(this.size*this.staticStride*16);this.staticData=new Float32Array(b);this.staticDataUint32=new Uint32Array(b);this.staticBuffer=g.default.GLBuffer.createVertexBuffer(c,b,c.STATIC_DRAW);this.vao=(new g.default.VertexArrayObject(c)).addIndex(this.indexBuffer);for(b=0;b<this.dynamicProperties.length;++b)a=
this.dynamicProperties[b],a.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,a.attribute,c.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*a.offset):this.vao.addAttribute(this.dynamicBuffer,a.attribute,c.FLOAT,!1,4*this.dynamicStride,4*a.offset);for(b=0;b<this.staticProperties.length;++b)a=this.staticProperties[b],a.unsignedByte?this.vao.addAttribute(this.staticBuffer,a.attribute,c.UNSIGNED_BYTE,!0,4*this.staticStride,4*a.offset):this.vao.addAttribute(this.staticBuffer,a.attribute,c.FLOAT,!1,4*this.staticStride,
4*a.offset)};c.prototype.uploadDynamic=function(c,b,a){for(var d=0;d<this.dynamicProperties.length;d++){var e=this.dynamicProperties[d];e.uploadFunction(c,b,a,e.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,e.offset)}this.dynamicBuffer.upload()};c.prototype.uploadStatic=function(c,b,a){for(var d=0;d<this.staticProperties.length;d++){var e=this.staticProperties[d];e.uploadFunction(c,b,a,e.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,e.offset)}this.staticBuffer.upload()};
c.prototype.destroy=function(){this.dynamicProperties=null;this.dynamicBuffer.destroy();this.staticProperties=this.dynamicDataUint32=this.dynamicData=this.dynamicBuffer=null;this.staticBuffer.destroy();this.staticDataUint32=this.staticData=this.staticBuffer=null};return c}();h.default=c},{"../../core/utils/createIndicesForQuads":132,"pixi-gl-core":22}],186:[function(c,k,h){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var p=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(c("../../core")),d=(k=c("./ParticleShader"))&&k.__esModule?k:{default:k},e=(k=c("./ParticleBuffer"))&&k.__esModule?k:{default:k},b=c("../../core/utils");
c=function(a){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b=a.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.shader=null;b.indexBuffer=null;b.properties=null;b.tempMatrix=new p.Matrix;b.CONTEXT_UID=0;return b}g(c,a);c.prototype.onContextChange=function(){var a=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=
new d.default(a);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,
offset:0}]};c.prototype.start=function(){this.renderer.bindShader(this.shader)};c.prototype.render=function(a){var b=a.children,c=a._maxSize,d=a._batchSize,f=this.renderer,e=b.length;if(0!==e){e>c&&(e=c);(c=a._glBuffers[f.CONTEXT_UID])||(c=a._glBuffers[f.CONTEXT_UID]=this.generateBuffers(a));var g=b[0]._texture.baseTexture;this.renderer.setBlendMode(p.utils.correctBlendMode(a.blendMode,g.premultipliedAlpha));var h=f.gl,k=a.worldTransform.copy(this.tempMatrix);k.prepend(f._activeRenderTarget.projectionMatrix);
this.shader.uniforms.projectionMatrix=k.toArray(!0);this.shader.uniforms.uColor=p.utils.premultiplyRgba(a.tintRgb,a.worldAlpha,this.shader.uniforms.uColor,g.premultipliedAlpha);this.shader.uniforms.uSampler=f.bindTexture(g);g=!1;for(var l=k=0;k<e;k+=d,l+=1){var z=e-k;z>d&&(z=d);if(l>=c.length){if(!a.autoResize)break;c.push(this._generateOneMoreBuffer(a))}var B=c[l];B.uploadDynamic(b,k,z);var D=a._bufferUpdateIDs[l]||0;if(g=g||B._updateID<D)B._updateID=a._updateID,B.uploadStatic(b,k,z);f.bindVao(B.vao);
B.vao.draw(h.TRIANGLES,6*z)}}};c.prototype.generateBuffers=function(a){var b=this.renderer.gl,c=[],d=a._maxSize,f=a._batchSize;a=a._properties;for(var g=0;g<d;g+=f)c.push(new e.default(b,this.properties,a,f));return c};c.prototype._generateOneMoreBuffer=function(a){return new e.default(this.renderer.gl,this.properties,a._properties,a._batchSize)};c.prototype.uploadVertices=function(a,b,c,d,f,e){for(var g,h,m,k,l=0;l<c;++l){k=a[b+l];g=k._texture;var p=k.scale.x,q=k.scale.y;m=g.trim;var r=g.orig;m?
(h=m.x-k.anchor.x*r.width,g=h+m.width,k=m.y-k.anchor.y*r.height,m=k+m.height):(g=r.width*(1-k.anchor.x),h=r.width*-k.anchor.x,m=r.height*(1-k.anchor.y),k=r.height*-k.anchor.y);d[e]=h*p;d[e+1]=k*q;d[e+f]=g*p;d[e+f+1]=k*q;d[e+2*f]=g*p;d[e+2*f+1]=m*q;d[e+3*f]=h*p;d[e+3*f+1]=m*q;e+=4*f}};c.prototype.uploadPosition=function(a,b,c,d,f,e){for(var g=0;g<c;g++){var h=a[b+g].position;d[e]=h.x;d[e+1]=h.y;d[e+f]=h.x;d[e+f+1]=h.y;d[e+2*f]=h.x;d[e+2*f+1]=h.y;d[e+3*f]=h.x;d[e+3*f+1]=h.y;e+=4*f}};c.prototype.uploadRotation=
function(a,b,c,d,f,e){for(var g=0;g<c;g++){var h=a[b+g].rotation;d[e]=h;d[e+f]=h;d[e+2*f]=h;d[e+3*f]=h;e+=4*f}};c.prototype.uploadUvs=function(a,b,c,d,f,e){for(var g=0;g<c;++g){var h=a[b+g]._texture._uvs;h?(d[e]=h.x0,d[e+1]=h.y0,d[e+f]=h.x1,d[e+f+1]=h.y1,d[e+2*f]=h.x2,d[e+2*f+1]=h.y2,d[e+3*f]=h.x3,d[e+3*f+1]=h.y3):(d[e]=0,d[e+1]=0,d[e+f]=0,d[e+f+1]=0,d[e+2*f]=0,d[e+2*f+1]=0,d[e+3*f]=0,d[e+3*f+1]=0);e+=4*f}};c.prototype.uploadTint=function(a,c,d,f,e,g){for(var h=0;h<d;++h){var m=a[c+h],k=m._texture.baseTexture.premultipliedAlpha,
l=m.alpha;m=1>l&&k?(0,b.premultiplyTint)(m._tintRGB,l):m._tintRGB+(255*l<<24);f[g]=m;f[g+e]=m;f[g+2*e]=m;f[g+3*e]=m;g+=4*e}};c.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer);a.prototype.destroy.call(this);this.shader.destroy();this.tempMatrix=this.indices=null};return c}(p.ObjectRenderer);h.default=c;p.WebGLRenderer.registerPlugin("particle",c)},{"../../core":74,"../../core/utils":134,"./ParticleBuffer":185,"./ParticleShader":187}],187:[function(c,k,
h){function g(c,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}h.__esModule=!0;c=c("../../core/Shader");c=function(c){function d(e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");e=c.call(this,e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute vec2 aPositionCoord;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nuniform vec4 uColor;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvoid main(void){\n   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   vec2 v = vec2(x, y);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor * uColor;\n}",
"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n  gl_FragColor = color;\n}");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?this:e}g(d,c);return d}((c&&c.__esModule?c:{default:c}).default);h.default=c},{"../../core/Shader":53}],188:[function(c,k,h){Math.sign||(Math.sign=function(c){c=Number(c);
return 0===c||isNaN(c)?c:0<c?1:-1})},{}],189:[function(c,k,h){Number.isInteger||(Number.isInteger=function(c){return"number"===typeof c&&isFinite(c)&&Math.floor(c)===c})},{}],190:[function(c,k,h){c=(c=c("object-assign"))&&c.__esModule?c:{default:c};Object.assign||(Object.assign=c.default)},{"object-assign":13}],191:[function(c,k,h){c("./Object.assign");c("./requestAnimationFrame");c("./Math.sign");c("./Number.isInteger");window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=
Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":188,"./Number.isInteger":189,"./Object.assign":190,"./requestAnimationFrame":192}],192:[function(c,k,h){(function(c){Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()});if(!c.performance||!c.performance.now){var g=Date.now();c.performance||(c.performance={});c.performance.now=function(){return Date.now()-g}}for(var d=Date.now(),e=["ms","moz","webkit",
"o"],b=0;b<e.length&&!c.requestAnimationFrame;++b){var a=e[b];c.requestAnimationFrame=c[a+"RequestAnimationFrame"];c.cancelAnimationFrame=c[a+"CancelAnimationFrame"]||c[a+"CancelRequestAnimationFrame"]}c.requestAnimationFrame||(c.requestAnimationFrame=function(a){if("function"!==typeof a)throw new TypeError(a+"is not a function");var b=Date.now(),c=16+d-b;0>c&&(c=0);d=b;return setTimeout(function(){d=Date.now();a(performance.now())},c)});c.cancelAnimationFrame||(c.cancelAnimationFrame=function(a){return clearTimeout(a)})}).call(this,
"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],193:[function(c,k,h){function g(a,b){var c=!1;if(a&&a._textures&&a._textures.length)for(var d=0;d<a._textures.length;d++)if(a._textures[d]instanceof l.Texture){var e=a._textures[d].baseTexture;-1===b.indexOf(e)&&(b.push(e),c=!0)}return c}function p(a,b){return a instanceof l.BaseTexture?(-1===b.indexOf(a)&&b.push(a),!0):!1}function d(a,b){return a._texture&&a._texture instanceof l.Texture?
(a=a._texture.baseTexture,-1===b.indexOf(a)&&b.push(a),!0):!1}function e(a,b){return b instanceof l.Text?(b.updateText(!0),!0):!1}function b(a,b){return b instanceof l.TextStyle?(a=b.toFontString(),l.TextMetrics.measureFont(a),!0):!1}function a(a,b){return a instanceof l.Text?(-1===b.indexOf(a.style)&&b.push(a.style),-1===b.indexOf(a)&&b.push(a),a=a._texture.baseTexture,-1===b.indexOf(a)&&b.push(a),!0):!1}function f(a,b){return a instanceof l.TextStyle?(-1===b.indexOf(a)&&b.push(a),!0):!1}h.__esModule=
!0;var l=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(c("../core")),r=(c=c("./limiters/CountLimiter"))&&c.__esModule?c:{default:c},m=l.ticker.shared;l.settings.UPLOADS_PER_FRAME=4;c=function(){function c(h){var m=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.limiter=new r.default(l.settings.UPLOADS_PER_FRAME);this.renderer=h;this.uploadHookHelper=
null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.delayedTick=function(){m.queue&&m.prepareItems()};this.registerFindHook(a);this.registerFindHook(f);this.registerFindHook(g);this.registerFindHook(p);this.registerFindHook(d);this.registerUploadHook(e);this.registerUploadHook(b)}c.prototype.upload=function(a,b){"function"===typeof a&&(b=a,a=null);a&&this.add(a);this.queue.length?(b&&this.completes.push(b),this.ticking||(this.ticking=!0,m.addOnce(this.tick,
this,l.UPDATE_PRIORITY.UTILITY))):b&&b()};c.prototype.tick=function(){setTimeout(this.delayedTick,0)};c.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var a=this.queue[0],b=!1;if(a&&!a._destroyed)for(var c=0,d=this.uploadHooks.length;c<d;c++)if(this.uploadHooks[c](this.uploadHookHelper,a)){this.queue.shift();b=!0;break}b||this.queue.shift()}if(this.queue.length)m.addOnce(this.tick,this,l.UPDATE_PRIORITY.UTILITY);else for(this.ticking=
!1,a=this.completes.slice(0),b=this.completes.length=0,c=a.length;b<c;b++)a[b]()};c.prototype.registerFindHook=function(a){a&&this.addHooks.push(a);return this};c.prototype.registerUploadHook=function(a){a&&this.uploadHooks.push(a);return this};c.prototype.add=function(a){for(var b=0,c=this.addHooks.length;b<c&&!this.addHooks[b](a,this.queue);b++);if(a instanceof l.Container)for(b=a.children.length-1;0<=b;b--)this.add(a.children[b]);return this};c.prototype.destroy=function(){this.ticking&&m.remove(this.tick,
this);this.ticking=!1;this.uploadHookHelper=this.limiter=this.queue=this.completes=this.renderer=this.uploadHooks=this.addHooks=null};return c}();h.default=c},{"../core":74,"./limiters/CountLimiter":196}],194:[function(c,k,h){function g(c,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,
b):c.__proto__=b)}function p(c,b){return b instanceof d.BaseTexture?(b=b.source,c.ctx.drawImage(b,0,0,0===b.width?c.canvas.width:Math.min(c.canvas.width,b.width),0===b.height?c.canvas.height:Math.min(c.canvas.height,b.height),0,0,c.canvas.width,c.canvas.height),!0):!1}h.__esModule=!0;var d=function(c){if(c&&c.__esModule)return c;var b={};if(null!=c)for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a]);b.default=c;return b}(c("../../core"));c=c("../BasePrepare");c=function(c){function b(a){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");a=c.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.uploadHookHelper=a;a.canvas=document.createElement("canvas");a.canvas.width=16;a.canvas.height=16;a.ctx=a.canvas.getContext("2d");a.registerUploadHook(p);return a}g(b,c);b.prototype.destroy=function(){c.prototype.destroy.call(this);this.canvas=this.ctx=null};return b}((c&&
c.__esModule?c:{default:c}).default);h.default=c;d.CanvasRenderer.registerPlugin("prepare",c)},{"../../core":74,"../BasePrepare":193}],195:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}h.__esModule=!0;var p=c("./webgl/WebGLPrepare");Object.defineProperty(h,"webgl",{enumerable:!0,get:function(){return g(p).default}});var d=c("./canvas/CanvasPrepare");Object.defineProperty(h,"canvas",{enumerable:!0,get:function(){return g(d).default}});var e=c("./BasePrepare");Object.defineProperty(h,
"BasePrepare",{enumerable:!0,get:function(){return g(e).default}});var b=c("./limiters/CountLimiter");Object.defineProperty(h,"CountLimiter",{enumerable:!0,get:function(){return g(b).default}});var a=c("./limiters/TimeLimiter");Object.defineProperty(h,"TimeLimiter",{enumerable:!0,get:function(){return g(a).default}})},{"./BasePrepare":193,"./canvas/CanvasPrepare":194,"./limiters/CountLimiter":196,"./limiters/TimeLimiter":197,"./webgl/WebGLPrepare":198}],196:[function(c,k,h){h.__esModule=!0;c=function(){function c(g){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");this.maxItemsPerFrame=g;this.itemsLeft=0}c.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};c.prototype.allowedToUpload=function(){return 0<this.itemsLeft--};return c}();h.default=c},{}],197:[function(c,k,h){h.__esModule=!0;c=function(){function c(g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.maxMilliseconds=g;this.frameStart=0}c.prototype.beginFrame=function(){this.frameStart=
Date.now()};c.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};return c}();h.default=c},{}],198:[function(c,k,h){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function p(a,c){return c instanceof
b.BaseTexture?(c._glTextures[a.CONTEXT_UID]||a.textureManager.updateTexture(c),!0):!1}function d(a,c){return c instanceof b.Graphics?((c.dirty||c.clearDirty||!c._webGL[a.plugins.graphics.CONTEXT_UID])&&a.plugins.graphics.updateGraphics(c),!0):!1}function e(a,c){return a instanceof b.Graphics?(c.push(a),!0):!1}h.__esModule=!0;var b=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(c("../../core"));
c=c("../BasePrepare");c=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.uploadHookHelper=c.renderer;c.registerFindHook(e);c.registerUploadHook(p);c.registerUploadHook(d);return c}g(b,a);return b}((c&&c.__esModule?c:{default:c}).default);h.default=c;b.WebGLRenderer.registerPlugin("prepare",
c)},{"../../core":74,"../BasePrepare":193}],199:[function(c,k,h){function g(){}function p(a,b,c){this.fn=a;this.context=b;this.once=c||!1}function d(){this._events=new g;this._eventsCount=0}var e=Object.prototype.hasOwnProperty,b="~";Object.create&&(g.prototype=Object.create(null),(new g).__proto__||(b=!1));d.prototype.eventNames=function(){var a=[],c,d;if(0===this._eventsCount)return a;for(d in c=this._events)e.call(c,d)&&a.push(b?d.slice(1):d);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(c)):
a};d.prototype.listeners=function(a,c){a=this._events[b?b+a:a];if(c)return!!a;if(!a)return[];if(a.fn)return[a.fn];c=0;for(var d=a.length,e=Array(d);c<d;c++)e[c]=a[c].fn;return e};d.prototype.emit=function(a,c,d,e,g,h){var f=b?b+a:a;if(!this._events[f])return!1;f=this._events[f];var m=arguments.length,k;if(f.fn){f.once&&this.removeListener(a,f.fn,void 0,!0);switch(m){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,c),!0;case 3:return f.fn.call(f.context,c,d),!0;case 4:return f.fn.call(f.context,
c,d,e),!0;case 5:return f.fn.call(f.context,c,d,e,g),!0;case 6:return f.fn.call(f.context,c,d,e,g,h),!0}var l=1;for(k=Array(m-1);l<m;l++)k[l-1]=arguments[l];f.fn.apply(f.context,k)}else{var p=f.length;for(l=0;l<p;l++)switch(f[l].once&&this.removeListener(a,f[l].fn,void 0,!0),m){case 1:f[l].fn.call(f[l].context);break;case 2:f[l].fn.call(f[l].context,c);break;case 3:f[l].fn.call(f[l].context,c,d);break;case 4:f[l].fn.call(f[l].context,c,d,e);break;default:if(!k){var q=1;for(k=Array(m-1);q<m;q++)k[q-
1]=arguments[q]}f[l].fn.apply(f[l].context,k)}}return!0};d.prototype.on=function(a,c,d){c=new p(c,d||this);a=b?b+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],c]:this._events[a].push(c):(this._events[a]=c,this._eventsCount++);return this};d.prototype.once=function(a,c,d){c=new p(c,d||this,!0);a=b?b+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],c]:this._events[a].push(c):(this._events[a]=c,this._eventsCount++);return this};d.prototype.removeListener=
function(a,c,d,e){a=b?b+a:a;if(!this._events[a])return this;if(!c)return 0===--this._eventsCount?this._events=new g:delete this._events[a],this;var f=this._events[a];if(f.fn)f.fn!==c||e&&!f.once||d&&f.context!==d||(0===--this._eventsCount?this._events=new g:delete this._events[a]);else{for(var h=0,k=[],l=f.length;h<l;h++)(f[h].fn!==c||e&&!f[h].once||d&&f[h].context!==d)&&k.push(f[h]);k.length?this._events[a]=1===k.length?k[0]:k:0===--this._eventsCount?this._events=new g:delete this._events[a]}return this};
d.prototype.removeAllListeners=function(a){a?(a=b?b+a:a,this._events[a]&&(0===--this._eventsCount?this._events=new g:delete this._events[a])):(this._events=new g,this._eventsCount=0);return this};d.prototype.off=d.prototype.removeListener;d.prototype.addListener=d.prototype.on;d.prototype.setMaxListeners=function(){return this};d.prefixed=b;d.EventEmitter=d;"undefined"!==typeof k&&(k.exports=d)},{}],200:[function(c,k,h){k.exports=function(c,h,d){var e=c.length;if(!(h>=e||0===d)){d=h+d>e?e-h:d;for(e-=
d;h<e;++h)c[h]=c[h+d];c.length=e}}},{}],201:[function(c,k,h){function g(a){return a&&a.__esModule?a:{default:a}}h.__esModule=!0;$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();var p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=function(){function a(a,b){for(var c=
0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();k=c("mini-signals");var e=g(k);k=c("parse-uri");var b=g(k),a=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(c("./async"));c=c("./Resource");var f=g(c),l=/(#[\w-]+)?$/;c=function(){function c(){var b=
this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.baseUrl=d;this.progress=0;this.loading=!1;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(a,c){return b._loadResource(a,c)};this._queue=a.queue(this._boundLoadResource,f);this._queue.pause();this.resources=
{};this.onProgress=new e.default;this.onError=new e.default;this.onLoad=new e.default;this.onStart=new e.default;this.onComplete=new e.default}c.prototype.add=function(a,b,c,d){if(Array.isArray(a)){for(b=0;b<a.length;++b)this.add(a[b]);return this}"object"===("undefined"===typeof a?"undefined":p(a))&&(d=b||a.callback||a.onComplete,c=a,b=a.url,a=a.name||a.key||a.url);"string"!==typeof b&&(d=c,c=b,b=a);if("string"!==typeof b)throw Error("No url passed to add resource to loader.");"function"===typeof c&&
(d=c,c=null);if(this.loading&&(!c||!c.parentResource))throw Error("Cannot add resources while the loader is running.");if(this.resources[a])throw Error('Resource named "'+a+'" already exists.');b=this._prepareUrl(b);this.resources[a]=new f.default(a,b,c);if("function"===typeof d)this.resources[a].onAfterMiddleware.once(d);if(this.loading){c=c.parentResource;b=[];for(d=0;d<c.children.length;++d)c.children[d].isComplete||b.push(c.children[d]);d=c.progressChunk*(b.length+1)/(b.length+2);c.children.push(this.resources[a]);
c.progressChunk=d;for(c=0;c<b.length;++c)b[c].progressChunk=d;this.resources[a].progressChunk=d}this._queue.push(this.resources[a]);return this};c.prototype.pre=function(a){this._beforeMiddleware.push(a);return this};c.prototype.use=function(a){this._afterMiddleware.push(a);return this};c.prototype.reset=function(){this.progress=0;this.loading=!1;this._queue.kill();this._queue.pause();for(var a in this.resources){var b=this.resources[a];b._onLoadBinding&&b._onLoadBinding.detach();b.isLoading&&b.abort()}this.resources=
{};return this};c.prototype.load=function(a){if("function"===typeof a)this.onComplete.once(a);if(this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{a=100/this._queue._tasks.length;for(var b=0;b<this._queue._tasks.length;++b)this._queue._tasks[b].data.progressChunk=a;this._onStart();this._queue.resume()}return this};c.prototype._prepareUrl=function(a){var c=(0,b.default)(a,{strictMode:!0});a=c.protocol||!c.path||0===a.indexOf("//")?a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==
this.baseUrl.length-1&&"/"!==a.charAt(0)?this.baseUrl+"/"+a:this.baseUrl+a;this.defaultQueryString&&(c=l.exec(a)[0],a=a.substr(0,a.length-c.length),a=-1!==a.indexOf("?")?a+("&"+this.defaultQueryString):a+("?"+this.defaultQueryString),a+=c);return a};c.prototype._loadResource=function(b,c){var d=this;b._dequeue=c;a.eachSeries(this._beforeMiddleware,function(a,c){a.call(d,b,function(){c(b.isComplete?{}:null)})},function(){b.isComplete?d._onLoad(b):(b._onLoadBinding=b.onComplete.once(d._onLoad,d),b.load())},
!0)};c.prototype._onStart=function(){this.progress=0;this.loading=!0;this.onStart.dispatch(this)};c.prototype._onComplete=function(){this.progress=100;this.loading=!1;this.onComplete.dispatch(this,this.resources)};c.prototype._onLoad=function(b){var c=this;b._onLoadBinding=null;this._resourcesParsing.push(b);b._dequeue();a.eachSeries(this._afterMiddleware,function(a,d){a.call(c,b,d)},function(){b.onAfterMiddleware.dispatch(b);c.progress+=b.progressChunk;c.onProgress.dispatch(c,b);b.error?c.onError.dispatch(b.error,
c,b):c.onLoad.dispatch(c,b);c._resourcesParsing.splice(c._resourcesParsing.indexOf(b),1);c._queue.idle()&&0===c._resourcesParsing.length&&c._onComplete()},!0)};d(c,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(a){this._queue.concurrency=a}}]);return c}();h.default=c},{"./Resource":202,"./async":203,"mini-signals":12,"parse-uri":14}],202:[function(c,k,h){function g(){}function p(a,b,c){b&&0===b.indexOf(".")&&(b=b.substring(1));b&&(a[b]=c)}function d(a){return a.toString().replace("object ",
"")}h.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=(k=c("parse-uri"))&&k.__esModule?k:{default:k},a=(c=c("mini-signals"))&&c.__esModule?c:{default:c},f=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;c=function(){function c(b,d,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
if("string"!==typeof b||"string"!==typeof d)throw Error("Both name and url are required for constructing a resource.");e=e||{};this._flags=0;this._setFlag(c.STATUS_FLAGS.DATA_URL,0===d.indexOf("data:"));this.name=b;this.url=d;this.extension=this._getExtension();this.data=null;this.crossOrigin=!0===e.crossOrigin?"anonymous":e.crossOrigin;this.loadType=e.loadType||this._determineLoadType();this.xhrType=e.xhrType;this.metadata=e.metadata||{};this.xhr=this.error=null;this.children=[];this.type=c.TYPE.UNKNOWN;
this.progressChunk=0;this._dequeue=g;this._onLoadBinding=null;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this);this.onStart=new a.default;this.onProgress=new a.default;this.onComplete=new a.default;this.onAfterMiddleware=
new a.default}c.setExtensionLoadType=function(a,b){p(c._loadTypeMap,a,b)};c.setExtensionXhrType=function(a,b){p(c._xhrTypeMap,a,b)};c.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1));this.xhr&&(this.xhr.removeEventListener?
(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null));if(this.isComplete)throw Error("Complete called again for an already completed resource.");this._setFlag(c.STATUS_FLAGS.COMPLETE,!0);this._setFlag(c.STATUS_FLAGS.LOADING,
!1);this.onComplete.dispatch(this)};c.prototype.abort=function(a){if(!this.error){this.error=Error(a);if(this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=c.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}};c.prototype.load=function(a){var b=this;if(!this.isLoading)if(this.isComplete)a&&setTimeout(function(){return a(b)},1);else{if(a)this.onComplete.once(a);this._setFlag(c.STATUS_FLAGS.LOADING,
!0);this.onStart.dispatch(this);if(!1===this.crossOrigin||"string"!==typeof this.crossOrigin)this.crossOrigin=this._determineCrossOrigin(this.url);switch(this.loadType){case c.LOAD_TYPE.IMAGE:this.type=c.TYPE.IMAGE;this._loadElement("image");break;case c.LOAD_TYPE.AUDIO:this.type=c.TYPE.AUDIO;this._loadSourceElement("audio");break;case c.LOAD_TYPE.VIDEO:this.type=c.TYPE.VIDEO;this._loadSourceElement("video");break;default:f&&this.crossOrigin?this._loadXdr():this._loadXhr()}}};c.prototype._hasFlag=
function(a){return!!(this._flags&a)};c.prototype._setFlag=function(a,b){this._flags=b?this._flags|a:this._flags&~a};c.prototype._loadElement=function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===a&&"undefined"!==typeof window.Image?new Image:document.createElement(a);this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);this.metadata.skipSource||(this.data.src=this.url);this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,
!1);this.data.addEventListener("progress",this._boundOnProgress,!1)};c.prototype._loadSourceElement=function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===a&&"undefined"!==typeof window.Audio?new Audio:document.createElement(a);if(null===this.data)this.abort("Unsupported element: "+a);else{if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var b=this.metadata.mimeType,c=0;c<
this.url.length;++c)this.data.appendChild(this._createSource(a,this.url[c],Array.isArray(b)?b[c]:b));else b=this.metadata.mimeType,this.data.appendChild(this._createSource(a,this.url,Array.isArray(b)?b[0]:b));this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.data.addEventListener("canplaythrough",this._boundComplete,!1);this.data.load()}};c.prototype._loadXhr=function(){"string"!==
typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XMLHttpRequest;a.open("GET",this.url,!0);a.responseType=this.xhrType===c.XHR_RESPONSE_TYPE.JSON||this.xhrType===c.XHR_RESPONSE_TYPE.DOCUMENT?c.XHR_RESPONSE_TYPE.TEXT:this.xhrType;a.addEventListener("error",this._boundXhrOnError,!1);a.addEventListener("abort",this._boundXhrOnAbort,!1);a.addEventListener("progress",this._boundOnProgress,!1);a.addEventListener("load",this._boundXhrOnLoad,!1);a.send()};c.prototype._loadXdr=
function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest;a.timeout=5E3;a.onerror=this._boundXhrOnError;a.ontimeout=this._boundXdrOnTimeout;a.onprogress=this._boundOnProgress;a.onload=this._boundXhrOnLoad;a.open("GET",this.url,!0);setTimeout(function(){return a.send()},1)};c.prototype._createSource=function(a,b,c){c||(c=a+"/"+this._getExtension(b));a=document.createElement("source");a.src=b;a.type=c;return a};c.prototype._onError=function(a){this.abort("Failed to load element using: "+
a.target.nodeName)};c.prototype._onProgress=function(a){a&&a.lengthComputable&&this.onProgress.dispatch(this,a.loaded/a.total)};c.prototype._xhrOnError=function(){var a=this.xhr;this.abort(d(a)+" Request failed. Status: "+a.status+', text: "'+a.statusText+'"')};c.prototype._xhrOnAbort=function(){this.abort(d(this.xhr)+" Request was aborted by the user.")};c.prototype._xdrOnTimeout=function(){this.abort(d(this.xhr)+" Request timed out.")};c.prototype._xhrOnLoad=function(){var a=this.xhr,b="",d="undefined"===
typeof a.status?200:a.status;if(""===a.responseType||"text"===a.responseType||"undefined"===typeof a.responseType)b=a.responseText;0===d&&(0<b.length||a.responseType===c.XHR_RESPONSE_TYPE.BUFFER)?d=200:1223===d&&(d=204);if(2===(d/100|0)){if(this.xhrType===c.XHR_RESPONSE_TYPE.TEXT)this.data=b,this.type=c.TYPE.TEXT;else if(this.xhrType===c.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(b),this.type=c.TYPE.JSON}catch(u){this.abort("Error trying to parse loaded json: "+u);return}else if(this.xhrType===
c.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser)this.data=(new DOMParser).parseFromString(b,"text/xml");else{var e=document.createElement("div");e.innerHTML=b;this.data=e}this.type=c.TYPE.XML}catch(u){this.abort("Error trying to parse loaded xml: "+u);return}else this.data=a.response||b;this.complete()}else this.abort("["+a.status+"] "+a.statusText+": "+a.responseURL)};c.prototype._determineCrossOrigin=function(a,c){if(0===a.indexOf("data:"))return"";c=c||window.location;l||(l=document.createElement("a"));
l.href=a;a=(0,b.default)(l.href,{strictMode:!0});var d=!a.port&&""===c.port||a.port===c.port,e=a.protocol?a.protocol+":":"";return a.host===c.hostname&&d&&e===c.protocol?"":"anonymous"};c.prototype._determineXhrType=function(){return c._xhrTypeMap[this.extension]||c.XHR_RESPONSE_TYPE.TEXT};c.prototype._determineLoadType=function(){return c._loadTypeMap[this.extension]||c.LOAD_TYPE.XHR};c.prototype._getExtension=function(){var a=this.url;if(this.isDataUrl){var b=a.indexOf("/");a=a.substring(b+1,a.indexOf(";",
b))}else{b=a.indexOf("?");var c=a.indexOf("#");a=a.substring(0,Math.min(-1<b?b:a.length,-1<c?c:a.length));a=a.substring(a.lastIndexOf(".")+1)}return a.toLowerCase()};c.prototype._getMimeFromXhrType=function(a){switch(a){case c.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case c.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case c.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case c.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}};e(c,[{key:"isDataUrl",
get:function(){return this._hasFlag(c.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(c.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(c.STATUS_FLAGS.LOADING)}}]);return c}();h.default=c;c.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};c.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};c.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};c.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",
JSON:"json",TEXT:"text"};c._loadTypeMap={gif:c.LOAD_TYPE.IMAGE,png:c.LOAD_TYPE.IMAGE,bmp:c.LOAD_TYPE.IMAGE,jpg:c.LOAD_TYPE.IMAGE,jpeg:c.LOAD_TYPE.IMAGE,tif:c.LOAD_TYPE.IMAGE,tiff:c.LOAD_TYPE.IMAGE,webp:c.LOAD_TYPE.IMAGE,tga:c.LOAD_TYPE.IMAGE,svg:c.LOAD_TYPE.IMAGE,"svg+xml":c.LOAD_TYPE.IMAGE,mp3:c.LOAD_TYPE.AUDIO,ogg:c.LOAD_TYPE.AUDIO,wav:c.LOAD_TYPE.AUDIO,mp4:c.LOAD_TYPE.VIDEO,webm:c.LOAD_TYPE.VIDEO};c._xhrTypeMap={xhtml:c.XHR_RESPONSE_TYPE.DOCUMENT,html:c.XHR_RESPONSE_TYPE.DOCUMENT,htm:c.XHR_RESPONSE_TYPE.DOCUMENT,
xml:c.XHR_RESPONSE_TYPE.DOCUMENT,tmx:c.XHR_RESPONSE_TYPE.DOCUMENT,svg:c.XHR_RESPONSE_TYPE.DOCUMENT,tsx:c.XHR_RESPONSE_TYPE.DOCUMENT,gif:c.XHR_RESPONSE_TYPE.BLOB,png:c.XHR_RESPONSE_TYPE.BLOB,bmp:c.XHR_RESPONSE_TYPE.BLOB,jpg:c.XHR_RESPONSE_TYPE.BLOB,jpeg:c.XHR_RESPONSE_TYPE.BLOB,tif:c.XHR_RESPONSE_TYPE.BLOB,tiff:c.XHR_RESPONSE_TYPE.BLOB,webp:c.XHR_RESPONSE_TYPE.BLOB,tga:c.XHR_RESPONSE_TYPE.BLOB,json:c.XHR_RESPONSE_TYPE.JSON,text:c.XHR_RESPONSE_TYPE.TEXT,txt:c.XHR_RESPONSE_TYPE.TEXT,ttf:c.XHR_RESPONSE_TYPE.BUFFER,
otf:c.XHR_RESPONSE_TYPE.BUFFER};c.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":12,"parse-uri":14}],203:[function(c,k,h){function g(){}function p(c){return function(){if(null===c)throw Error("Callback was already called.");var d=c;c=null;d.apply(this,arguments)}}h.__esModule=!0;h.eachSeries=function(c,e,b,a){var d=0,g=c.length;(function q(f){f||d===g?b&&b(f):a?setTimeout(function(){e(c[d++],q)},1):e(c[d++],q)})()};h.queue=function(c,
e){function b(a,b,c){if(null!=c&&"function"!==typeof c)throw Error("task callback must be a function");h.started=!0;null==a&&h.idle()?setTimeout(function(){return h.drain()},1):(a={data:a,callback:"function"===typeof c?c:g},b?h._tasks.unshift(a):h._tasks.push(a),setTimeout(function(){return h.process()},1))}function a(a){return function(){--d;a.callback.apply(a,arguments);null!=arguments[0]&&h.error(arguments[0],a.data);d<=h.concurrency-h.buffer&&h.unsaturated();h.idle()&&h.drain();h.process()}}if(null==
e)e=1;else if(0===e)throw Error("Concurrency must not be zero");var d=0,h={_tasks:[],concurrency:e,saturated:g,unsaturated:g,buffer:e/4,empty:g,drain:g,error:g,started:!1,paused:!1,push:function(a,c){b(a,!1,c)},kill:function(){d=0;h.drain=g;h.started=!1;h._tasks=[]},unshift:function(a,c){b(a,!0,c)},process:function(){for(;!h.paused&&d<h.concurrency&&h._tasks.length;){var b=h._tasks.shift();0===h._tasks.length&&h.empty();d+=1;d===h.concurrency&&h.saturated();c(b.data,p(a(b)))}},length:function(){return h._tasks.length},
running:function(){return d},idle:function(){return 0===h._tasks.length+d},pause:function(){!0!==h.paused&&(h.paused=!0)},resume:function(){if(!1!==h.paused){h.paused=!1;for(var a=1;a<=h.concurrency;a++)h.process()}}};return h}},{}],204:[function(c,k,h){h.__esModule=!0;h.encodeBinary=function(c){for(var d="",e=0;e<c.length;){for(var b=[0,0,0],a=[0,0,0,0],f=0;f<b.length;++f)b[f]=e<c.length?c.charCodeAt(e++)&255:0;a[0]=b[0]>>2;a[1]=(b[0]&3)<<4|b[1]>>4;a[2]=(b[1]&15)<<2|b[2]>>6;a[3]=b[2]&63;switch(e-
(c.length-1)){case 2:a[3]=64;a[2]=64;break;case 1:a[3]=64}for(b=0;b<a.length;++b)d+=g.charAt(a[b])}return d};var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],205:[function(c,k,h){h=c("./Loader").default;var g=c("./Resource").default,p=c("./async");c=c("./b64");h.Resource=g;h.async=p;h.base64=c;k.exports=h;k.exports.default=h},{"./Loader":201,"./Resource":202,"./async":203,"./b64":204}],206:[function(c,k,h){h.__esModule=!0;$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();
var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};h.blobMiddlewareFactory=function(){return function(b,a){if(b.data&&b.xhr&&b.xhrType===p.default.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||"string"===typeof b.data){var c=b.xhr.getResponseHeader("content-type");if(c&&0===c.indexOf("image")){b.data=
new Image;b.data.src="data:"+c+";base64,"+d.default.encodeBinary(b.xhr.responseText);b.type=p.default.TYPE.IMAGE;b.data.onload=function(){b.data.onload=null;a()};return}}else if(0===b.data.type.indexOf("image")&&(c=function(){var c=e.createObjectURL(b.data);b.blob=b.data;b.data=new Image;b.data.src=c;b.type=p.default.TYPE.IMAGE;b.data.onload=function(){e.revokeObjectURL(c);b.data.onload=null;a()};return{v:void 0}}(),"object"===("undefined"===typeof c?"undefined":g(c))))return c.v;a()}};var p=(k=c("../../Resource"))&&
k.__esModule?k:{default:k},d=(c=c("../../b64"))&&c.__esModule?c:{default:c},e=window.URL||window.webkitURL},{"../../Resource":202,"../../b64":204}],207:[function(c,k,h){(function(g){function h(a){return void 0!==a&&null!==a}function d(a,b,c,d){a=c-a;b=d-b;return a*a+b*b}function e(a,b,c,d){return b>c?c-d<a&&a<b+d:b-d<a&&a<c+d}function b(a){a.position={};a.position.x=0;a.position.y=0;a.position.set=function(b,c){a.position.x=b;a.position.y=c}}function a(){for(var a in L.planets)L.planets[a].outline.visible=
!1,L.planets[a].ghost.visible=!1,L.planets[a].ghost.outline.visible=!1,L.planets[a].drawLine.visible=!1;U=null;ja=0;K.resumePlugin("drag");K.resumePlugin("wheel")}function f(a,b){b||!h(b)?document.getElementById(a).style.visibility="visible":l(a)}function l(a){document.getElementById(a).style.visibility="hidden"}function r(a){var b=document.getElementById(a);v(a);b.style.color=M.GREY_TEXT;b.style.cursor="default";b.onmouseover=function(){this.style.backgroundColor="transparent"};b.setAttribute("enable_click",
!1)}function m(a,b){b||!h(b)?(a=document.getElementById(a),a.style.color="#FFF",a.style.cursor="pointer",a.onmouseover=function(){this.style.backgroundColor="rgba(200, 200, 200, 0.5)"},a.onmouseout=function(){this.style.backgroundColor="transparent"},a.setAttribute("enable_click",!0)):r(a)}function q(a){a=document.getElementById(a);return a.hasAttribute("enable_click")?"true"==a.getAttribute("enable_click"):!0}function y(a){var b=document.getElementById(a);q(a)&&(b.style.boxShadow="0 0 0 3px white",
b.setAttribute("button_selected",!0),document.getElementById(a).style.zIndex=2)}function v(a){var b=document.getElementById(a);b.style.boxShadow="none";b.setAttribute("button_selected",!1);document.getElementById(a).style.zIndex=1}function u(a,b){document.getElementById(a).innerHTML=b}function A(){f(w.Text.CONNECTION_MESSAGE);var a=ka.connect();a.onerror=function(a){console.log("The WebSocket experienced an error");console.log(a)};a.onclose=function(a){console.log("The WebSocket was closed ["+a.code+
"] ("+a.reason+")");ma&&t();Ea++;fa=ma=!1;x();A()};a.onopen=function(a){console.log("The WebSocket was opened succesfully!");Ea=-1;ma=!0;l(w.Text.CONNECTION_MESSAGE);fa=!1;x()};a.onmessage=function(a){try{var b=JSON.parse(a.data);switch(b.type){case G.PING_PROBE:ka.ws.send(JSON.stringify({type:G.PING_PROBE}));break;case G.PING_SET:na=b.ping;u(w.Text.PING,"Ping: "+na+"ms");break;case G.UPDATE_PIXELS:V.pixels=b.pl;break;case G.BUY_SHIPS:L.getPlanetByID(b.pl).createShips(b.n);break;case G.FORM_FAIL:z(b.reason);
break;case G.JOIN_GAME:B();oa=6E3;Fa=b.gameID;pa=[];V=null;f(w.Button.START);f(w.Button.QUIT);f(w.Text.ID_DISPLAY1);f(w.Text.ID_DISPLAY2);u(w.Text.ID_DISPLAY2,Fa);f(w.Button.TEAM_RED);f(w.Button.TEAM_ORANGE);f(w.Button.TEAM_YELLOW);f(w.Button.TEAM_GREEN);f(w.Button.TEAM_BLUE);f(w.Button.TEAM_PURPLE);f(w.List.TEAM_RED);f(w.List.TEAM_ORANGE);f(w.List.TEAM_YELLOW);f(w.List.TEAM_GREEN);f(w.List.TEAM_BLUE);f(w.List.TEAM_PURPLE);f(w.Text.PING);break;case G.CREATE_SYSTEM:L=new Y;break;case G.CREATE_ORBIT:var c=
new wa(b.x,b.y,b.radius);c.id=b.id;L.addOrbit(c);break;case G.CREATE_PLANET:var d=new T(ha.planet1.texture,b.scale,b.rotationConstant,b.startAngle,b.opm);d.id=b.id;L.addPlanet(d);break;case G.SET_PLANET_ORBIT:d=L.getPlanetByID(b.planet);c=L.getOrbit(b.orbit);d.setOrbit(c);break;case G.CREATE_SPAWN:d=L.getPlanetByID(b.planet);b.force?d.createSpawn(!0):(d.spawnCounter-=d.spawnRate*na,d.createSpawn(!1),d.spawnCounter+=d.spawnRate*na);break;case G.SET_PLANET_TEAM:d=L.getPlanetByID(b.planet);var e=P(b.team);
d.setTeam(e);break;case G.SHOW_SYSTEM:K.addChild(L);B();f(w.Text.PING);f(w.Text.PIXELS);f(w.Text.SHIPS);L.play();L.update(0);L.pause();u(w.Text.COUNTDOWN,"Starting Game in "+Math.ceil(oa/1E3));f(w.Text.COUNTDOWN);K.pausePlugin("drag");K.pausePlugin("pinch");K.pausePlugin("wheel");ta=!1;break;case G.START_GAME:oa-=250;u(w.Text.COUNTDOWN,"Starting Game in "+Math.ceil(oa/1E3));0>=oa&&(L.play(),L.update(na/1E3),l(w.Text.COUNTDOWN),K.resumePlugin("drag"),K.resumePlugin("pinch"),K.resumePlugin("wheel"),
ta=!0);break;case G.CREATE_TEAMS:pa=[];for(var g in b.teams)pa.push(new ca(b.teams[g].colour,b.teams[g].id));break;case G.UPDATE_TEAMS:document.getElementById(w.List.TEAM_RED).innerHTML="";document.getElementById(w.List.TEAM_ORANGE).innerHTML="";document.getElementById(w.List.TEAM_YELLOW).innerHTML="";document.getElementById(w.List.TEAM_GREEN).innerHTML="";document.getElementById(w.List.TEAM_BLUE).innerHTML="";document.getElementById(w.List.TEAM_PURPLE).innerHTML="";for(g in pa)pa[g].players=[];for(g in b.teams){e=
b.teams[g];var h=e.id,k;for(k in e.players){var p=e.players[k];P(h).addPlayer(new Ga(p));switch(h){case 0:var q=document.getElementById(w.List.TEAM_RED);break;case 1:q=document.getElementById(w.List.TEAM_ORANGE);break;case 2:q=document.getElementById(w.List.TEAM_YELLOW);break;case 3:q=document.getElementById(w.List.TEAM_GREEN);break;case 4:q=document.getElementById(w.List.TEAM_BLUE);break;case 5:q=document.getElementById(w.List.TEAM_PURPLE)}var r=document.createElement("li");r.appendChild(document.createTextNode(p));
q.appendChild(r)}}break;case G.UPDATE_MESSAGE:m(w.Button.START,b.startEnabled),f(w.Text.MESSAGE),u(w.Text.MESSAGE,b.message),f(w.Text.PLAYER_COUNT),u(w.Text.PLAYER_COUNT,"Players: ("+b.playerCount+"/"+b.maxPlayers+")"),V=P(b.team)}}catch(Na){console.log(Na)}}}function t(){ta=!0;L&&(K.removeChild(L),L=null);fa=!1;B();f(w.Text.CONNECTION_MESSAGE,!ma);var a=!0;f(w.Button.JOIN);f(w.Button.CREATE);m(w.Button.RANDOM);la?(y(w.Button.JOIN),v(w.Button.CREATE)):Ha?(v(w.Button.JOIN),y(w.Button.CREATE),Z=!1,
da=!0,r(w.Button.RANDOM)):(v(w.Button.CREATE),v(w.Button.JOIN),a=!1);a?(f(w.Button.RANDOM),f(w.Button.WITH_FRIENDS)):(l(w.Button.RANDOM),l(w.Button.WITH_FRIENDS));Z?(y(w.Button.RANDOM),v(w.Button.WITH_FRIENDS)):da?(v(w.Button.RANDOM),y(w.Button.WITH_FRIENDS)):(v(w.Button.RANDOM),v(w.Button.WITH_FRIENDS),a=!1);if(a){f(w.Text.USERNAME);f(w.Input.USERNAME);f(w.Text.ID,la&&da);f(w.Input.ID,la&&da);f(w.Text.PLAYERS,Z);f(w.Button.PLAYERS_2,Z);f(w.Button.PLAYERS_3,Z);f(w.Button.PLAYERS_4,Z);f(w.Button.PLAYERS_8,
Z);f(w.Button.PLAYERS_16,Z);f(w.Button.ANY_PLAYERS,Z);if(Z)switch(v(w.Button.PLAYERS_2),v(w.Button.PLAYERS_3),v(w.Button.PLAYERS_4),v(w.Button.PLAYERS_8),v(w.Button.PLAYERS_16),v(w.Button.ANY_PLAYERS),Ia){default:y(w.Button.ANY_PLAYERS);break;case 2:y(w.Button.PLAYERS_2);break;case 3:y(w.Button.PLAYERS_3);break;case 4:y(w.Button.PLAYERS_4);break;case 8:y(w.Button.PLAYERS_8);break;case 16:y(w.Button.PLAYERS_16)}f(w.Button.START);x()}else l(w.Text.USERNAME),l(w.Input.USERNAME),l(w.Text.ID),l(w.Input.ID),
l(w.Button.PLAYERS_2),l(w.Button.PLAYERS_3),l(w.Button.PLAYERS_4),l(w.Button.PLAYERS_8),l(w.Button.PLAYERS_16),l(w.Button.ANY_PLAYERS),l(w.Button.START)}function x(){if(fa)return r(w.Button.START),!1;if(Z||da){l(w.Image.USERNAME_CHECK);l(w.Image.USERNAME_CROSS);l(w.Image.ID_CHECK);l(w.Image.ID_CROSS);var a=R.test(document.getElementById(w.Input.USERNAME).value);a?(f(w.Image.USERNAME_CHECK),xa=!0):xa&&f(w.Image.USERNAME_CROSS);var b=la&&da,c;b&&((c=aa.test(document.getElementById(w.Input.ID).value))?
(f(w.Image.ID_CHECK),ya=!0):ya&&f(w.Image.ID_CROSS));za||l(w.Text.MESSAGE);if(a)if(!b||c){if(ma)return m(w.Button.START),!0}else ya&&z("Game ID must be 6 characters, letters and numbers only");else xa&&z("Username must be 3-20 characters, letters and numbers only");r(w.Button.START);return!1}}function z(a){u(w.Text.MESSAGE,a);f(w.Text.MESSAGE);fa?(za=!0,fa=!1):za=!1}function B(){for(i in w)for(j in w[i])l(w[i][j])}function D(a){a.style.background="rgba(200, 200, 200, 0.5)"}function C(a){a.style.background=
"rgba(0, 0, 0, 0)"}function H(){for(i in w.Button){var a=document.getElementById(w.Button[i]);a.setAttribute("touch",!1);a.addEventListener("mouseover",function(a){"false"==a.target.getAttribute("touch")&&D(a.target)},!1);a.addEventListener("mouseleave",function(a){C(a.target)},!1);a.addEventListener("touchstart",function(a){D(a.target)},!1);a.addEventListener("touchend",function(a){C(a.target);a.target.setAttribute("touch",!0);setTimeout(function(){a.target.setAttribute("touch",!1)},10)},!1);a.addEventListener("mousedown",
function(a){D(a.target);"true"==a.target.getAttribute("touch")&&setTimeout(function(){C(a.target)},100)},!1)}}function E(a,b){B();f("input");f("top_display");ha=b;lastElapsed=Date.now();ba.ticker.add(ia);K.fitHeight(800);K.moveCenter(0,0);H();O();ka=new ua;t();A()}function F(){Aa=qa=!1;K.removePlugin("snap");K.removePlugin("snap-zoom")}function N(){K.removePlugin("follow");ra=null}function I(){Aa||(F(),Aa=!0,N(),K.snap(0,0,{time:300,removeOnComplete:!0,center:!0,ease:"easeInOutSine"}),K.snapZoom({height:800,
time:300,removeOnComplete:!0,center:!0,ease:"easeOutQuart"}))}function O(){window.scrollTo(0,0);if(K.center)var a=K.center;var b=K.worldScreenHeight,c=window.innerWidth,d=window.innerHeight;ba.renderer.resize(c,d);K.resize(c,d,c,d);K.fitHeight(b,!1);a&&K.moveCenter(a);F();a=window.innerWidth/500;b=window.innerHeight/500;a=a<b?a:b;Da||(a*=.75);document.getElementById("input").style.transform="translate(-50%, -50%) scale("+a+")";document.getElementById("top_display").style.transform="scale("+a+")"}
function P(a){for(var b in this.teams)if(this.teams[b].id==a)return this.teams[b];return null}function ia(){PIXI.keyboardManager.isPressed(J.P)&&(V.pixels+=5E11);PIXI.keyboardManager.isPressed(J.O);PIXI.keyboardManager.isPressed(J.L);PIXI.keyboardManager.isPressed(J.W)||PIXI.keyboardManager.isDown(J.W);if(PIXI.keyboardManager.isPressed(J.ESCAPE)||PIXI.keyboardManager.isPressed(J.A)||PIXI.keyboardManager.isPressed(J.D)||PIXI.keyboardManager.isPressed(J.SPACE))U?a():I();PIXI.keyboardManager.update();
var b=Date.now(),c=b-lastElapsed;lastElapsed=b;L&&(L.update(.001*c),b=h(ra)&&ra.isMyPlanet(),V.shipCount!=Ja&&(Ja=V.shipCount,u(w.Text.SHIPS,"Ships: "+V.shipCount),X(b,!1,!0)),V.pixels!=Ka&&(Ka=V.pixels,u(w.Text.PIXELS,"Pixels: "+V.pixels),X(b,!0,!1)),b!=La&&(La=b,f(w.Button.BUY_SPAWN,b),f(w.Button.BUY_SHIPS_1000,b),f(w.Button.BUY_SHIPS_100,b),f(w.Button.BUY_SHIPS_10,b),X(b,!0,!0)))}function X(a,b,c){b&&(m(w.Button.BUY_SHIPS_1000,800<=V.pixels),m(w.Button.BUY_SHIPS_100,90<=V.pixels),m(w.Button.BUY_SHIPS_10,
10<=V.pixels),a&&10<=ra.spawnCount()?(u(w.Button.BUY_SPAWN,"MAX SPAWNS"),r(w.Button.BUY_SPAWN)):(u(w.Button.BUY_SPAWN,"1 Spawn (200P)"),m(w.Button.BUY_SPAWN,200<=V.pixels)))}c("pixi.js");Viewport=c("pixi-viewport");window.PIXI=PIXI;window.PIXI["default"]=PIXI;c("pixi-particles");c("pixi-keyboard");try{h(g)&&(g.isServer=!0)}catch(Ma){window.isServer=!1}var R=/^([A-Za-z0-9]{3,20})$/,aa=/^([A-Za-z0-9]{6})$/,G={BUY_SHIPS:1,PING_PROBE:2,PING_SET:3,UPDATE_PIXELS:4,FORM_FAIL:5,CREATE_SYSTEM:6,CREATE_ORBIT:7,
CREATE_PLANET:8,SET_PLANET_ORBIT:9,CREATE_TEAMS:10,SET_PLANET_TEAM:11,SET_CLIENT_TEAM:12,START_GAME:13,START_BUTTON:14,POPULATE_TEAM:15,CLEAR_TEAMS:16,CLEAR_TEAM_GUI:17,JOIN_GAME:18,JOIN_TEAM:19,QUIT:20,FORM_SEND:21,SHOW_SYSTEM:22,UPDATE_TEAMS:23,UPDATE_MESSAGE:24,CREATE_SPAWN:25},M={BACKGROUND:2763825,DASHED_LINE:4737873,DARK1:1974564,DARK2:2763825,DARK3:3092790,DARK4:3290170,DARK5:3553598,DARK6:4737873,DARK7:7105904,DARK8:8290436,DARK9:11119276,WHITE:16777215,GREY_TEXT:"#888",RED:16746632,ORANGE:16759626,
YELLOW:16777062,GREEN:11206570,BLUE:7838207,PURPLE:12290269};isServer&&(g.exists=h,g.LOCAL_DEBUG=!0,g.PORT=3141,g.USERNAME_REGEX=R,g.ID_REGEX=aa,g.Pack=G,g.COUNTDOWN_TIME=6E3,g.COUNTDOWN_INTERVAL=250,g.COUNTDOWN_PACKET_SENDS=24,g.Colour=M,g.MAX_SPAWNS=10,g.PLANET_SELECT_RADIUS=40,g.SUN_COLLISION_RADIUS=30,g.TICKS_PER_COLLISION_UPDATE=10,g.MIN_PLAYERS=2,g.MAX_PLAYERS=48,g.ID_LENGTH=6,g.ID_CHARACTERS="ABCDEFGHJKMNOPQRSTUVWXYZ23456789",g.TICKS_PER_SECOND=30,g.SKEW_THRESHOLD=5,g.PING_INTERVAL=500,g.SOCKET_TIMEOUT=
1E4,g.STARTING_PIXELS=100);var W=/^([A-Za-z0-9])$/,w={Button:{JOIN:"b_join",CREATE:"b_create",RANDOM:"b_random",WITH_FRIENDS:"b_friends",PLAYERS_2:"b_p2",PLAYERS_3:"b_p3",PLAYERS_4:"b_p4",PLAYERS_8:"b_p8",PLAYERS_16:"b_p16",ANY_PLAYERS:"b_pRnd",START:"b_start",QUIT:"b_quit",TEAM_RED:"b_team_red",TEAM_ORANGE:"b_team_orange",TEAM_YELLOW:"b_team_yellow",TEAM_GREEN:"b_team_green",TEAM_BLUE:"b_team_blue",TEAM_PURPLE:"b_team_purple",BUY_SPAWN:"b_buy_spawn",BUY_SHIPS_1000:"b_buy_1000ships",BUY_SHIPS_100:"b_buy_100ships",
BUY_SHIPS_10:"b_buy_10ships"},Text:{ID_DISPLAY1:"t_id_display1",ID_DISPLAY2:"t_id_display2",PLAYER_COUNT:"t_players_display",PING:"t_ping",PIXELS:"t_pixels",SHIPS:"t_ships",USERNAME:"t_user",ID:"t_id",PLAYERS:"t_players",CONNECTION_MESSAGE:"t_connecting",MESSAGE:"t_message",COUNTDOWN:"t_countdown"},List:{TEAM_RED:"l_team_red",TEAM_ORANGE:"l_team_orange",TEAM_YELLOW:"l_team_yellow",TEAM_GREEN:"l_team_green",TEAM_BLUE:"l_team_blue",TEAM_PURPLE:"l_team_purple"},Input:{USERNAME:"i_user",ID:"i_id"},Image:{USERNAME_CHECK:"p_userG",
USERNAME_CROSS:"p_userB",ID_CHECK:"p_idG",ID_CROSS:"p_idB"}},J={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,PAUSE:19,CTRL:17,ALT:18,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CMD:91,CMD_RIGHT:93,NUM_0:96,NUM_1:97,NUM_2:98,NUM_3:99,
NUM_4:100,NUM_5:101,NUM_6:102,NUM_7:103,NUM_8:104,NUM_9:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMI_COLON:186,EQUAL:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,SINGLE_QUOTE:222},Q={alpha:{start:1,end:0},scale:{start:2,end:1,minimumScaleMultiplier:1},color:{start:"ffffff",end:"f0ffff"},speed:{start:195,
end:2,minimumSpeedMultiplier:1},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:0,max:360},noRotation:!0,rotationSpeed:{min:0,max:0},lifetime:{min:1,max:1},blendMode:"normal",frequency:.5,emitterLifetime:-1,maxParticles:1,pos:{x:0,y:0},addAtBack:!1,spawnType:"point"},va={alpha:{start:.2,end:0},scale:{start:1,end:1,minimumScaleMultiplier:1},color:{start:"ffffff",end:"f0ffff"},speed:{start:20,end:0,minimumSpeedMultiplier:.2},acceleration:{x:1,y:1},maxSpeed:0,startRotation:{min:0,max:360},noRotation:!0,
rotationSpeed:{min:0,max:0},lifetime:{min:1,max:1},blendMode:"normal",frequency:.03333,emitterLifetime:-1,maxParticles:32,pos:{x:0,y:0},addAtBack:!1,spawnType:"point"};isServer&&(g.distSqr=d,g.exists=h,g.isBetween=e);isServer&&(g.addPosition=b);var ea=10,U,ja=0,S,Da;isServer||(Da=function(a){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4))}(navigator.userAgent||navigator.vendor||window.opera));var wa=function(a,b,c){var d=PIXI.Graphics.call(this)||this;d.x=a;d.y=b;d.radius=c;if(!isServer){var e=Math.max(Math.floor(Math.PI*c/25),2),f=25/c,g=2*Math.PI/e-f;if(0>=g)d.lineStyle(1.4,M.DASHED_LINE),d.arc(a,b,c,0,2*Math.PI);else for(var h=0;h<e;h++){var k=h*(f+g),l=k+f,m=l+g;d.lineStyle(1.4,M.DASHED_LINE);d.arc(a,b,c,k,l);d.lineStyle(1.4,M.BACKGROUND,0);d.arc(a,b,c,l,m)}}return d};$jscomp.inherits(wa,PIXI.Graphics);isServer&&(k.exports=
wa);var T=function(a,c,d,e,f){var g=PIXI.Sprite.call(this,a)||this;g.radius=isServer?.5*a:.5*g.width;if(isServer)g.scale=c,g.infantry={};else{g.pivot.set(g.radius,g.radius);g.infantry=new PIXI.particles.Emitter(g,ha.infantry.texture,Q);g.infantry.updateSpawnPos(g.radius,g.radius);g.infantry.emit=!1;var h=new PIXI.Graphics;h.lineStyle(1.4*46,M.DARK8);h.arc(g.radius,g.radius,3*g.radius,0,7);h.visible=!1;g.outline=g.addChild(h);h=new PIXI.Graphics;h.lineStyle(1.4*c*46,M.DARK8);h.arc(c*g.radius,c*g.radius,
c*g.radius*3,0,7);h.visible=!1;g.scale.set(c)}g.spawnRate=0;g.spawnCounter=0;g.radius*=c;g.startAngle=e;g.opm=f;isServer||(c=new PIXI.Graphics,c.lineStyle(2.8,M.DARK8),c.arc(g.radius,g.radius,g.radius,0,7),c.visible=!1,c.pivot.set(g.radius,g.radius),c.outline=c.addChild(h),g.ghost=L.addChild(c));g.speed=1/60*f*2*Math.PI;g.rotationConstant=d;g.age=e/g.speed;isServer?(b(g),g.spawns=0):g.spawns=[];g.team=null;g.id=null;g.ships=[];g.shipCount=0;return g};$jscomp.inherits(T,PIXI.Sprite);T.prototype.update=
function(a){this.age+=a;var b=this.calcPosition();this.position.set(b.x,b.y);isServer||(this.rotation=this.age*this.rotationConstant,this.orbit&&(this.orbit.rotation=-this.age*this.speed/8),this.infantry.update(a));if(isServer||this.isMyPlanet())this.spawnCounter+=this.spawnRate*a,a=Math.floor(this.spawnCounter),0<a&&(this.spawnCounter-=a,this.team.pixels+=a)};T.prototype.timeToFastestIntersect=function(a){var b=a.orbit.radius,c=this.position.x,d=this.position.y;b=b*b+c*c+d*d;for(var e=0,f=0;1E3>
f;){f++;var g=a.calcPosition(e);g=Math.sqrt((b-2*(c*g.x+d*g.y))/225)-e;if(.5>g)break;else e=2>g?e+.1:4>g?e+.5:e+1}return e};T.prototype.calcPosition=function(a){a||(a=0);if(!this.orbit)return{x:0,y:0};var b=this.orbit.radius;a=this.age+a;return{x:Math.cos(a*this.speed)*b,y:Math.sin(a*this.speed)*b}};T.prototype.isMyPlanet=function(){return h(this.team)?this.team.id===V.id:!1};T.prototype.isTeamsPlanet=function(a){return this.team.id===a.id};T.prototype.setTeam=function(a){this.team=a;if(isServer)this.system.game.sendPlayers({type:G.SET_PLANET_TEAM,
planet:this.id,team:a.id});else{this.tint=a=h(a)?a.colour:16777215;this.outline.tint=a;this.ghost.tint=a;this.ghost.outline.tint=a;this.drawLine.tint=a;for(var b in this.spawns)this.spawns[b].tint=a}};T.prototype.createShipsClick=function(a,b){ka.ws.send(JSON.stringify({type:G.BUY_SHIPS,pl:this.id,n:a,c:b}))};T.prototype.createShips=function(a,b){if(isServer){if(this.team.pixels>=b&&0<a){var c=!1;10>=a&&10<=b?c=!0:100>=a&&90<=b?c=!0:1E3>=a&&800<=b&&(c=!0);c&&(this.shipCount+=a,this.team.pixels-=b,
this.team.updateClientPixels(),this.system.game.sendPlayers({type:G.BUY_SHIPS,pl:this.id,n:a}))}}else{for(b=0;b<a;b++)if(100>this.shipCount+b){c=new PIXI.Sprite(ha.ship.texture);var d=2*Math.PI*Math.random(),e=this.radius/this.scale.x+60,f=e*Math.cos(d)+this.radius/this.scale.x;e=e*Math.sin(d)+this.radius/this.scale.x;c.tint=this.tint;c.pivot.set(.5*c.width,.5*c.height);c.position.set(f,e);c.rotation=d+Math.PI/2;this.addChild(c);this.ships.push(c)}this.shipCount+=a;this.team.shipCount+=a}};T.prototype.removeShips=
function(a){if(!isServer){var b=Math.min(a,Math.max(0,100-this.shipCount+a));if(0<b){for(var c=0;c<b&&c<this.ships.length;c++)this.removeChild(this.ships[c]);this.ships.splice(0,b)}}this.shipCount-=a;this.team.shipCount-=a};T.prototype.sendShipsTo=function(a,b){this.removeShips(b);var c=this.timeToFastestIntersect(S),d=S.calcPosition(c);this.system.sendingShips.push(L.addChild(new sa(this.position.x,this.position.y,d.x,d.y,15,b,this.tint,a,c)))};T.prototype.spawnCount=function(){return isServer?this.spawns:
this.spawns.length};T.prototype.createSpawnClick=function(){ka.ws.send(JSON.stringify({type:G.CREATE_SPAWN,pl:this.id}))};T.prototype.createSpawn=function(a){var b=!1;if(isServer)a?b=!0:200<=this.team.pixels&&10>this.spawnCount()&&(b=!0,this.team.pixels-=200),b&&(this.system.game.sendPlayers({type:G.CREATE_SPAWN,planet:this.id,force:this.force}),this.spawns++);else{this.team&&!a&&(this.team.pixels-=200);a=new PIXI.Sprite(ha.spawn.texture);b=6*Math.PI*this.spawnCount()/10;var c=this.radius/this.scale.x+
-8,d=c*Math.cos(b)+this.radius/this.scale.x;c=c*Math.sin(b)+this.radius/this.scale.x;a.tint=this.tint;a.pivot.set(.5*a.width,a.height);a.scale.set(1.3);a.position.set(d,c);a.rotation=b+Math.PI/2;this.addChild(a);this.spawns.push(a);b=!0}b&&(this.spawnRate=a=this.spawnCount()*this.spawnCount(),isServer||(this.infantry.maxParticles=a,this.infantry.frequency=1/a,this.infantry.emit=0<a))};T.prototype.setOrbit=function(a){this.orbit=a;isServer&&this.system.game.sendPlayers({type:G.SET_PLANET_ORBIT,planet:this.id,
orbit:a.id})};isServer&&(k.exports=T);var sa=function(a,c,d,e,f,g,h,k,l){if(isServer){var m=PIXI.Sprite.call(this)||this;b(m)}else m=PIXI.Sprite.call(this,ha.ship.texture)||this,m.pivot.set(.5,.5),m.anchor.set(.5,.5),m.scale.set(.5),m.position.set(a,c),m.tint=h;m.amount=g;m.planet=k;m.duration=l;m.cumulativeDuration=0;m.fromX=a;m.fromY=c;m.toX=d;m.toY=e;m.speed=f;a=d-a;c=e-c;e=Math.sqrt(a*a+c*c);m.vX=a*f/e;m.vY=c*f/e;m.rotation=(0<m.vX?1:-1)*(Math.PI/2+Math.asin(m.vY/f));return m};$jscomp.inherits(sa,
PIXI.Sprite);sa.prototype.update=function(a){this.cumulativeDuration+=a;this.cumulativeDuration>=this.duration?this.arrive():(this.position.x+=this.vX*a,this.position.y+=this.vY*a)};sa.prototype.arrive=function(){isServer||L.removeChild(this)};isServer&&(k.exports=sa);var Y=function(){var a=PIXI.Container.call(this)||this;isServer||(a.sun=new PIXI.particles.Emitter(a,ha.sunTexture.texture,va),a.sun.emit=!0);a.orbits=[];a.planets=[];a.sendingShips=[];a.paused=!0;return a};$jscomp.inherits(Y,PIXI.Container);
Y.prototype.play=function(){this.paused=!1};Y.prototype.pause=function(){this.paused=!0};Y.prototype.update=function(a){if(!this.paused)for(var b in this.planets)this.planets[b].update(a);if(!isServer&&(this.sun.update(a),!this.paused)){if(U){var c=K.toWorld(ba.renderer.plugins.interaction.mouse.global);ea++;10<ea&&(ea=0,S=null);for(var f in L.planets)if(L.planets[f]!=U){var g=L.planets[f];if(0==ea){g.outline.visible=!1;g.ghost.outline.visible=!1;var h=U.position.x,k=U.position.y,l=U.timeToFastestIntersect(g),
m=g.calcPosition(l),p=m.x-h,q=m.y-k,r=!1;if(e(0,h,m.x,30)&&e(0,k,m.y,30)){var t=-q,u=p,v=h*q-p*k;u=v*v/(t*t+u*u);900>u&&(r=!0)}if(!r)for(n in L.planets)if(L.planets[n]!=U&&L.planets[n]!=g){t=L.planets[n];var w=t.calcPosition(l);if(e(w.x,h,m.x,t.radius)&&e(w.y,k,m.y,t.radius)&&(u=-q,v=p,w=u*w.x+v*w.y+(h*q-p*k),u=w*w/(u*u+v*v),u<t.radius*t.radius)){r=!0;break}}g.drawLine.visible=!r;g.ghost.visible=!r;(g.ghost.visible=!r)&&g.ghost.position.set(m.x,m.y);if(!r&&(h=d(c.x,c.y,m.x,m.y),k=d(c.x,c.y,g.position.x,
g.position.y),l=d(0,0,0,g.radius+40),h<l||k<l))if(S){if(l=d(c.x,c.y,S.position.x,S.position.y),m=d(c.x,c.y,S.ghost.position.x,S.ghost.position.y),h<l&&h<m||k<l&&k<m)S=g}else S=g}g.drawLine.setPoints(g.ghost.position.x,g.ghost.position.y,U.position.x,U.position.y)}0==ea&&S&&(S.outline.visible=!0,S.ghost.outline.visible=!0)}for(b in this.sendingShips)this.sendingShips[b].update(a)}};Y.prototype.getPlanet=function(a,b){for(var c in this.planets){var e=this.planets[c].radius+40;if(d(a,b,this.planets[c].x,
this.planets[c].y)<e*e)return this.planets[c]}return null};Y.prototype.addOrbit=function(a){this.orbits.push(a);a.system=this;if(isServer)return a.id=this.game.createID(),this.game.sendPlayers({type:G.CREATE_ORBIT,id:a.id,x:a.x,y:a.y,radius:a.radius}),a;this.addChild(a)};Y.prototype.getOrbit=function(a){for(var b in this.orbits)if(this.orbits[b].id==a)return this.orbits[b];return null};Y.prototype.addPlanet=function(a){this.planets.push(a);a.system=this;if(isServer)return a.id=this.game.createID(),
this.game.sendPlayers({type:G.CREATE_PLANET,id:a.id,scale:a.scale,rotationConstant:a.rotationConstant,startAngle:a.startAngle,opm:a.opm}),a;this.addChild(a);var b=new Ba(2);b.setPoints(0,0);a.drawLine=this.addChild(b)};Y.prototype.getPlanetByID=function(a){for(var b in this.planets)if(this.planets[b].id==a)return this.planets[b];return null};isServer&&(k.exports=Y);var ca=function(a,b){this.players=[];this.planets=[];this.colour=a;this.id=b;this.shipCount=this.pixels=0};$jscomp.inherits(ca,Object);
ca.prototype.addPlayer=function(a){a.team=this;this.players.push(a)};ca.prototype.removePlayer=function(a){a.team=null;a=this.players.indexOf(a);-1!=a&&this.players.splice(a,1)};ca.prototype.setPixels=function(a){this.pixels=a;this.updateClientPixels()};ca.prototype.updateClientPixels=function(){isServer&&this.sendTeam({type:G.UPDATE_PIXELS,pl:this.pixels})};ca.prototype.sendTeam=function(a){a=JSON.stringify(a);for(var b in this.players)this.players[b].send(a)};isServer&&(k.exports=ca);var Ba=function(a,
b){var c=PIXI.Graphics.call(this)||this;c.l_width=a||5;c.l_colour=b||"0xFFFFFF";return c};$jscomp.inherits(Ba,PIXI.Graphics);Ba.prototype.setPoints=function(a,b,c,d){this.clear();this.lineStyle(this.l_width,this.l_colour);this.moveTo(a,b);this.lineTo(c,d)};var Ea=-1,ma=!1,za=!1,fa=!1,la=!1,Ha=!1,Z=!1,da=!1,Ia=4,xa=!1,ya=!1;document.onkeypress=function(a){var b=a.keyCode;if(q(w.Button.START)){var c=String.fromCharCode(a.which);if(b==J.ENTER){if(R.test(document.getElementById(w.Input.USERNAME).value)&&
(!la||!da||aa.test(document.getElementById(w.Input.ID).value)))return x()&&(u(w.Text.MESSAGE,"Joining game..."),f(w.Text.MESSAGE),b=la&&da,b={type:G.FORM_SEND,host:Ha,user:document.getElementById(w.Input.USERNAME).value,id:b?document.getElementById(w.Input.ID).value:"",players:Ia},ka.ws.send(JSON.stringify(b)),fa=!0),a.preventDefault(),!1}else if(!W.test(c)&&b!=J.BACKSPACE&&b!=J.DELETE&&b!=J.TAB&&b!=J.ESCAPE&&b!=J.ENTER&&b!=J.CTRL&&b!=J.SHIFT&&b!=J.CMD&&b!=J.ALT&&b!=J.F1&&b!=J.F2&&b!=J.F3&&b!=J.F4&&
b!=J.F5&&b!=J.F6&&b!=J.F7&&b!=J.F8&&b!=J.F9&&b!=J.F10&&b!=J.F11&&b!=J.F12)return a.preventDefault(),!1}else if(b==J.ENTER)return a.preventDefault(),!1};var Ga=function(a){this.name=a};$jscomp.inherits(Ga,Object);try{var Ca=location.host.split(":")[0]}catch(Ma){Ca="localhost"}var ua=function(){this.ws=null};$jscomp.inherits(ua,Object);ua.prototype.connect=function(a){return this.ws=(a=h(a)?a:!1)?new WebSocket("wss://"+Ca+":3141"):new WebSocket("ws://"+Ca+":3141")};ua.prototype.parse=function(a,b){};
var ba=new PIXI.Application(600,600,{antialias:!0,transparent:!1});window.onorientationchange=O;ba.view.style.position="absolute";ba.view.style.display="block";document.body.appendChild(ba.view);ba.renderer.autoResize=!0;ba.renderer.backgroundColor=M.BACKGROUND;document.addEventListener("contextmenu",function(a){return a.preventDefault()});var K=new Viewport({screenWidth:600,screenHeight:600,worldWidth:600,worldHeight:600,ticker:ba.ticker});ba.stage.addChild(K);K.drag().wheel().pinch({percent:4.5}).clampZoom({minWidth:1,
minHeight:100,maxWidth:6E5,maxHeight:1E3}).decelerate();window.onload=function(){PIXI.loader.add("sunTexture","game/assets/sun.png").add("planet1","game/assets/planet1.png").add("planet2","game/assets/planet2.png").add("ship","game/assets/ship.png").add("spawn","game/assets/spawn.png").add("infantry","game/assets/infantry.png").load(E)};var V,L,pa,ka,na=200,ha,qa=!1,Aa=!1;K.on("drag-start",function(a){F();N()});K.on("pinch-start",F);K.on("wheel",F);K.on("clicked",function(b){if(ta&&L)if(U)S&&U.sendShipsTo(S,
ja),a();else if(F(),b=L.getPlanet(b.world.x,b.world.y)){var c=K.plugins.follow;c&&c.target==b?PIXI.keyboardManager.isDown(J.SHIFT)?K.snapZoom({height:800,time:300,removeOnComplete:!0,ease:"easeInOutSine"}):K.snapZoom({height:250,time:300,removeOnComplete:!0,ease:"easeInOutSine"}):(qa=b,b=b.calcPosition(.3),K.snap(b.x,b.y,{time:300,removeOnComplete:!0,ease:"easeOutQuart"}),PIXI.keyboardManager.isDown(J.SHIFT)||K.snapZoom({height:250,time:300,removeOnComplete:!0,ease:"easeInOutSine"}))}else N(),I()});
var ta=!0;K.on("snap-end",function(){qa&&(K.follow(qa),ra=qa);F()});var Ka=-1,Ja=-1,La=!0,ra,Fa=null,oa}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"pixi-keyboard":33,"pixi-particles":34,"pixi-viewport":47,"pixi.js":164}]},{},[207]);
